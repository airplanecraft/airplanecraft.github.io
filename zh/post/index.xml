<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Claridade</title>
    <link>https://www.airplanecraft.com/zh/post/</link>
    <description>Recent content in Posts on Claridade</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Tue, 01 Apr 2025 23:33:35 +0800</lastBuildDate><atom:link href="https://www.airplanecraft.com/zh/post/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>量化指标</title>
      <link>https://www.airplanecraft.com/zh/post/quant-indicator/</link>
      <pubDate>Tue, 01 Apr 2025 23:33:35 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/quant-indicator/</guid>
      <description>
        
          
            &lt;h3 id=&#34;2-动态水平&#34;&gt;2. 动态水平&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;移动平均支撑&lt;/strong&gt;&lt;br&gt;
如50/200日均线&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;波动通道边界&lt;/strong&gt;&lt;br&gt;
布林带上下轨&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;六统计与数学类statistical-indicators&#34;&gt;六、统计与数学类（Statistical Indicators）&lt;/h2&gt;
&lt;h3 id=&#34;1-回归分析&#34;&gt;1. 回归分析&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;线性回归通道&lt;/strong&gt;&lt;br&gt;
基于最小二乘法拟合&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;标准差通道&lt;/strong&gt;&lt;br&gt;
波动范围概率分布&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-相关性分析&#34;&gt;2. 相关性分析&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;相关系数&lt;/strong&gt;&lt;br&gt;
Pearson系数计算&lt;br&gt;
&lt;code&gt;范围&lt;/code&gt;：-1（负相关）到+1（正相关）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;协整检验&lt;/strong&gt;&lt;br&gt;
配对交易基础&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;七自定义脚本custom-scripts&#34;&gt;七、自定义脚本（Custom Scripts）&lt;/h2&gt;
&lt;h3 id=&#34;1-多指标融合&#34;&gt;1. 多指标融合&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;MACD+RSI组合策略&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;入场条件&lt;/code&gt;：MACD金叉且RSI&amp;gt;50&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;布林带收缩突破&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;过滤条件&lt;/code&gt;：带宽&amp;lt;ATR均值&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-高级算法&#34;&gt;2. 高级算法&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;机器学习集成&lt;/strong&gt;&lt;br&gt;
Pine Script调用Python模型&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;情绪分析指标&lt;/strong&gt;&lt;br&gt;
结合新闻API数据&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;技术指标组合应用矩阵&#34;&gt;技术指标组合应用矩阵&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;交易场景&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;推荐指标组合&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;参数设置示例&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;趋势跟踪&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;EMA(50)+MACD+ADX&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;EMA周期50，MACD(12,26,9)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;震荡市交易&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;RSI(14)+布林带&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;RSI超买/超卖阈值调整&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;突破策略&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;成交量突破+波动率收缩&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;突破前高+ATR&amp;lt;10日均值&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;风险管理&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ATR止损+波动率仓位控制&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;3倍ATR止损，仓位=2%风险&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;提示&lt;/strong&gt;：所有指标均可通过TradingView顶部菜单栏的&amp;quot;Indicators&amp;quot;按钮添加，支持实时参数调整和策略回测。&lt;/p&gt;
&lt;/blockquote&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>雪球场外交易</title>
      <link>https://www.airplanecraft.com/zh/post/quant-snowball-otc/</link>
      <pubDate>Tue, 01 Apr 2025 22:30:35 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/quant-snowball-otc/</guid>
      <description>
        
          
            &lt;h1 id=&#34;雪球场外交易snowball-otc详解&#34;&gt;雪球场外交易（Snowball OTC）详解&lt;/h1&gt;
&lt;h2 id=&#34;一雪球产品的核心特点&#34;&gt;一、雪球产品的核心特点&lt;/h2&gt;
&lt;h3 id=&#34;1-收益结构&#34;&gt;1. 收益结构&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;固定票息&lt;/strong&gt;：持有期间定期获得约定利息（如年化15%）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;条件性赎回&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;敲出（自动终止）&lt;/strong&gt;：若标的资产价格在观察日超过预设水平，产品提前终止，投资者获得本金+票息。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;敲入（风险触发）&lt;/strong&gt;：若标的资产价格跌破预设阈值，投资者可能承担本金损失（如挂钩标的最终跌幅）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-常见类型&#34;&gt;2. 常见类型&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;保本型&lt;/strong&gt;：敲入未触发时保本，触发后可能亏损。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;非保本型&lt;/strong&gt;：即使未敲入，也可能因标的下跌亏损。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;二雪球场外交易的运作机制&#34;&gt;二、雪球场外交易的运作机制&lt;/h2&gt;
&lt;h3 id=&#34;1-参与方&#34;&gt;1. 参与方&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;投资者&lt;/strong&gt;：主要为高净值个人、私募基金等合格投资者。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;交易商&lt;/strong&gt;：券商、银行、衍生品做市商（如中金、中信等），负责设计产品并担任对手方。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;中介机构&lt;/strong&gt;：部分财富管理机构代销产品。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-交易流程&#34;&gt;2. 交易流程&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;定制条款&lt;/strong&gt;：双方协商标的资产、期限（通常1-2年）、票息率、敲入/敲出价格等。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;签署协议&lt;/strong&gt;：通过ISDA（国际衍生品协议）或NAFMII（中国银行间市场协议）框架签约。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;资金交割&lt;/strong&gt;：投资者支付本金，交易商提供收益结构。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;动态对冲&lt;/strong&gt;：交易商通过场内期货、期权等对冲风险。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-定价与收益来源&#34;&gt;3. 定价与收益来源&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;波动率套利&lt;/strong&gt;：交易商赚取产品隐含波动率与市场实际波动率的差价。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;方向性风险&lt;/strong&gt;：若标的走势与对冲模型偏离，交易商可能亏损。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;三雪球场外交易的优势与风险&#34;&gt;三、雪球场外交易的优势与风险&lt;/h2&gt;
&lt;h3 id=&#34;优势&#34;&gt;优势&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;高收益潜力&lt;/strong&gt;：票息率远高于普通理财（如年化10%-20%）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;灵活定制&lt;/strong&gt;：标的、期限、敲入/敲出条件均可协商。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;风险可控（部分场景）&lt;/strong&gt;：若未触发敲入且提前敲出，投资者可快速获利。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;风险&#34;&gt;风险&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;本金损失风险&lt;/strong&gt;：若标的暴跌且触发敲入，可能亏损（如2022年中证500雪球集中敲入）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;流动性差&lt;/strong&gt;：OTC产品无二级市场，提前赎回需支付高额违约金。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;交易对手风险&lt;/strong&gt;：若交易商违约，投资者可能无法获赔。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;信息不对称&lt;/strong&gt;：复杂结构可能导致投资者误解条款。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;四典型案例分析&#34;&gt;四、典型案例分析&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;案例&lt;/strong&gt;：某挂钩中证500指数的2年期雪球产品&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;票息&lt;/strong&gt;：年化15%，按月付息。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;敲出条件&lt;/strong&gt;：每月观察，若指数较期初上涨5%，产品终止，返还本金+票息。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;敲入条件&lt;/strong&gt;：每日观察，若指数较期初下跌25%，触发敲入。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;到期结算&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;若未敲入且未敲出：返还本金+剩余票息。&lt;/li&gt;
&lt;li&gt;若敲入但未敲出：投资者承担指数跌幅（如到期指数跌30%，则亏损30%）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;结果&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;若中证500指数在1年后上涨6%触发敲出，投资者获得15%年化收益。&lt;/li&gt;
&lt;li&gt;若指数在6个月后跌至-26%触发敲入，且到期时指数跌30%，投资者亏损30%。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;五监管与市场现状&#34;&gt;五、监管与市场现状&lt;/h2&gt;
&lt;h3 id=&#34;1-中国监管要求&#34;&gt;1. 中国监管要求&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;仅限专业投资者（金融资产≥500万元或最近3年收入≥40万元）。&lt;/li&gt;
&lt;li&gt;交易商需具备衍生品资质（如券商一级交易商资格）。&lt;/li&gt;
&lt;li&gt;2023年加强销售适当性管理，禁止夸大宣传“保本高收益”。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-市场规模&#34;&gt;2. 市场规模&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;2023年中国雪球产品存量规模约2000亿元，主要挂钩中证500、中证1000指数。&lt;/li&gt;
&lt;li&gt;主要发行方：中信证券、中金公司、华泰证券等头部券商。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;六投资者建议&#34;&gt;六、投资者建议&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;充分理解条款&lt;/strong&gt;：重点关注敲入/敲出条件、亏损情景和流动性限制。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;分散配置&lt;/strong&gt;：避免过度集中于单一标的或期限的雪球产品。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;评估交易商信用&lt;/strong&gt;：选择资本实力强、对冲能力优的机构。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;警惕市场极端波动&lt;/strong&gt;：高波动率下敲入风险显著上升（如2022年A股下跌导致大量雪球敲入）。&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;总结&#34;&gt;总结&lt;/h2&gt;
&lt;p&gt;雪球场外交易通过&lt;strong&gt;定制化衍生结构&lt;/strong&gt;提供高收益机会，但需承担&lt;strong&gt;非线性风险&lt;/strong&gt;。其本质是投资者向交易商“出售波动率”，适合对市场有中性/震荡预期且风险承受能力较强的专业投资者。普通投资者应谨慎参与，避免因信息不对称导致重大损失。&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>国债逆回购</title>
      <link>https://www.airplanecraft.com/zh/post/quant-treasury-bond-reverse-repo/</link>
      <pubDate>Tue, 01 Apr 2025 21:30:35 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/quant-treasury-bond-reverse-repo/</guid>
      <description>
        
          
            &lt;h1 id=&#34;国债与国债逆回购详解&#34;&gt;国债与国债逆回购详解&lt;/h1&gt;
&lt;h2 id=&#34;一什么是国债&#34;&gt;一、什么是国债？&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;国债&lt;/strong&gt;（Government Bond）是国家政府为筹集财政资金而发行的债券，是政府向投资者出具的、承诺在一定时期支付利息和到期偿还本金的债权债务凭证。&lt;/p&gt;
&lt;h3 id=&#34;特点&#34;&gt;特点：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;安全性高&lt;/strong&gt;：由国家信用背书，违约风险极低（除非国家破产）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;流动性强&lt;/strong&gt;：可在二级市场买卖，变现容易。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;收益稳定&lt;/strong&gt;：利息固定，适合保守型投资者。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;示例&lt;/strong&gt;：&lt;br&gt;
中国发行的“储蓄国债”或美国“10年期国债”均属于此类。&lt;/p&gt;
&lt;h2 id=&#34;二什么是国债逆回购&#34;&gt;二、什么是国债逆回购？&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;国债逆回购&lt;/strong&gt;是一种短期资金借贷行为，本质是投资者通过&lt;strong&gt;出借资金&lt;/strong&gt;，以国债为抵押品，获取固定利息收益。&lt;/p&gt;
&lt;h3 id=&#34;参与方&#34;&gt;参与方：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;资金借出方&lt;/strong&gt;（逆回购方）：如普通投资者、金融机构，提供资金并收取利息。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;资金借入方&lt;/strong&gt;（正回购方）：如银行、券商，抵押国债获取短期资金。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;交易流程&#34;&gt;交易流程：&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;投资者通过证券账户操作“卖出”国债逆回购（如代码&lt;code&gt;204001&lt;/code&gt;代表1天期）。&lt;/li&gt;
&lt;li&gt;交易所将国债抵押给投资者，资金划入借入方账户。&lt;/li&gt;
&lt;li&gt;到期后，借入方归还本金+利息，抵押的国债解押。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;期限&#34;&gt;期限：&lt;/h3&gt;
&lt;p&gt;常见1天、7天、14天等，最短1天，最长182天。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;示例&lt;/strong&gt;：&lt;br&gt;
若投资者操作“1天期国债逆回购”10万元，年化利率2%，则次日收益为：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;10万 × 2\% ÷ 365 ≈ 5.48元
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;三为什么要进行国债逆回购目的解析&#34;&gt;三、为什么要进行国债逆回购？目的解析&lt;/h2&gt;
&lt;h3 id=&#34;1-对投资者的目的&#34;&gt;1. 对投资者的目的&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;获取低风险收益&lt;/strong&gt;&lt;br&gt;
逆回购以国债为抵押，几乎无违约风险，适合短期闲置资金保值增值。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;灵活性强&lt;/strong&gt;&lt;br&gt;
期限短（如1天），资金T+1可用，T+2可取，不影响股票交易。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;收益波动机会&lt;/strong&gt;&lt;br&gt;
市场资金紧张时（如月末、季末、节假日前），逆回购利率可能飙升（曾达10%+）。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;适用场景&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;股票账户闲置资金在收盘后操作1天期逆回购，赚取隔夜利息。&lt;/li&gt;
&lt;li&gt;节假日期间通过多日逆回购锁定收益。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;2-对金融机构的目的&#34;&gt;2. 对金融机构的目的&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;短期融资需求&lt;/strong&gt;&lt;br&gt;
银行、券商等机构可能因流动性管理、应对监管考核（如月末存贷比）需要短期资金，通过逆回购快速融资。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;低成本融资&lt;/strong&gt;&lt;br&gt;
逆回购利率通常低于信用贷款或同业拆借利率，降低融资成本。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;3-对中央银行的目的公开市场操作&#34;&gt;3. 对中央银行的目的（公开市场操作）&lt;/h3&gt;
&lt;p&gt;央行通过逆回购向市场&lt;strong&gt;投放流动性&lt;/strong&gt;，调节货币供应量，稳定金融市场。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;宽松信号&lt;/strong&gt;&lt;br&gt;
央行逆回购增加 → 向市场释放资金 → 降低市场利率，刺激经济。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;紧缩信号&lt;/strong&gt;&lt;br&gt;
逆回购到期后不续作 → 回收流动性 → 市场利率上升，抑制通胀。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;示例&lt;/strong&gt;：&lt;br&gt;
2020年新冠疫情初期，美联储通过大规模逆回购向市场注入数万亿美元流动性。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;四国债逆回购-vs-正回购&#34;&gt;四、国债逆回购 vs 正回购&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;对比项&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;国债逆回购&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;国债正回购&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;角色&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;资金借出方（收利息）&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;资金借入方（付利息）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;抵押品&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;获得国债作为抵押&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;提供国债作为抵押&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;风险&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;极低（有国债抵押）&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;需承担抵押品价值波动风险&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;参与者&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;个人/机构均可参与&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;主要为金融机构&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;五如何操作国债逆回购&#34;&gt;五、如何操作国债逆回购？&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;开通证券账户&lt;/strong&gt;：需有股票账户并开通债券交易权限。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;选择品种&lt;/strong&gt;：输入逆回购代码（如沪市&lt;code&gt;204001&lt;/code&gt;，深市&lt;code&gt;131810&lt;/code&gt;）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;下单交易&lt;/strong&gt;：选择“卖出”（因交易方向为出借资金），输入金额与利率。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;自动结算&lt;/strong&gt;：到期日本息自动到账，无需手动赎回。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;注意事项&lt;/strong&gt;：&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>量化与数学1</title>
      <link>https://www.airplanecraft.com/zh/post/quant-maths-1/</link>
      <pubDate>Mon, 31 Mar 2025 21:30:35 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/quant-maths-1/</guid>
      <description>
        
          
            &lt;h1 id=&#34;量化中的高斯分布方差黄金分割与斐波那契数列关系&#34;&gt;量化中的高斯分布、方差、黄金分割与斐波那契数列关系&lt;/h1&gt;
&lt;h2 id=&#34;1-高斯分布与方差统计建模的基石&#34;&gt;1. 高斯分布与方差：统计建模的基石&lt;/h2&gt;
&lt;h3 id=&#34;高斯分布正态分布&#34;&gt;高斯分布（正态分布）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;定义&lt;/strong&gt;：资产收益率分布的经典模型，参数为均值 ( \mu ) 和方差 ( \sigma^2 )。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;应用&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;期权定价（Black-Scholes模型）&lt;/li&gt;
&lt;li&gt;风险价值（VaR）计算&lt;/li&gt;
&lt;li&gt;统计套利的均值回归假设&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;局限性&lt;/strong&gt;：实际数据常呈现“肥尾”，需用复杂模型（如GARCH）修正。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;方差与标准差&#34;&gt;方差与标准差&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;作用&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;量化波动性（方差 ( \sigma^2 ) 是高斯分布的关键参数）&lt;/li&gt;
&lt;li&gt;风险管理（止损设定）、组合优化（马科维茨模型）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;扩展工具&lt;/strong&gt;：波动率通道（如布林带）、历史波动率分析。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;2-黄金分割与斐波那契数列技术分析的经验工具&#34;&gt;2. 黄金分割与斐波那契数列：技术分析的经验工具&lt;/h2&gt;
&lt;h3 id=&#34;黄金分割0618&#34;&gt;黄金分割（≈0.618）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;数学定义&lt;/strong&gt;：( \phi = \frac{1+\sqrt{5}}{2} \approx 1.618 )，其倒数 ( \phi^{-1} \approx 0.618 )&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;来源&lt;/strong&gt;：斐波那契数列相邻项比值的极限。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;斐波那契数列&#34;&gt;斐波那契数列&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;递推公式&lt;/strong&gt;：( F_n = F_{n-1} + F_{n-2} )&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;关键比例&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;23.6%（( F_n/F_{n+3} )）&lt;/li&gt;
&lt;li&gt;38.2%（( F_n/F_{n+2} )）&lt;/li&gt;
&lt;li&gt;61.8%（( F_n/F_{n+1} )）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;技术分析应用&#34;&gt;技术分析应用&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;斐波那契回调&lt;/strong&gt;：预测价格调整的支撑/阻力位（如61.8%回调位）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;斐波那契扩展&lt;/strong&gt;：趋势延续目标位（如161.8%扩展位）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;时间周期分析&lt;/strong&gt;：用斐波那契数列长度预测变盘窗口。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;3-四者的协同关系统计模型与经验规律的结合&#34;&gt;3. 四者的协同关系：统计模型与经验规律的结合&lt;/h2&gt;
&lt;h3 id=&#34;1-波动率方差与斐波那契水平的结合&#34;&gt;(1) 波动率（方差）与斐波那契水平的结合&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;动态调整支撑/阻力&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;用历史波动率计算统计波动范围（如±1σ）；&lt;/li&gt;
&lt;li&gt;叠加斐波那契回调水平验证重合点。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;示例&lt;/strong&gt;：价格回调至61.8%且接近+1σ波动带上沿时触发卖出信号。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-高斯分布对斐波那契策略的验证&#34;&gt;(2) 高斯分布对斐波那契策略的验证&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;概率过滤&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;计算斐波那契回调位处于高斯分布尾部的概率；&lt;/li&gt;
&lt;li&gt;若价格触及61.8%回调位且处于±2σ外，可能预示反转。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;示例&lt;/strong&gt;：均值回归策略中，价格偏离均值超过2σ且触及斐波那契支撑位时开仓。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-黄金分割与波动率通道&#34;&gt;(3) 黄金分割与波动率通道&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;自适应通道设计&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;用波动率构建布林带；&lt;/li&gt;
&lt;li&gt;黄金分割比例（0.618）替代传统2σ倍数作为通道宽度。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;示例&lt;/strong&gt;：布林带宽度设为0.618倍波动率，观察价格边界反应。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;4-实际应用案例&#34;&gt;4. 实际应用案例&lt;/h2&gt;
&lt;h3 id=&#34;案例1趋势跟踪策略&#34;&gt;案例1：趋势跟踪策略&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;用斐波那契扩展位（如161.8%）设定盈利目标；&lt;/li&gt;
&lt;li&gt;基于历史波动率计算持仓周期和止损范围；&lt;/li&gt;
&lt;li&gt;若价格触及目标位且波动率收缩，平仓锁定收益。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;案例2均值回归策略&#34;&gt;案例2：均值回归策略&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;价格触及斐波那契61.8%回调位时假设支撑；&lt;/li&gt;
&lt;li&gt;计算Z-Score（价格偏离均值的标准差）；&lt;/li&gt;
&lt;li&gt;若Z-Score &amp;gt; 2（概率&amp;lt;2.5%），触发买入信号。&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;5-核心差异与注意事项&#34;&gt;5. 核心差异与注意事项&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;工具&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;数学基础&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;量化中的角色&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;局限性&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;高斯分布与方差&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;概率论与统计学&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;客观统计建模、风险评估&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;忽略肥尾效应&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;黄金分割&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;几何比例与数论&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;主观经验信号生成&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;缺乏经济学解释&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;斐波那契数列&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;递推数列与极限比例&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;市场心理预期刻画&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;依赖市场共识&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;关键注意&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;黄金分割和斐波那契反映&lt;strong&gt;市场心理&lt;/strong&gt;，需结合统计验证；&lt;/li&gt;
&lt;li&gt;警惕高斯分布的“肥尾”风险；&lt;/li&gt;
&lt;li&gt;现代量化将技术指标作为因子之一，与统计模型结合回测。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;6-总结工具的本质与量化思维&#34;&gt;6. 总结：工具的本质与量化思维&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;统计框架&lt;/strong&gt;（高斯分布与方差）：
&lt;ul&gt;
&lt;li&gt;提供&lt;strong&gt;客观概率模型&lt;/strong&gt;，量化不确定性。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;经验规则&lt;/strong&gt;（黄金分割与斐波那契）：
&lt;ul&gt;
&lt;li&gt;捕捉&lt;strong&gt;群体行为模式&lt;/strong&gt;，生成交易信号。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;协同逻辑&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;用统计模型过滤技术信号可靠性；&lt;/li&gt;
&lt;li&gt;用技术分析修正统计模型盲点（如极端事件）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>财报里面的利润指标</title>
      <link>https://www.airplanecraft.com/zh/post/quant-financial-report-profit-related/</link>
      <pubDate>Mon, 31 Mar 2025 21:20:35 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/quant-financial-report-profit-related/</guid>
      <description>
        
          
            &lt;h2 id=&#34;港股财报利润指标对比表含非营业利润&#34;&gt;港股财报利润指标对比表（含非营业利润）&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;指标名称&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;定义&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;计算公式&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;使用场景/意义&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;注意事项&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;毛利润&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;企业销售商品或服务后，扣除直接成本（如原材料、人工）后的利润。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;毛利润 = 营业收入 - 营业成本&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;反映企业核心业务的盈利能力，衡量产品或服务的毛利率。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;未包含运营费用（如销售、管理费用），可能高估实际利润。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;营业利润&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;毛利润扣除所有运营费用（销售、管理、研发等）后的利润。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;营业利润 = 毛利润 - 销售费用 - 管理费用 - 研发费用 - 其他运营费用&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;体现企业主营业务的经营效率，排除非经常性损益影响。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;未考虑利息、税收等财务成本。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;非营业利润&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;企业非主营业务活动产生的利润（如投资收益、政府补贴、资产出售等）。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;非营业利润 = 投资收益 + 政府补贴 + 资产处置收益 - 非经常性损失&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;反映企业非核心业务的收益，可能具有偶然性或不可持续性。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;需区分持续性收益与一次性收益，警惕通过非营业利润修饰报表。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;EBITDA&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;税息折旧及摊销前利润（未扣除利息、税项、折旧和摊销的利润）。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;EBITDA = 营业利润 + 折旧费用 + 摊销费用&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;评估企业现金流和经营效率，常用于高资本支出行业（如电信、能源）。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;忽略资本支出和财务结构，可能高估实际现金流。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;EBIT&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;息税前利润（扣除利息和税项前的利润）。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;EBIT = 营业利润 + 非营业利润&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;衡量企业整体盈利能力（含非核心业务），排除资本结构和税收影响。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;包含非经常性收益，可能掩盖主营业务问题。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;税前利润&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;扣除利息但未缴纳所得税前的利润。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;税前利润 = EBIT - 利息支出&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;用于分析企业税务负担和税前盈利能力。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;需结合税率判断税后实际利润。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;净利润&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;企业最终利润，扣除所有成本、费用、利息、税项后的净收益。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;净利润 = 税前利润 - 所得税&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;反映企业整体盈利能力，直接影响股东分红和股价。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;包含非经常性损益（如资产出售、减值），需关注持续性。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;归母净利润&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;归属于母公司所有者的净利润，排除少数股东权益后的净利润。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;归母净利润 = 净利润 - 少数股东损益&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;反映母公司股东实际可分配的利润，是财报的核心指标之一。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;若子公司占比较大，归母净利润可能与净利润差异显著。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;扣非净利润&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;扣除非经常性损益后的净利润（如一次性政府补贴、资产处置收益等）。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;扣非净利润 = 净利润 - 非经常性损益&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;排除偶然性收益，反映企业持续经营的真实盈利能力。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;需关注非经常性损益的具体构成（可能隐藏财务风险）。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;关键对比总结&#34;&gt;关键对比总结&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;层级关系&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;毛利润 → 营业利润 → 非营业利润 → EBITDA/EBIT → 税前利润 → 净利润 → 归母净利润&lt;/code&gt;&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>量化因子发现与选择方法</title>
      <link>https://www.airplanecraft.com/zh/post/quantitative-factor-discovery-and-selection-methods/</link>
      <pubDate>Sun, 30 Mar 2025 21:40:35 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/quantitative-factor-discovery-and-selection-methods/</guid>
      <description>
        
          
            &lt;h1 id=&#34;量化交易中的因子发现与筛选方法&#34;&gt;量化交易中的因子发现与筛选方法&lt;/h1&gt;
&lt;hr&gt;
&lt;h2 id=&#34;一因子发现方法&#34;&gt;一、因子发现方法&lt;/h2&gt;
&lt;h3 id=&#34;1-数据驱动挖掘&#34;&gt;1. &lt;strong&gt;数据驱动挖掘&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;统计方法&lt;/strong&gt;：通过相关性分析、协整检验、Granger因果检验等，从历史数据中寻找与收益率显著相关的变量。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;机器学习&lt;/strong&gt;：使用随机森林、LASSO回归、梯度提升树（如XGBoost）等算法自动提取有效特征。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;事件驱动&lt;/strong&gt;：分析财报发布、政策变化、市场事件对价格的影响（如财报超预期因子）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-理论驱动构建&#34;&gt;2. &lt;strong&gt;理论驱动构建&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;行为金融学&lt;/strong&gt;：基于投资者心理偏差设计因子（如过度反应因子、羊群效应因子）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;风险溢价理论&lt;/strong&gt;：捕捉风险溢价（如波动率风险溢价、流动性溢价）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;套利定价理论（APT）&lt;/strong&gt;：基于多因子模型（如Fama-French三因子、五因子模型）。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;二常见因子类型&#34;&gt;二、常见因子类型&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;因子类别&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;典型因子示例&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;应用场景&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;技术因子&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;动量、波动率、换手率、RSI、布林带&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;短期趋势跟踪、反转策略&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;基本面因子&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;市盈率（PE）、市净率（PB）、ROE&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;价值投资、长线选股&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;情绪因子&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;新闻舆情、社交媒体热度、期权隐含波动率&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;事件驱动、市场情绪对冲&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;另类数据因子&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;卫星图像数据、供应链数据、ESG评分&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;行业轮动、ESG主题投资&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;三因子筛选流程&#34;&gt;三、因子筛选流程&lt;/h2&gt;
&lt;h3 id=&#34;1-初步筛选&#34;&gt;1. &lt;strong&gt;初步筛选&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;显著性检验&lt;/strong&gt;：剔除p值&amp;gt;0.05的因子（如通过t检验或ANOVA）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;相关性过滤&lt;/strong&gt;：剔除与其他因子相关性&amp;gt;0.7的冗余因子（如使用皮尔逊相关系数矩阵）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-样本外测试&#34;&gt;2. &lt;strong&gt;样本外测试&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;分层回测&lt;/strong&gt;：将因子在训练集（样本内）和测试集（样本外）分别测试，剔除样本外表现显著下降的因子。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;过拟合检验&lt;/strong&gt;：通过随机数据生成器（如White&#39;s Reality Check）验证因子有效性。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-经济逻辑验证&#34;&gt;3. &lt;strong&gt;经济逻辑验证&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;理论一致性&lt;/strong&gt;：剔除与经济逻辑矛盾的因子（如“股价尾号为8的股票收益更高”缺乏逻辑支撑）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;稳定性分析&lt;/strong&gt;：剔除在不同市场周期（牛市/熊市）表现不稳定的因子。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;四策略案例多因子选股策略&#34;&gt;四、策略案例：多因子选股策略&lt;/h2&gt;
&lt;h3 id=&#34;1-因子库选择&#34;&gt;1. &lt;strong&gt;因子库选择&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;假设因子库包含以下候选因子：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;动量因子&lt;/strong&gt;（20日收益率）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;波动率因子&lt;/strong&gt;（60日收益率标准差）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;质量因子&lt;/strong&gt;（ROE排名）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;价值因子&lt;/strong&gt;（市盈率倒数）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;换手率因子&lt;/strong&gt;（5日平均换手率）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-筛选过程&#34;&gt;2. &lt;strong&gt;筛选过程&lt;/strong&gt;&lt;/h3&gt;
&lt;h4 id=&#34;剔除因子质量因子roe排名&#34;&gt;&lt;strong&gt;剔除因子：质量因子（ROE排名）&lt;/strong&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;原因&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;多重共线性&lt;/strong&gt;：与价值因子（市盈率倒数）相关性高达0.85。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;样本外失效&lt;/strong&gt;：在2020-2023年回测中，质量因子在测试集的IC（信息系数）从0.12降至-0.05。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;保留因子动量波动率换手率&#34;&gt;&lt;strong&gt;保留因子：动量、波动率、换手率&lt;/strong&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;原因&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;动量因子&lt;/strong&gt;：样本内外IC均&amp;gt;0.1，且与波动率因子相关性仅0.3。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;波动率因子&lt;/strong&gt;：在熊市中表现稳定（IC=0.18），符合“低波动异象”理论。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;换手率因子&lt;/strong&gt;：高频数据中与短期动量形成互补（相关性0.2）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-策略构建&#34;&gt;3. &lt;strong&gt;策略构建&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;信号生成&lt;/strong&gt;：
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 组合权重：动量(40%) + 波动率(30%) + 换手率(30%)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;generate_signal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;momentum&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;close&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pct_change&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;volatility&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;close&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pct_change&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rolling&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;60&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;turnover_rank&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;turnover&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rank&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# 综合得分&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;score&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;momentum&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;volatility&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;turnover_rank&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;score&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rank&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>高频交易量化因子的选择</title>
      <link>https://www.airplanecraft.com/zh/post/quant-high-frequency-tranding-with-factors/</link>
      <pubDate>Sun, 30 Mar 2025 21:20:35 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/quant-high-frequency-tranding-with-factors/</guid>
      <description>
        
          
            &lt;h1 id=&#34;高频量化交易中的因子发现与策略类型&#34;&gt;高频量化交易中的因子发现与策略类型&lt;/h1&gt;
&lt;hr&gt;
&lt;h2 id=&#34;一高频量化因子的发现方法&#34;&gt;一、高频量化因子的发现方法&lt;/h2&gt;
&lt;h3 id=&#34;1-数据来源&#34;&gt;1. 数据来源&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;订单簿数据&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;买卖盘口价格、挂单量、撤单量、订单队列深度&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;逐笔成交数据&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;成交时间、价格、成交量、主动买卖方向&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;市场微观结构数据&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;隐含波动率、流动性指标（如买卖价差）、订单流不平衡（OFI）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;另类数据&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;新闻舆情、Level 3行情、交易所高频情绪指标&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-因子挖掘技术&#34;&gt;2. 因子挖掘技术&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;统计方法&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;自相关性分析&lt;/strong&gt;：识别价格或订单流的短期惯性&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;协整检验&lt;/strong&gt;：发现跨市场/品种的短期均衡关系&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;高频波动率分解&lt;/strong&gt;：基于已实现波动率（Realized Volatility）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;机器学习&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;时间序列模型&lt;/strong&gt;：LSTM/Transformer捕捉订单流时序模式&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;强化学习&lt;/strong&gt;：动态优化报价策略（如库存管理）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;微观结构理论&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;订单流不平衡（OFI）&lt;/strong&gt;：公式定义：&lt;br&gt;
$$ OFI_t = \sum_{i=1}^n \left( Q_{bid,i,t} \cdot \Delta P_{bid,i,t} - Q_{ask,i,t} \cdot \Delta P_{ask,i,t} \right) $$&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;二高频量化策略类型及核心因子&#34;&gt;二、高频量化策略类型及核心因子&lt;/h2&gt;
&lt;h3 id=&#34;1-做市策略market-making&#34;&gt;1. 做市策略（Market Making）&lt;/h3&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;策略要素&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;实现细节&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;核心因子&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;买卖价差、订单簿深度、库存风险&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;示例逻辑&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;动态调整报价，根据持仓量修正报价偏向&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;代码片段&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;market_making_strategy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;order_book&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;bid_price&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;order_book&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;best_bid&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# 买价略高于买一&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;ask_price&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;order_book&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;best_ask&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# 卖价略低于卖一&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# 库存风险管理&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;inventory&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;max_position&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;ask_price&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.3&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# 加速平仓&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bid_price&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ask_price&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 2. 动量策略（Momentum）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;策略要素&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;实现细节&lt;/span&gt;                                                                 &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|----------------|--------------------------------------------------------------------------|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;核心因子&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;短期收益率&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;秒&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）、&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;成交量加权价格&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;VWAP&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）、&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;主动买单占比&lt;/span&gt;               &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;示例逻辑&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;突破前高时跟随趋势&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;结合成交量过滤噪音&lt;/span&gt;                                   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;代码片段&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;```&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;momentum_strategy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tick_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;vwap&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tick_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;price&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tick_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;volume&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tick_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;volume&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tick_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;last_price&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vwap&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1.001&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tick_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;buy_volume&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tick_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sell_volume&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;BUY&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 3. 反转策略（Mean Reversion）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;策略要素&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;实现细节&lt;/span&gt;                                                                 &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|----------------|--------------------------------------------------------------------------|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;核心因子&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;盘口回撤概率&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;、&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;短期已实现波动率&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;分钟&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）、&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;买卖压力差&lt;/span&gt;                      &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;示例逻辑&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;价格突破盘口后快速回撤时反向操作&lt;/span&gt;                                         &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;代码片段&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;```&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;mean_reversion_strategy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tick_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tick_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;price&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tick_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;best_ask&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1.002&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;31&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tick_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sell_volume&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tick_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;buy_volume&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;32&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;SELL&amp;#39;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# 预期价格回撤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;33&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 4. 套利策略（Arbitrage）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;34&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;策略要素&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;实现细节&lt;/span&gt;                                                                 &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;35&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|----------------|--------------------------------------------------------------------------|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;36&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;核心因子&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;跨市场价差&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;、&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;期现基差&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;、&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;统计套利残差&lt;/span&gt;                                      &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;37&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;示例逻辑&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;检测BTC在币安与火币的价差超过0&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;.5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;时套利&lt;/span&gt;                                 &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;38&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;代码片段&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;39&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;```&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;40&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cross_exchange_arbitrage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;price_binance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;price_huobi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;41&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;abs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;price_binance&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;price_huobi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;price_binance&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.005&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;42&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;OPEN_ARB_POSITION&amp;#39;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# 触发套利&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;43&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;44&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 5. 事件驱动策略&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;45&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;策略要素&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;实现细节&lt;/span&gt;                                                                 &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;46&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|----------------|--------------------------------------------------------------------------|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;47&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;核心因子&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;大单检测&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;日均量1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）、&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;新闻情感得分&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;、&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;订单流突变&lt;/span&gt;                         &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;48&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;示例逻辑&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;识别机构拆单行为后的趋势延续性&lt;/span&gt;                                           &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;49&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;代码片段&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;50&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;```&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;51&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;iceberg_order_detection&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tick_sequence&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;52&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tick_sequence&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;volume&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rolling&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;avg_volume&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;53&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tick_sequence&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;price&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;diff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;abs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.01&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;54&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;FOLLOW_TREND&amp;#39;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# 检测到冰山订单&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;55&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;56&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;57&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 三、高频因子筛选与验证&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;58&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;59&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 1. 筛选标准&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;60&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;标准类型&lt;/span&gt;         &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;具体要求&lt;/span&gt;                                                                 &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;61&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|------------------|--------------------------------------------------------------------------|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;62&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;显著性检验&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;因子t统计量&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;2.58&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.01&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）&lt;/span&gt;                                          &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;63&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;衰减周期测试&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;因子半衰期&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;分钟&lt;/span&gt;                                                      &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;样本外验证&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;使用2023年数据验证2020&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2022&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;年训练的因子&lt;/span&gt;                                 &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;65&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;66&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 2. 挑战与解决方案&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;67&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;挑战类型&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;解决方案&lt;/span&gt;                                                                 &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;68&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|----------------|--------------------------------------------------------------------------|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;69&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;过拟合风险&lt;/span&gt;     &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;采用Walk&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Forward&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Analysis&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;滚动窗口验证&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）&lt;/span&gt;                               &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;70&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;数据噪音&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;应用小波去噪&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Wavelet&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Denoising&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;处理高频数据&lt;/span&gt;                           &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;71&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;交易成本&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;增加因子收益&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Cost比率作为筛选条件&lt;/span&gt;                                       &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;72&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;73&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;---&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;74&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;75&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 四、总结&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;76&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;高频量化交易需构建&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;微秒级响应体系&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;核心要素包括&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;77&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;mf&#34;&gt;1.&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;低延迟架构&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FPGA硬件加速订单处理&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;78&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;mf&#34;&gt;2.&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;因子时效性&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;平均因子有效周期&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;分钟&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;79&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;mf&#34;&gt;3.&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;成本控制&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;单笔交易成本需&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.02&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;含滑点&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;80&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;mf&#34;&gt;4.&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;动态调整&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;根据市场波动率指数&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;VIX&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;实时调整策略参数&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>金融领域买方与卖方有什么区别</title>
      <link>https://www.airplanecraft.com/zh/post/busy-side-vs-sell-side/</link>
      <pubDate>Sat, 29 Mar 2025 17:40:35 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/busy-side-vs-sell-side/</guid>
      <description>
        
          
            &lt;h1 id=&#34;买方buy-side与卖方sell-side的区别&#34;&gt;买方（Buy Side）与卖方（Sell Side）的区别&lt;/h1&gt;
&lt;p&gt;在金融领域，&lt;strong&gt;买方&lt;/strong&gt;和&lt;strong&gt;卖方&lt;/strong&gt;是两类完全不同的参与主体，其核心职能、盈利模式和角色定位存在显著差异。以下是详细对比：&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;一定义与核心职能&#34;&gt;一、定义与核心职能&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;维度&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;买方（Buy Side）&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;卖方（Sell Side）&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;角色定位&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;资金管理方，通过投资获取收益。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;金融服务提供方，通过销售金融产品或服务赚取佣金。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;典型机构&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;对冲基金、共同基金、养老基金、私募股权基金、家族办公室。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;投资银行、证券公司、经纪商、做市商、评级机构。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;核心目标&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;实现资产增值，跑赢基准（如指数）或绝对收益。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;促成交易（如IPO、并购）、提供流动性、赚取手续费。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;二盈利模式对比&#34;&gt;二、盈利模式对比&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;维度&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;买方&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;卖方&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;收入来源&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;管理费（通常1-2%资产规模）+ 业绩分成（20%超额收益）。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;佣金（如承销费、交易手续费）、利差（买卖价差）、咨询服务费。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;风险承担&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;直接承担投资风险（如市场波动、流动性风险）。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;主要承担交易对手风险（如客户违约）、市场流动性风险。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;利益驱动&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;长期资产增值，与投资者利益绑定。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;短期交易量最大化，与客户交易频率相关。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;三业务场景与典型案例&#34;&gt;三、业务场景与典型案例&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;场景&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;买方行为&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;卖方行为&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;股票发行（IPO）&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;作为投资者认购新股（如共同基金参与打新）。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;投行担任承销商，设计发行方案并销售给买方机构。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;二级市场交易&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;买入/卖出证券以优化投资组合。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;经纪商提供交易通道，做市商提供流动性并赚取价差。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;研究报告&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;使用卖方研究报告辅助投资决策。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;投行分析师发布研究报告吸引买方交易（产生佣金）。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;衍生品交易&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;使用期权、期货对冲风险或投机。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;设计复杂衍生品并销售给买方，赚取结构设计费。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;四从业人员技能差异&#34;&gt;四、从业人员技能差异&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;维度&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;买方从业者&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;卖方从业者&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;核心能力&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;资产定价、组合管理、风险管理、行业深度研究。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;客户关系维护、销售技巧、交易执行效率、产品设计。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;职业路径&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;基金经理 → 投资总监 → CIO。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;分析师 → 董事总经理（MD） → 投行部主管。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;工作节奏&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;注重长期决策（季度/年度调仓）。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;高强度、短周期（如赶制招股书、实时交易支持）。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;五市场互动关系&#34;&gt;五、市场互动关系&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;依存关系&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;卖方依赖买方完成交易（如投行需要基金认购新股）。&lt;/li&gt;
&lt;li&gt;买方依赖卖方提供流动性、研究支持和产品创新。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;利益冲突&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;卖方可能过度推销高风险产品以赚取佣金（如2008年次贷危机中的CDO）。&lt;/li&gt;
&lt;li&gt;买方可能利用信息优势压价（如私募股权基金收购企业时与投行博弈）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;六通俗类比&#34;&gt;六、通俗类比&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;买方&lt;/strong&gt;：像“购物者”&lt;br&gt;
在金融市场“超市”中挑选资产（股票、债券等），目标是低价买入高价卖出。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;卖方&lt;/strong&gt;：像“超市供应商+导购员”&lt;br&gt;
负责供货（发行证券）、设计商品（金融产品），并引导买方完成交易。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;七跨界案例&#34;&gt;七、跨界案例&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;高盛（卖方）的买方化&lt;/strong&gt;：设立自有资金投资部门（如高盛资产管理）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;桥水基金（买方）的卖方服务&lt;/strong&gt;：向客户提供风险管理系统（如All Weather策略授权）。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;总结&#34;&gt;总结&lt;/h2&gt;
&lt;p&gt;买方与卖方共同构成金融市场生态，二者本质是&lt;strong&gt;资金端与资产端的桥梁&lt;/strong&gt;。对个人而言：&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>三因子模型和CAPM模型的区别</title>
      <link>https://www.airplanecraft.com/zh/post/fama-french-vs-capm-model/</link>
      <pubDate>Sat, 29 Mar 2025 11:40:35 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/fama-french-vs-capm-model/</guid>
      <description>
        
          
            &lt;h1 id=&#34;三因子模型fama-french与capm模型的比较&#34;&gt;三因子模型（Fama-French）与CAPM模型的比较&lt;/h1&gt;
&lt;p&gt;以下是三因子模型（Fama-French三因子模型）与CAPM（资本资产定价模型）的对比分析，涵盖理论基础、因子构成、应用场景及优缺点：&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;一核心理论对比&#34;&gt;一、核心理论对比&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;维度&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;CAPM模型&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;三因子模型&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;理论基础&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;单因子模型，仅考虑市场风险溢价（市场因子）。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;多因子模型，扩展CAPM，引入市值因子（SMB）、账面市值比因子（HML）。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;核心公式&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;$$ E(R_i) = R_f + \beta_i (E(R_m) - R_f) $$&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;$$ E(R_i) = R_f + \beta_{m}(R_m - R_f) + \beta_{SMB}SMB + \beta_{HML}HML $$&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;因子数量&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;1个（市场因子）&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;3个（市场因子 + 市值因子 + 账面市值比因子）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;假设前提&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;市场完全有效、投资者理性同质、无摩擦交易。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;放松CAPM假设，承认市场异象（如小盘股溢价、价值股溢价）。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;二因子解释能力&#34;&gt;二、因子解释能力&lt;/h2&gt;
&lt;h3 id=&#34;1-capm的局限性&#34;&gt;1. CAPM的局限性&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;无法解释市场异象&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;小盘股效应&lt;/strong&gt;：小市值股票长期收益高于CAPM预测。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;价值股效应&lt;/strong&gt;：低市净率（P/B）股票表现优于高P/B股票。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;实证缺陷&lt;/strong&gt;：CAPM对股票横截面收益的解释力不足（R²通常 &amp;lt; 70%）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-三因子模型的改进&#34;&gt;2. 三因子模型的改进&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;新增因子&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;SMB（Small Minus Big）&lt;/strong&gt;：小市值股票收益减大市值股票收益，捕捉规模效应。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HML（High Minus Low）&lt;/strong&gt;：高账面市值比股票（价值股）收益减低账面市值比股票（成长股）收益。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;解释力提升&lt;/strong&gt;：三因子模型对股票收益的解释力显著提高（R²可达90%+），尤其在解释长期收益差异时更优。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;三实证表现对比&#34;&gt;三、实证表现对比&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;场景&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;CAPM&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;三因子模型&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;美股市场&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;解释力较弱，尤其对小盘股、价值股失效。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;显著改善对小盘股、价值股收益的解释。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;新兴市场&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;适用性更低（市场有效性差）。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;仍能部分解释异象，但因子溢价可能不稳定。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;行业分析&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;仅反映行业与市场的相关性。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;可分解行业收益来源（如科技股受成长因子驱动）。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;四应用场景差异&#34;&gt;四、应用场景差异&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;场景&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;CAPM适用性&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;三因子模型适用性&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;资产定价&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;快速估算股权成本（WACC），适合粗略估值。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;更精确的资产定价，适用于基金业绩归因、多因子选股。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;组合管理&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;单因子风险暴露管理（如β对冲）。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;多因子风险控制（市值、价值风格暴露管理）。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;学术研究&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;理论教学与简单实证分析。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;市场异象研究、因子投资理论验证。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;五优缺点总结&#34;&gt;五、优缺点总结&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;模型&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;优点&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;缺点&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;CAPM&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;简单易用，参数少，计算成本低。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;忽略市场异象，解释力不足，假设过于理想化。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;三因子模型&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;解释力强，更贴近现实市场行为。&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;数据需求高（需市值、账面市值比数据），因子定义可能存在争议（如HML的稳定性）。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;六案例分析&#34;&gt;六、案例分析&lt;/h2&gt;
&lt;h3 id=&#34;案例某小盘价值股的超额收益归因&#34;&gt;案例：某小盘价值股的超额收益归因&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CAPM分析&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;该股票β=1.2，市场收益10%，无风险利率3% → 预期收益=3% +1.2×(10%-3%)=11.4%。&lt;/li&gt;
&lt;li&gt;实际收益18% → 超额收益6.6%（α=6.6%），但无法解释来源。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;三因子模型分析&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;因子暴露：β_m=1.2，β_SMB=0.8（小盘股暴露），β_HML=1.0（价值股暴露）。&lt;/li&gt;
&lt;li&gt;预期收益=3% +1.2×7% +0.8×4% +1.0×5%=3%+8.4%+3.2%+5%=19.6%。&lt;/li&gt;
&lt;li&gt;实际收益18% → 超额收益-1.6%（α≈0），说明收益主要来自因子暴露，而非主动管理能力。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;七后续发展&#34;&gt;七、后续发展&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;五因子模型&lt;/strong&gt;：Fama-French进一步加入盈利因子（RMW）和投资因子（CMA），增强对收益的解释力。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;因子投资实践&lt;/strong&gt;：三因子模型催生了Smart Beta ETF（如小盘价值ETF），成为被动投资的重要工具。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;总结&#34;&gt;总结&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CAPM&lt;/strong&gt;：适合快速估算市场风险溢价，但需谨慎用于复杂市场环境。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;三因子模型&lt;/strong&gt;：更全面揭示收益来源，是因子投资和组合管理的基石，但需关注因子溢价的变化（如近年成长股跑赢价值股）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;选择建议&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;学术研究/精细化投资 → 三因子模型。&lt;/li&gt;
&lt;li&gt;初级估值/教学场景 → CAPM。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>如何评估一款基金基金的收益率</title>
      <link>https://www.airplanecraft.com/zh/post/how-to-evaluate-fund-returns/</link>
      <pubDate>Fri, 28 Mar 2025 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/how-to-evaluate-fund-returns/</guid>
      <description>
        
          
            &lt;h1 id=&#34;如何评价一款基金的收益率&#34;&gt;如何评价一款基金的收益率？&lt;/h1&gt;
&lt;p&gt;评价一款基金的收益率需从多维度综合分析，既要关注绝对收益，也要衡量风险调整后的表现，并结合市场环境、策略特点及投资目标。以下是系统化的评价框架：&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;一绝对收益分析&#34;&gt;一、绝对收益分析&lt;/h2&gt;
&lt;h3 id=&#34;1-收益率计算&#34;&gt;1. 收益率计算&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;累计收益率&lt;/strong&gt;：基金成立以来的总回报率（需扣除费用）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;年化收益率&lt;/strong&gt;：将不同周期收益折算为年化值，便于跨期比较。
[
\text{年化收益率} = \left(1 + \text{总收益率}\right)^{\frac{365}{\text{持有天数}}} - 1
]&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-收益来源分解&#34;&gt;2. 收益来源分解&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;市场收益（Beta收益）&lt;/strong&gt;：通过回归分析计算基金对市场基准（如沪深300）的敏感性（β值）。
[
\text{Beta收益} = \beta \times \text{基准收益率}
]&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;超额收益（Alpha收益）&lt;/strong&gt;：剔除市场影响后的主动管理能力。
[
\alpha = \text{基金实际收益} - \left(\text{无风险利率} + \beta \times (\text{基准收益} - \text{无风险利率})\right)
]&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;二风险调整后收益&#34;&gt;二、风险调整后收益&lt;/h2&gt;
&lt;h3 id=&#34;1-夏普比率sharpe-ratio&#34;&gt;1. 夏普比率（Sharpe Ratio）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;公式&lt;/strong&gt;：衡量单位总风险（波动性）带来的超额收益。
[
\text{夏普比率} = \frac{\text{基金收益} - \text{无风险利率}}{\text{收益波动率（标准差）}}
]&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;标准&lt;/strong&gt;：夏普比率 &amp;gt; 1 为优秀，&amp;gt; 2 为顶级（如对冲基金）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-索提诺比率sortino-ratio&#34;&gt;2. 索提诺比率（Sortino Ratio）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;公式&lt;/strong&gt;：仅考虑下行风险（负波动率），更适合评价稳健型基金。
[
\text{索提诺比率} = \frac{\text{基金收益} - \text{无风险利率}}{\text{下行标准差}}
]&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-最大回撤max-drawdown&#34;&gt;3. 最大回撤（Max Drawdown）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;定义&lt;/strong&gt;：基金历史最大亏损幅度（峰值到谷值的跌幅）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;意义&lt;/strong&gt;：反映极端风险承受能力，最大回撤 &amp;gt; 30% 需谨慎。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;三相对收益分析&#34;&gt;三、相对收益分析&lt;/h2&gt;
&lt;h3 id=&#34;1-基准对比&#34;&gt;1. 基准对比&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;胜率&lt;/strong&gt;：基金跑赢基准的月份/季度占比（如胜率 &amp;gt; 60% 为优）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;滚动收益差&lt;/strong&gt;：分阶段（如滚动1年）对比基金与基准的累计收益差异。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-同类排名&#34;&gt;2. 同类排名&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;四分位法&lt;/strong&gt;：在同类基金中的排名（前25%为优秀）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;风格箱分析&lt;/strong&gt;：对比同风格（如成长型、价值型）基金表现。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;四风险与稳定性&#34;&gt;四、风险与稳定性&lt;/h2&gt;
&lt;h3 id=&#34;1-波动率标准差&#34;&gt;1. 波动率（标准差）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;年化波动率 &amp;lt; 15% 为低风险，&amp;gt; 30% 为高风险（如行业主题基金）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-beta值&#34;&gt;2. Beta值&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;β &amp;gt; 1：波动大于市场（适合牛市）；β &amp;lt; 1：防御性强（适合熊市）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-收益分布分析&#34;&gt;3. 收益分布分析&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;偏度（Skewness）&lt;/strong&gt;：收益分布是否左偏（常出现小跌大跌）或右偏（常出现小涨大涨）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;峰度（Kurtosis）&lt;/strong&gt;：衡量极端收益概率，峰度 &amp;gt; 3 预示“黑天鹅”风险。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;五策略与运营评价&#34;&gt;五、策略与运营评价&lt;/h2&gt;
&lt;h3 id=&#34;1-投资逻辑验证&#34;&gt;1. 投资逻辑验证&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;策略一致性&lt;/strong&gt;：是否坚持宣称的投资风格（如价值投资、量化选股）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;持仓透明度&lt;/strong&gt;：季报披露的持仓与策略是否匹配（如芯片基金是否重仓半导体股）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-费用影响&#34;&gt;2. 费用影响&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;总费率（TER）&lt;/strong&gt;：管理费+托管费+其他费用，年费率 &amp;gt; 2% 需警惕侵蚀收益。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;换手率&lt;/strong&gt;：高频交易导致佣金和冲击成本上升（换手率 &amp;gt; 300% 可能低效）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-规模效应&#34;&gt;3. 规模效应&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;规模与收益关系&lt;/strong&gt;：规模过大可能导致策略失效（如小盘股基金超过50亿需警惕）。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;六案例分析某科技主题基金评价&#34;&gt;六、案例分析：某科技主题基金评价&lt;/h2&gt;
&lt;h3 id=&#34;数据假设&#34;&gt;数据假设&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;基金年化收益：25%（同期沪深300收益12%，无风险利率3%）。&lt;/li&gt;
&lt;li&gt;年化波动率：28%，最大回撤：-35%，夏普比率：0.79，β=1.3。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;评价结论&#34;&gt;评价结论&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;绝对收益亮眼但风险高&lt;/strong&gt;：25%收益显著跑赢市场，但波动率与回撤较大。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Alpha能力存疑&lt;/strong&gt;：计算得α=25% - [3% +1.3×(12%-3%)] = 25% -14.7% = &lt;strong&gt;10.3%&lt;/strong&gt;，若统计显著（t检验），表明有主动管理能力。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;风险调整后收益一般&lt;/strong&gt;：夏普比率0.79（&amp;lt;1），单位风险回报偏低。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;行业集中风险&lt;/strong&gt;：重仓科技股导致β=1.3，需评估是否与投资者风险偏好匹配。&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;七综合评分表&#34;&gt;七、综合评分表&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;指标&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;权重&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;评分（1-5）&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;评价依据&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;年化收益&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;20%&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4.5&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;显著跑赢基准&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;夏普比率&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;15%&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;3.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;低于1，风险调整收益一般&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;最大回撤&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;15%&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;2.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;-35%回撤，风险过高&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Alpha显著性&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;20%&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;超额收益显著但需长期验证&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;费用与换手率&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;10%&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;3.5&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;费率1.5%，换手率200%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;策略一致性&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;10%&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;持仓符合科技主题&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;规模适应性&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;10%&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;当前规模20亿，未明显失效&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;综合得分&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;100%&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;3.6&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;中等偏上，适合高风险偏好者&lt;/strong&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;八实用工具推荐&#34;&gt;八、实用工具推荐&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;数据获取&lt;/strong&gt;：Wind、Choice（付费）、Tushare（免费）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;分析平台&lt;/strong&gt;：晨星网（风险指标）、韭圈儿APP（基金对比）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;自建模型&lt;/strong&gt;：Python的&lt;code&gt;pyfolio&lt;/code&gt;库（收益归因分析）、Excel（夏普比率计算模板）。&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;总结&#34;&gt;总结&lt;/h2&gt;
&lt;p&gt;基金的收益率评价需兼顾&lt;strong&gt;收益、风险、策略一致性&lt;/strong&gt;及&lt;strong&gt;成本&lt;/strong&gt;，避免单一指标误导。高收益基金可能是“承担高风险”或“踩中风口”的结果，需通过长期观察（至少1个牛熊周期）和归因分析验证其可持续性。对散户而言，选择与自己风险承受能力匹配、费用合理且策略透明的基金更为关键。&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>为什么越来越多的散户开始做量化</title>
      <link>https://www.airplanecraft.com/zh/post/quant-introduction/</link>
      <pubDate>Thu, 27 Mar 2025 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/quant-introduction/</guid>
      <description>
        
          
            &lt;h2 id=&#34;技术门槛的降低&#34;&gt;技术门槛的降低&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;编程工具普及：Python等易学语言成为主流，开源库（如Pandas、Numpy、TA-Lib）简化了数据处理和策略开发。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;低成本基础设施：云服务器（如阿里云、腾讯云）价格下降，个人也能负担高频交易所需的算力。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;开源平台支持：Backtrader、vn.py等框架提供免费回测工具，无需自建系统。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;数据爬虫技术的普及包括开源程序&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;数据门槛的降低&#34;&gt;数据门槛的降低&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;免费开源数据（适合入门）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;1.1 Tushare Pro：基础数据免费（需注册，部分高频数据需积分），覆盖A股、指数、财务数据。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.2 AKShare：完全免费，支持股票、期货、宏观经济、舆情等多维度数据（基于Python）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.3 Yahoo Finance：全球市场历史行情数据（通过yfinance库获取）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.4  Binance API&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.5  Futu API&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;低成本付费数据（适合进阶）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;2.1 Wind 万得金融终端（个人版）：年费约数千元，提供A股、期货、债券的深度数据。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2.2 同花顺iFinD ：基础套餐约3000元/年，含财务数据、资金流向。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2.3 JoinQuant（聚宽）API：月度会员可获取高质量股票、期货数据（约200元/月）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2.4 Trading Economics：全球宏观数据API（约50美元/月起）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2.5 东方财富Choice：舆情热度、产业链数据（按需付费）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2.6 Kaggle数据集：开源社区中的股票预测、消费行为等结构化数据。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;量化平台的崛起&#34;&gt;量化平台的崛起&lt;/h2&gt;
&lt;p&gt;Tradingview 的 崛起和成熟，进一步降低了量化的门槛，TradingView 是全球领先的金融分析平台，主打多资产图表分析与社交化交易。其核心功能包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;1.1 多市场覆盖：支持股票、外汇、加密货币、期货等全球市场实时行情。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.2 高级图表工具：内置百余种技术指标（如MACD、布林带）、自定义绘图及多时间框架分析。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.3 策略开发：通过Pine Script编写自动化交易策略，支持回测并一键对接券商执行。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.4 社区互动：用户可分享观点、策略模板，跟随高手交易信号。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.5 跨平台接入：提供网页、桌面及移动端，兼容MetaTrader、Interactive Brokers等经纪商&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.6 在线编程pine script，用户不再需要下载数据以及程序运行在自己的服务器上了&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ai工具的崛起&#34;&gt;AI工具的崛起&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;1.1 vibe coding,辅助编程，&lt;/li&gt;
&lt;li&gt;1.2 辅助因子和策略的开发&lt;/li&gt;
&lt;li&gt;1.3 动态风控&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Radiomaster的zorro遥控器在飞控上只能看到12个通道</title>
      <link>https://www.airplanecraft.com/zh/post/elrschannelnumberissue/</link>
      <pubDate>Fri, 11 Oct 2024 00:00:00 +0000</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/elrschannelnumberissue/</guid>
      <description>
        
          
            Radiomaster的zorro遥控器在飞控上只能看到12个通道的解决方案
          
          
        
      </description>
    </item>
    
    <item>
      <title>什么是生成式ai</title>
      <link>https://www.airplanecraft.com/zh/post/generative-ai/</link>
      <pubDate>Sun, 03 Dec 2023 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/generative-ai/</guid>
      <description>
        
          
            &lt;h3 id=&#34;什么是ai&#34;&gt;什么是AI&lt;/h3&gt;
&lt;p&gt;人工智能（AI）是指计算机系统能够执行人类通常需要使用智力才能完成的任务的能力。这些任务可以包括语音识别、图像识别、自然语言处理、决策制定等等。人工智能的目标是让计算机拥有类似人类的智能水平，能够像人一样学习、推理、理解和适应环境。&lt;/p&gt;
&lt;h3 id=&#34;什么是ml&#34;&gt;什么是ML&lt;/h3&gt;
&lt;p&gt;机器学习（ML）是一种人工智能的分支，其主要关注如何让计算机根据数据自动学习并改进算法，而不需要人工干预。换句话说，机器学习是一种数据驱动的方法，通过分析和学习数据中的模式和规律，让计算机能够自主地进行预测和决策。机器学习算法通常可以分为监督学习、无监督学习、半监督学习和强化学习等几种类型。&lt;/p&gt;
&lt;h3 id=&#34;什么是dl&#34;&gt;什么是DL&lt;/h3&gt;
&lt;p&gt;深度学习（DL）是机器学习的一种特殊形式，其主要依赖于深层神经网络（DNN）来实现数据的学习和处理。深度学习的主要特点是可以从大量的未标记数据中进行学习，并生成高度抽象的特征表示。深度学习已经被广泛应用于图像和语音识别、自然语言处理、推荐系统等领域，并在这些领域中取得了惊人的成果。&lt;/p&gt;
&lt;h3 id=&#34;aiml和dl的应用领域&#34;&gt;AI,ML和DL的应用领域&lt;/h3&gt;
&lt;p&gt;人工智能、机器学习和深度学习已经在各个领域得到了广泛的应用，这里列举几个典型的应用领域。&lt;/p&gt;
&lt;p&gt;自然语言处理（NLP）：自然语言处理是人工智能领域的一个重要应用方向，其主要目标是让计算机能够理解、分析和生成自然语言。在这个领域中，机器学习和深度学习算法被广泛应用于文本分类、情感分析、机器翻译、问答系统等任务。&lt;/p&gt;
&lt;p&gt;计算机视觉（CV）：计算机视觉是指让计算机能够理解和分析图像和视频，并从中提取有用的信息。在这个领域中，深度学习算法已经成为了主流，广泛应用于图像分类、目标检测、物体跟踪、人脸识别等任务。&lt;/p&gt;
&lt;p&gt;语音识别（ASR）：语音识别是指让计算机能够理解和转换人类语音的能力。在这个领域中，深度学习算法已经成为了主流，广泛应用于语音识别、语音合成等任务。&lt;/p&gt;
&lt;p&gt;推荐系统：推荐系统是指根据用户的历史行为、兴趣和偏好，向用户推荐个性化的商品、服务或信息的系统。在这个领域中，机器学习和深度学习算法被广泛应用于用户行为分析、特征提取、推荐模型建立等任务。&lt;/p&gt;
&lt;p&gt;自动驾驶：自动驾驶技术是指让汽车、飞机、无人机等交通工具能够自主地行驶和操作的技术。在这个领域中，深度学习算法被广泛应用于图像处理、目标检测、障碍物识别等任务。&lt;/p&gt;
&lt;h3 id=&#34;aiml和dl的技术原理&#34;&gt;AI、ML和DL的技术原理&lt;/h3&gt;
&lt;p&gt;人工智能、机器学习和深度学习的实现都依赖于一些基础技术和算法，下面介绍其中一些常见的技术原理。&lt;/p&gt;
&lt;p&gt;神经网络：神经网络是指一种模拟人类神经系统的计算模型，其基本单元是神经元。深度学习中的神经网络通常包括输入层、隐藏层和输出层，其中隐藏层可以有多层。不同的神经网络结构和算法可以应用于不同的任务。&lt;/p&gt;
&lt;p&gt;卷积神经网络（CNN）：卷积神经网络是一种特殊的神经网络结构，其主要针对图像和视频等二维数据的处理。卷积神经网络中的卷积层和池化层可以有效提取图像中的特征，并通过全连接层进行分类和识别。&lt;/p&gt;
&lt;p&gt;循环神经网络（RNN）：循环神经网络是一种特殊的神经网络结构，其主要针对序列数据的处理。循环神经网络可以通过循环连接来处理序列数据中的时序信息，广泛应用于语音识别、机器翻译等任务。&lt;/p&gt;
&lt;h3 id=&#34;深度学习框架&#34;&gt;深度学习框架&lt;/h3&gt;
&lt;p&gt;深度学习框架是指一些基于编程语言的工具箱，可以方便地构建和训练深度学习模型。常见的深度学习框架包括TensorFlow、PyTorch、Keras等。&lt;/p&gt;
&lt;h3 id=&#34;aiml和dl的区别&#34;&gt;AI、ML和DL的区别&lt;/h3&gt;
&lt;p&gt;尽管人工智能、机器学习和深度学习的概念和应用有所重叠，但它们之间还是存在一些明显的区别。&lt;/p&gt;
&lt;p&gt;技术原理不同：人工智能是一个比较宽泛的概念，包括了许多技术和算法；机器学习是一种数据驱动的方法，主要关注如何让计算机自动学习和改进算法；深度学习是机器学习的一种特殊形式，依赖于深层神经网络来实现数据的学习和处理。&lt;/p&gt;
&lt;p&gt;应用场景不同：人工智能、机器学习和深度学习都有广泛的应用场景，但其应用范围和任务却有所不同。人工智能的应用范围相对广泛，可以应用于语音识别、图像识别、自然语言处理等多个领域；机器学习主要应用于数据挖掘、预测分析、模式识别等领域；深度学习则主要应用于计算机视觉、自然语言处理、推荐系统等领域。&lt;/p&gt;
&lt;h3 id=&#34;什么是生成式ai&#34;&gt;什么是生成式AI&lt;/h3&gt;
&lt;p&gt;生成式人工智能（Generative Artificial Intelligence，简称生成式 AI）是一种基于机器学习和人工智能技术的范畴，其目标是让计算机系统能够自主地生成各种类型的数据，如文本、图像、音频等，而不仅仅是对已有数据的模仿或分类。生成式 AI 的核心能力在于创造新的内容，而不仅仅是对已知模式的重复应用。其中，生成式人工智能模型是生成式 AI 的重要组成部分，而 chatGPT 就是其中的一种代表性模型。&lt;/p&gt;
&lt;p&gt;生成式 AI 的原理基于深度学习，特别是神经网络技术，它可以通过分析大量的训练数据来学习数据的分布和模式，然后利用这些学习到的模式来生成新的数据。生成式 AI 不仅可以生成高质量的文本，还可以用于图像生成、音乐创作、视频生成等各种领域。&lt;/p&gt;
&lt;p&gt;生成式 AI 模型的核心思想是使用生成对抗网络（GANs）、变分自编码器（VAEs）等架构，通过多层次的神经网络模块来模拟数据的分布。这些模型可以被训练成生成与训练数据相似但又独特的新数据，从而实现创造性的内容生成。生成式 AI 在自然语言处理领域中的代表模型是循环神经网络（RNNs）、长短时记忆网络（LSTMs）、转换器模型（如 GPT）等。&lt;/p&gt;
&lt;h3 id=&#34;生成式ai应用&#34;&gt;生成式ai应用&lt;/h3&gt;
&lt;p&gt;生成式 AI 的应用广泛，包括但不限于以下领域：&lt;/p&gt;
&lt;p&gt;自动写作与内容生成： 生成式 AI 可以自动生成文章、新闻、故事等文本内容，帮助内容创作者提高效率。&lt;/p&gt;
&lt;p&gt;艺术创作与设计： 在绘画、音乐、设计领域，生成式 AI 可以创造出独特的艺术品和创意作品。&lt;/p&gt;
&lt;p&gt;虚拟现实与游戏开发： 生成式 AI 可以生成逼真的虚拟世界、地图、角色等，用于游戏设计和虚拟现实体验。&lt;/p&gt;
&lt;p&gt;科学研究与创新： 在药物研发、分子设计、科学模拟等领域，生成式 AI 可以加速创新和发现。&lt;/p&gt;
&lt;p&gt;语音合成与音乐创作： 生成式 AI 可以创作音乐、合成语音，并模仿各种声音风格。&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>什么是service mesh</title>
      <link>https://www.airplanecraft.com/zh/post/service-mesh/</link>
      <pubDate>Thu, 23 Nov 2023 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/service-mesh/</guid>
      <description>
        
          
            &lt;h2 id=&#34;什么是service-mesh&#34;&gt;什么是service mesh&lt;/h2&gt;
&lt;p&gt;Service Mesh又译作“服务网格”，作为服务间通信的基础设施层。Willian Morgan（Linkerd的CEO）如下定义Service Mesh。&lt;/p&gt;
&lt;p&gt;Service Mesh 是一个基础设施层，用于处理服务间通信。云原生应用有着复杂的服务拓扑，Service Mesh 保证请求可以在这些拓扑中可靠地穿梭。在实际应用当中，Service Mesh 通常是由一系列轻量级的网络代理组成的，它们与应用程序部署在一起，但应用程序不需要知道它们的存在。&lt;/p&gt;
&lt;p&gt;Service Mesh 实际上就是处于 TCP/IP 之上的一个抽象层，它假设底层的 L3/L4 网络能够点对点地传输字节（当然，它也假设网络环境是不可靠的，所以 Service Mesh 必须具备处理网络故障的能力）。&lt;/p&gt;
&lt;h2 id=&#34;架构图&#34;&gt;架构图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;PrivateLink&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/service-mesh.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;通过以上的架构图，很清晰的看到，最重要的两个部分就是control plane 和sidecar&lt;/p&gt;
&lt;p&gt;Control Plane：控制平面是服务网格的集中管理和配置层。它负责控制和协调sidecar代理的行为。它提供了一个控制平面API，允许管理员配置流量管理、安全性和可观测性的策略、规则和设置。&lt;/p&gt;
&lt;p&gt;Sidecar（旁车）：它基于Envoy代理。它是在同一Kubernetes POD中运行的另一个容器，负责处理所有的横切关注点。它基于旁车容器设计模式。•应用程序流量：微服务通过使用sidecar容器连接到其他微服务。应用程序流量基本上是Envoy sidecar代理容器之间的通信&lt;/p&gt;
&lt;p&gt;Data Plane：数据平面指的是部署在每个服务实例旁边的一组sidecar代理组成的网络，用于与系统中的其他服务进行通信。它充当服务与网络的中间人。Sidecar代理处理入站和出站流量，拦截通信并提供其他功能。&lt;/p&gt;
&lt;p&gt;Controllers：控制器是负责管理和控制网格行为的组件。它通常是一个软件组件，用于监视服务的状态和健康情况、配置流量路由和负载均衡规则、实施安全策略，并处理网格内服务之间通信的其他方面。&lt;/p&gt;
&lt;p&gt;服务发现（Service Discovery）：服务发现是服务网格架构中的一个重要组件。它使得服务能够动态地定位和连接到彼此，而无需硬编码的地址。&lt;/p&gt;
&lt;p&gt;证书授权机构（Certificate Authority）：它提供和管理根证书和中间证书，并执行证书签名操作。&lt;/p&gt;
&lt;p&gt;应用程序微服务（Application Microservices）：这些是组成应用程序的各个服务或微服务。它们负责处理特定的功能或任务。&lt;/p&gt;
&lt;p&gt;API端点（API Endpoints）：API端点是网格中的服务之间进行通信的入口点&lt;/p&gt;
&lt;h2 id=&#34;方案&#34;&gt;方案&lt;/h2&gt;
&lt;p&gt;目前社区Service Mesh的开源解决方案有：Buoyant 公司推出的 Linkerd 和 Google、IBM 等厂商牵头的 Istio。Linkerd 更加成熟稳定些，Istio 功能更加丰富、设计上更为强大，社区相对也更加强大一些。&lt;/p&gt;
&lt;h3 id=&#34;istio介绍&#34;&gt;istio介绍&lt;/h3&gt;
&lt;p&gt;Istio是由Google、IBM和Lyft开源的微服务管理、保护和监控框架。Istio为希腊语，意思是”起航“。Istio是一个开源的服务网格平台，提供了一组工具和功能，用于管理和保护基于微服务的应用程序。它旨在解决复杂分布式系统中与服务之间通信、可观察性、安全性和流量管理相关的常见挑战。在其核心，Istio在应用程序中的每个微服务旁边部署一个称为Envoy的sidecar代理。这个sidecar代理拦截和管理服务的所有入站和出站流量，使得Istio可以控制和监控服务之间的通信。&lt;/p&gt;
&lt;p&gt;优点：&lt;/p&gt;
&lt;p&gt;Istio拥有庞大的在线服务网格社区，并且在互联网上备受赞誉和讨论。其GitHub的贡献者远远超过Linkerd，数量上占据优势。•此外，它支持Kubernetes和VM模式。&lt;/p&gt;
&lt;p&gt;缺点：&lt;/p&gt;
&lt;p&gt;Istio并非免费提供，使用它需要相当大的时间投入，包括阅读文档、设置、确保正常功能和持续维护。&lt;/p&gt;
&lt;p&gt;在生产环境中实施和集成Istio可能需要几周甚至几个月的时间，这取决于基础架构的复杂性。
使用Istio需要相当大的资源开销。•与Linkerd不同，它缺乏内置的管理仪表板。
此外，Istio要求使用其自己的入口网关。
Istio控制平面仅在Kubernetes容器中受支持，没有可用于Istio数据平面的VM模式。&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>企业为什么选择使用openshift</title>
      <link>https://www.airplanecraft.com/zh/post/why-openshift/</link>
      <pubDate>Wed, 23 Nov 2022 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/why-openshift/</guid>
      <description>
        
          
            &lt;h2 id=&#34;什么是openshift&#34;&gt;什么是openshift&lt;/h2&gt;
&lt;p&gt;OpenShift是红帽的云开发平台即服务（PaaS）。自由和开放源码的云计算平台使开发人员能够创建、测试和运行他们的应用程序，并且可以把它们部署到云中。OpenShift广泛支持多种编程语言和框架，如Java，Ruby和PHP等。另外它还提供了多种集成开发工具如Eclipse integration，JBoss Developer Studio和 Jenkins等。OpenShift 基于一个开源生态系统为移动应用，数据库服务等，提供支持。
OpenShift Online服务构建在Red Hat Enterprise Linux上。Red Hat Enterprise Linux提供集成应用程序，运行库和一个配置可伸缩的多用户单实例的操作系统，以满足企业级应用的各种需求。&lt;/p&gt;
&lt;h2 id=&#34;架构图&#34;&gt;架构图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;PrivateLink&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/kubernetes-architecture.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;核心的概念&#34;&gt;核心的概念&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/635160126?utm_id=0&#34;&gt;https://zhuanlan.zhihu.com/p/635160126?utm_id=0&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;容器（Container）
镜像（Image）
用户（User）
项目（Project）
容器沙箱（Pod）
部署（Deployment）
服务（Service）
路由（Router）
持久化存储（Persistent Storage）
模板（Template）
构建（Build）和镜像流（ImageStream）&lt;/p&gt;
&lt;h2 id=&#34;为什么要使用openshift&#34;&gt;为什么要使用openshift&lt;/h2&gt;
&lt;p&gt;OpenShift的持续集成和持续部署（CI/CD）功能可以帮助开发者快速地将代码更改合并到主分支，并通过自动化的方式将其部署到生产环境，这不仅可以提高开发效率，还可以减少人为错误，提高软件的质量。&lt;/p&gt;
&lt;p&gt;OpenShift的多租户支持功能使得不同的团队或者公司可以在同一个平台上共享资源，而不需要担心数据安全问题，每个租户都可以拥有自己的独立的应用程序、服务和数据库，这样就可以满足不同团队的需求。&lt;/p&gt;
&lt;p&gt;OpenShift的应用市场功能提供了一个方便的平台，让开发者可以找到并使用各种预先构建的应用程序和服务，而不需要自己从头开始编写，这样不仅可以节省时间，还可以提高开发效率。&lt;/p&gt;
&lt;p&gt;OpenShift的自动扩展功能可以根据应用程序的负载情况自动调整资源的分配，以确保应用程序的性能和可用性，这样可以避免因为资源不足而导致的应用程序崩溃，也可以在需求增加时快速地扩展应用程序的能力。&lt;/p&gt;
&lt;p&gt;OpenShift的优势在于其简单易用、功能强大和灵活可扩展的特性，它可以帮助开发者快速地部署和管理应用程序，提高开发效率，降低运维成本。&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>airplancraft</title>
      <link>https://www.airplanecraft.com/zh/post/starting_recording_my_airplanecraft_life/</link>
      <pubDate>Thu, 22 Sep 2022 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/starting_recording_my_airplanecraft_life/</guid>
      <description>
        
          
            &lt;h3 id=&#34;introduction&#34;&gt;Introduction&lt;/h3&gt;
&lt;p&gt;I will use this site to record my air plane craft life including:share teaching docs/videos,materials ,airplane models,electronic things.&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>linux 临时文件的管理</title>
      <link>https://www.airplanecraft.com/zh/post/linux-tmpfiles-clean/</link>
      <pubDate>Sat, 07 May 2022 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/linux-tmpfiles-clean/</guid>
      <description>
        
          
            &lt;h2 id=&#34;centos临时目录的系统管理&#34;&gt;Centos临时目录的系统管理&lt;/h2&gt;
&lt;p&gt;Linux产生大量的临时文件和目录，例如/tmp、/run 。RHEL7或者CentOS7中，systemd提供了一个结构化的可配置方法来管理临时文件和目录，即systemd-tmpfiles，可以创建、删除和管理临时文件的服务。旧版本系统使用watchtmp+cron来共同实现管理临时文件。&lt;/p&gt;
&lt;p&gt;systemd启动后，其中一个启动的服务单元是systemd-tmpfiles-setup，该服务的命令为:systemd-tmpfiles --creat/--clean  *conf  , *conf是可选的，不写默认是使用所有配置文件&lt;/p&gt;
&lt;h2 id=&#34;配置文件优先级从上到下&#34;&gt;配置文件，优先级从上到下。&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;/etc/tmpfiles.d/*conf  ，管理员可修改的配置文件

/run/tmpfiles.d/*conf ，daemon应用程序自己管理的配置文件，不建议更改

/usr/lib/tmpfiles.d/*conf，rpm软件安装时，自动更新的配置文件，不能更改
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;定期清理timer&#34;&gt;定期清理timer&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;systemd定时器单元会按固定间隔调用systemd-tmpfiles --clean  。

systemctl status systemd-tmpfiles-clean.timer 查看timer状态。

systemctl cat systemd-tmpfiles-clean.timer  查看timer具体内容，也可以进入/usr/lib/systemd/system目录后使用more  systemd-tmpfiles-clean.timer 来查看。

从timer具体内容可以知道系统启动15分钟后和每天会运行一次systemd-tmpfiles --clean.那么timer定时运行的是哪些服务呢？ 是在systemd-tmpfiles-clean.service里面定义的：

systemctl cat systemd-tmpfiles-clean.service可以查看。
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>把最近一些东西aws东西画出来</title>
      <link>https://www.airplanecraft.com/zh/post/aws-best-practise-financial/</link>
      <pubDate>Tue, 26 Apr 2022 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-best-practise-financial/</guid>
      <description>
        
          
            &lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;1&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/Best_practice_eventbridge.jpg&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;2&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/Best_practice_finicial_industry.jpg&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;3&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/vpc-connectivity-overview.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;4&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/dmz.jpg&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Centos 8維護已經停止了</title>
      <link>https://www.airplanecraft.com/zh/post/centos-8-maintenance-stopped/</link>
      <pubDate>Tue, 15 Feb 2022 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/centos-8-maintenance-stopped/</guid>
      <description>
        
          
            &lt;h2 id=&#34;centos-8-維護已經停止了&#34;&gt;Centos 8 維護已經停止了&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;年前安裝了centos8.2 yum 的repo還是用的默認的，一切都正常,昨天在新的服務器上發現yum的repo已經無法使用了，我當時就意識到應該維護停止了，馬上去網上查一下，果然如此，如果想繼續使用請替換掉原來的mirror，使用centos-vault，https://mirrors.aliyun.com/centos-vault/ 或者 https://vault.centos.org/8.2.2004/
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;centos-7-的維護還是會繼續到2024年&#34;&gt;Centos 7 的維護還是會繼續到2024年&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;CentOS yes Community Enterprise Operating System（ Community enterprise operating system ） An acronym for , yes 100％ Reconstructed RHEL（ Red Hat Enterprise Linux）. Even though RHEL It costs money , but CentOS It&#39;s free. , Community supported businesses Linux Distribution version . Good at Linux And don&#39;t want to pay RHEL Support fee developers and companies always choose CentOS To save money and get enterprise software .

however , Now the free ride is over ！ Red cap announced , As RHEL 8 A reconstructed version of ,CentOS Linux 8 Will be in 2021 In the end .

CentOS 7 No impact！CentoS 7 Will continue in RHEL 7 In the life cycle (2024 end of the year ) Continue to get support . So right. CentOS 7 The user has no effect at the moment .



We&#39;re going to focus on rebuilding RHEL Of CentOS Linux Transferred to the CentOS Stream.CentOS Stream Will serve as a Red Hat Enterprise Linux Upstream （ Development ） Branch . in other words , in the future ,Fedora It&#39;s still the first upstream , But in RHEL After the release of the new version ,CentOS Stream It&#39;s going to be rolling on top of it , And feed the mature update back to RHEL among .
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;是時候考慮繼續使用centos還是切換到其他的linux發行版本&#34;&gt;是時候考慮繼續使用centos還是切換到其他的linux發行版本&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;1. Rocky Linux 可以説是centos的兄弟

The same day Red Hat announced its plans to replace stable CentOS 8 with rolling release CentOS Stream, the original developer of CentOS announced a new project to provide RHEL fork to CentOS users.
This new project is called Rocky Linux

2. AlmaLinux OS
AlmaLinux (initially known as Project Lenix) is a CentOS alternative backed by the team behind CloudLinux OS

3. Oracle Linux

4. Debian Linux

5. Ubuntu&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Using OpenStreetMap</title>
      <link>https://www.airplanecraft.com/zh/post/map/</link>
      <pubDate>Mon, 14 Feb 2022 00:00:00 +0000</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/map/</guid>
      <description>
        
          
            &lt;iframe class=&#34;openstreetmap&#34; width=&#34;100%&#34; height=&#34;600px&#34; src=&#34;https://umap.openstreetmap.fr/en/map/demo-map_1?scaleControl=true&amp;miniMap=false&amp;scrollWheelZoom=true&amp;zoomControl=true&amp;allowEdit=false&amp;moreControl=true&amp;searchControl=true&amp;tilelayersControl=null&amp;embedControl=null&amp;datalayersControl=true&amp;onLoadPanel=none&amp;captionBar=false#14/-37.7989/145.0003&#34;&gt;&lt;/iframe&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>JWT、JWE、JWS 、JWK 到底是什么</title>
      <link>https://www.airplanecraft.com/zh/post/jwt-jwe-jwk-jws/</link>
      <pubDate>Fri, 03 Dec 2021 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/jwt-jwe-jwk-jws/</guid>
      <description>
        
          
            &lt;h3 id=&#34;什么是-jwt&#34;&gt;什么是 JWT&lt;/h3&gt;
&lt;p&gt;一个JWT，应该是如下形式的：&lt;/p&gt;
&lt;p&gt;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.&lt;br&gt;
eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.&lt;br&gt;
TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ&lt;/p&gt;
&lt;h3 id=&#34;jwt-解决什么问题&#34;&gt;JWT 解决什么问题？&lt;/h3&gt;
&lt;p&gt;JWT的主要目的是在服务端和客户端之间以安全的方式来转移声明。主要的应用场景如下所示：&lt;/p&gt;
&lt;p&gt;认证 Authentication；
授权 Authorization // 注意这两个单词的区别；
联合识别；
客户端会话（无状态的会话）；
客户端机密。&lt;/p&gt;
&lt;h3 id=&#34;jwt-的一些名词解释&#34;&gt;JWT 的一些名词解释&lt;/h3&gt;
&lt;p&gt;JWS：Signed JWT签名过的jwt
JWE：Encrypted JWT部分payload经过加密的jwt；目前加密payload的操作不是很普及；
JWK：JWT的密钥，也就是我们常说的 scret；
JWKset：JWT key set在非对称加密中，需要的是密钥对而非单独的密钥，在后文中会阐释；
JWA：当前JWT所用到的密码学算法；
nonsecure JWT：当头部的签名算法被设定为none的时候，该JWT是不安全的；因为签名的部分空缺，所有人都可以修改。&lt;/p&gt;
&lt;h3 id=&#34;jwt的组成&#34;&gt;JWT的组成&lt;/h3&gt;
&lt;p&gt;一个通常你看到的jwt，由以下三部分组成，它们分别是：&lt;/p&gt;
&lt;p&gt;header：主要声明了JWT的签名算法；
payload：主要承载了各种声明并传递明文数据；
signture：拥有该部分的JWT被称为JWS，也就是签了名的JWS；没有该部分的JWT被称为nonsecure JWT 也就是不安全的JWT，此时header中声明的签名算法为none。
三个部分用·分割。形如 xxxxx.yyyyy.zzzzz的样式。&lt;/p&gt;
&lt;h4 id=&#34;jwt-header&#34;&gt;JWT header&lt;/h4&gt;
&lt;p&gt;{&lt;br&gt;
&amp;quot;typ&amp;quot;: &amp;quot;JWT&amp;quot;,&lt;br&gt;
&amp;quot;alg&amp;quot;: &amp;quot;none&amp;quot;,&lt;br&gt;
&amp;quot;jti&amp;quot;: &amp;quot;4f1g23a12aa&amp;quot;&lt;br&gt;
}&lt;/p&gt;
&lt;p&gt;jwt header 的组成&lt;/p&gt;
&lt;p&gt;头通常由两部分组成：令牌的类型，即JWT，以及正在使用的散列算法，例如HMAC SHA256或RSA。&lt;/p&gt;
&lt;p&gt;当然，还有两个可选的部分，一个是jti，也就是JWT ID，代表了正在使用JWT的编号，这个编号在对应服务端应当唯一。当然，jti也可以放在payload中。&lt;/p&gt;
&lt;p&gt;另一个是cty，也就是content type。这个比较少见，当payload为任意数据的时候，这个头无需设置，但是当内容也带有jwt的时候。也就是嵌套JWT的时候，这个值必须设定为jwt。这种情况比较少见。&lt;/p&gt;
&lt;p&gt;jwt header 的加密算法&lt;/p&gt;
&lt;p&gt;加密的方式如下：&lt;/p&gt;
&lt;p&gt;base64UrlEncode(header)&lt;/p&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;eyJ0eXAiOiJKV1QiLCJhbGciOiJub25lIiwianRpIjoiNGYxZzIzYTEyYWEifQ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;jwt-payload&#34;&gt;JWT payload&lt;/h4&gt;
&lt;p&gt;{&lt;br&gt;
&amp;quot;iss&amp;quot;: &amp;quot;http://shaobaobaoer.cn&amp;quot;,&lt;br&gt;
&amp;quot;aud&amp;quot;: &amp;quot;http://shaobaobaoer.cn/webtest/jwt_auth/&amp;quot;,&lt;br&gt;
&amp;quot;jti&amp;quot;: &amp;quot;4f1g23a12aa&amp;quot;,&lt;br&gt;
&amp;quot;iat&amp;quot;: 1534070547,&lt;br&gt;
&amp;quot;nbf&amp;quot;: 1534070607,&lt;br&gt;
&amp;quot;exp&amp;quot;: 1534074147,&lt;br&gt;
&amp;quot;uid&amp;quot;: 1,&lt;br&gt;
&amp;quot;data&amp;quot;: {&lt;br&gt;
&amp;quot;uname&amp;quot;: &amp;quot;shaobao&amp;quot;,&lt;br&gt;
&amp;quot;uEmail&amp;quot;: &amp;quot;shaobaobaoer@126.com&amp;quot;,&lt;br&gt;
&amp;quot;uID&amp;quot;: &amp;quot;0xA0&amp;quot;,&lt;br&gt;
&amp;quot;uGroup&amp;quot;: &amp;quot;guest&amp;quot;&lt;br&gt;
}&lt;br&gt;
}&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Polygon在websoket的连接串数据的经常中断</title>
      <link>https://www.airplanecraft.com/zh/post/polygon-websoket-data-transfer-issue/</link>
      <pubDate>Sat, 20 Nov 2021 11:40:30 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/polygon-websoket-data-transfer-issue/</guid>
      <description>
        
          
            &lt;h2 id=&#34;本来使用工具或者服务&#34;&gt;本来使用工具或者服务&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Pologon 美股数据供应商&lt;/li&gt;
&lt;li&gt;Kafka&lt;/li&gt;
&lt;li&gt;Nettty&lt;/li&gt;
&lt;li&gt;Centos8.2&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;架构图&#34;&gt;架构图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;polygon&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/photo_2022-02-03_22-18-05.jpg&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;架构说明&#34;&gt;架构说明&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Polygon是美股的数据供应商,提供美股tick级别的数据服务&lt;/li&gt;
&lt;li&gt;美股开盘数据非常的大，平时可以达到6M/秒的传输速度，也就是说可以达到每秒6万条数据的传输速度&lt;/li&gt;
&lt;li&gt;数据的传输是基于internet的传输，所以要保障数据在互联网上的快速传输必须基于长连接来实现，因此polygon提供了websocket服务&lt;/li&gt;
&lt;li&gt;我们的app收到polygon websocket推送过来的数据要进行简单的解析和格式转换，然后发送到本地的kafka cluster中间件用来分发数据，给其他的应用来做大数据处理包括flink等大数据中间件&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;出现的问题&#34;&gt;出现的问题&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Polygon数据传输出现了频繁的中断1：Slow consumer&lt;/li&gt;
&lt;li&gt;slow consumer:https://polygon.io/docs/stocks/ws_getting-started 查看了一下polygon的技術文檔: if a client is consuming messages too slowly for too long, Polygon.io&#39;s server-side buffer may get too large. If that happens, Polygon.io will terminate the WebSocket connection. You can check your account dashboard to see if a connection was terminated as a slow consumer. If this happens to you consistently, consider subscribing to fewer symbols or channels. 就是你的輸出消費的太慢了，導致polygon server的buffer已經滿了，消費不掉&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;找出問題&#34;&gt;找出問題&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;肯定我們消費者太慢出現的問題&lt;/li&gt;
&lt;li&gt;屏蔽掉任何發送kafka，直接打印日志就不會出現這個問題，定位到kafka client 發送速度慢的問題&lt;/li&gt;
&lt;li&gt;發送慢的原因可能是1：文件句柄數夠不夠?2:cpu和内存的使用率是否太高？3:java jvm的gc是否很慢？4：kafka連接池的數量是否足夠5：kafka客戶端發送是否正確配置批量？&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;具體去找問題&#34;&gt;具體去找問題&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;查看進程的當前的連接數
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;ls  /proc/`jps |awk &amp;#39;{print $1}&amp;#39;`/fd/ |wc -l
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;由於我們使用prometheus監控系統，發現cpu利用率低於20%，内存低於30%，同時使用jconsole鏈接查看jvm也沒有發現問題&lt;/li&gt;
&lt;li&gt;查看jconsole發現大量的kafka客戶端鏈接池出現block等待的情況，從這裏可以發現應該發送kafka的速度太慢導致的&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;具體解決&#34;&gt;具體解決&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;spring.kafka.producer.buffer-memory=33554432
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;spring.kafka.producer.batch-size=51200
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;spring.kafka.producer.properties.linger.ms=200
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;加大batch-size到50K，linger.ms到200ms ，測試兩天晚上數據，一切正常&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>交换机故障导致线程阻塞</title>
      <link>https://www.airplanecraft.com/zh/post/application-network-issue-caused-thread-block/</link>
      <pubDate>Sat, 21 Aug 2021 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/application-network-issue-caused-thread-block/</guid>
      <description>
        
          
            &lt;h2 id=&#34;本来使用工具或者服务&#34;&gt;本来使用工具或者服务&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Jconsole&lt;/li&gt;
&lt;li&gt;Jstack&lt;/li&gt;
&lt;li&gt;prometheus&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;架构图&#34;&gt;架构图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;architect&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/photo_2022-01-27_14-32-48.jpg&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;架构说明&#34;&gt;架构说明&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;This is an internal application (Not cloud) architect,we have big network traffic and lots of application ,we deploy in our own server&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;we have a RabbitMQ server (which our data provider will send  HKEX data to this server)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;we have an Application will consume the messages from MQ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Our application will process the data and sending to Kafka and Elastic search&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Using Notices</title>
      <link>https://www.airplanecraft.com/zh/post/notices/</link>
      <pubDate>Fri, 20 Aug 2021 00:00:00 +0000</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/notices/</guid>
      <description>
        
          
            &lt;p&gt;The &amp;quot;Notices&amp;quot; shortcode enables you to call out pieces of information - sidebars, warnings, tips, etc.&lt;/p&gt;
&lt;p&gt;To create a notice on a page, you can use the &lt;code&gt;notice&lt;/code&gt; shortcode.&lt;br&gt;
You use the &lt;code&gt;notice&lt;/code&gt; shortcode, with the first parameter being one of &lt;code&gt;note&lt;/code&gt;, &lt;code&gt;info&lt;/code&gt;, &lt;code&gt;tip&lt;/code&gt;, and &lt;code&gt;warning&lt;/code&gt;.  Then add a title for your
note in quotes as the second parameter.  The inner body of the note can be whatever markdown you want to create.&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>阿里云架构-使用privatelink让不同的vpc的服务可以访问</title>
      <link>https://www.airplanecraft.com/zh/post/alicloud_privatelink/</link>
      <pubDate>Wed, 28 Jul 2021 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/alicloud_privatelink/</guid>
      <description>
        
          
            &lt;h2 id=&#34;本来使用工具或者服务&#34;&gt;本来使用工具或者服务&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Alicloud&lt;/li&gt;
&lt;li&gt;vpc&lt;/li&gt;
&lt;li&gt;SLB&lt;/li&gt;
&lt;li&gt;PrivateLink endpoit zone and service&lt;/li&gt;
&lt;li&gt;ECS&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;架构图&#34;&gt;架构图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;PrivateLink&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/privatelink.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;架构说明&#34;&gt;架构说明&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;对于两个网络（VPC-A，VPC-B）的ECS提供的服务，要是A访问B，可以提供以下方案&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;B通过EIP或者IP或者绑定SLB，通过SLB的IP把B的服务暴露在公网上&lt;/li&gt;
&lt;li&gt;A网络和B网络互联&lt;/li&gt;
&lt;li&gt;通过privatelink来单向向让A网络的访问B网络的服务&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;分析上面优缺点&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;安全性不好，把服务暴露在公网&lt;/li&gt;
&lt;li&gt;A和B网络直接互联创建路由成本太高，第二就是可能会造成网络冲突&lt;/li&gt;
&lt;li&gt;通过privatelink私有网络连接成本低廉，单向的内网服务，不改变各自的网络配置&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;privatelink&#34;&gt;Privatelink&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如何创建privatelink服务&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;privatelind endpoint service：需要关联一个SLB，此slb必须支持privatelink的SLB，slb后面就是ECS或者其他的rds等都可以&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;privatelink endpoint 创建的是时候需要跟endpoint service 连接 一旦创建并且链接成功，那么privatelink就可以生效了&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;privatelink endpoint 有一个DNS地址，我们可以通过地址直接访问，此地址是aliyun内网地址&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>網絡服務器點對點的網速測試</title>
      <link>https://www.airplanecraft.com/zh/post/point-to-point-network-transfer-speed-test/</link>
      <pubDate>Wed, 02 Jun 2021 10:00:30 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/point-to-point-network-transfer-speed-test/</guid>
      <description>
        
          
            &lt;h2 id=&#34;本文简介&#34;&gt;本文简介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;我們跟數據供應商之間數據傳輸一直存在很多的問題，我們的網絡經過測速后非常的快，供應商也反復說他們的網速也非常快，那麽問題來了?既然大家都快，是不是在某個路由環節之間出現了問題呢?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;iperf-簡介&#34;&gt;iperf 簡介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;iperf是一种命令行工具，用于通过测量服务器之間可以处理的最大网络吞吐量来诊断网络速度问题。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;iperf信息&#34;&gt;iperf信息&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;iperf版本： iperf 3.1.3
官网地址： https://iperf.fr
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;安裝和運行&#34;&gt;安裝和運行&lt;/h2&gt;
&lt;p&gt;server&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;rpm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ivh&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iperf&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;download&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fedora&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iperf3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;3.1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fc24&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x86_64&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rpm&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;iperf3&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;client&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;rpm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ivh&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iperf&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;download&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fedora&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iperf3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;3.1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fc24&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x86_64&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rpm&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;iperf3&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;serverip&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5201&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;運行結果&#34;&gt;運行結果&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[root@PC-231 ~]# iperf3 -c 172.16.10.101 -p 5201
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;Connecting to host 172.16.10.101, port 5201
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[  4] local 192.168.25.231 port 59398 connected to 172.16.10.101 port 5201
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[  4]   0.00-1.00   sec   110 MBytes   926 Mbits/sec   80    175 KBytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[  4]   1.00-2.00   sec   110 MBytes   920 Mbits/sec   65    223 KBytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[  4]   2.00-3.00   sec   110 MBytes   920 Mbits/sec   65    240 KBytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[  4]   3.00-4.00   sec   110 MBytes   919 Mbits/sec   80    211 KBytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[  4]   4.00-5.00   sec   110 MBytes   920 Mbits/sec   65    225 KBytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[  4]   5.00-6.00   sec   109 MBytes   918 Mbits/sec   78    206 KBytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[  4]   6.00-7.00   sec   109 MBytes   917 Mbits/sec   68    236 KBytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[  4]   7.00-8.00   sec   109 MBytes   918 Mbits/sec   84    206 KBytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[  4]   8.00-9.00   sec   110 MBytes   920 Mbits/sec   65    242 KBytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[  4]   9.00-10.00  sec   109 MBytes   916 Mbits/sec   88    211 KBytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;- - - - - - - - - - - - - - - - - - - - - - - - -
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[ ID] Interval           Transfer     Bandwidth       Retr
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[  4]   0.00-10.00  sec  1.07 GBytes   919 Mbits/sec  738             sender
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[  4]   0.00-10.00  sec  1.07 GBytes   919 Mbits/sec                  receive
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;結論&#34;&gt;結論&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;數據供應商宣稱我們的帶寬不夠，實際從他們哪裏測試到我們這裏，每秒穩定在大概70M/s的傳輸速度，所以我們的帶寬是足夠的，問題是他們自己的程序出現了問題，對IO模型的處理遠遠不夠造成了阻塞&lt;/li&gt;
&lt;/ol&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>aws cdk introduction</title>
      <link>https://www.airplanecraft.com/zh/post/aws-cdk/</link>
      <pubDate>Fri, 26 Feb 2021 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-cdk/</guid>
      <description>
        
          
            &lt;h2 id=&#34;what-is-the-aws-cdk&#34;&gt;What is the AWS CDK?&lt;/h2&gt;
&lt;p&gt;The AWS Cloud Development Kit (CDK) ,a framework for defining cloud infrastructure in code and provisioning it through AWS CloudFormation.&lt;/p&gt;
&lt;h2 id=&#34;cdk-stack&#34;&gt;CDK stack&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;cdkstatck&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/awscdk.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;how-does-cdk-work&#34;&gt;How does CDK work&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Build with high-level constructs that automatically provide sensible, secure defaults for your AWS resources, defining more infrastructure with less code.&lt;/li&gt;
&lt;li&gt;Use programming idioms like parameters, conditionals, loops, composition, and inheritance to model your system design from building blocks provided by AWS and others.&lt;/li&gt;
&lt;li&gt;Put your infrastructure, application code, and configuration all in one place, ensuring that at every milestone you have a complete, cloud-deployable system.&lt;/li&gt;
&lt;li&gt;Employ software engineering practices such as code reviews, unit tests, and source control to make your infrastructure more robust.&lt;/li&gt;
&lt;li&gt;Connect your AWS resources together (even across stacks) and grant permissions using simple, intent-oriented APIs.&lt;/li&gt;
&lt;li&gt;Import existing AWS CloudFormation templates to give your resources a CDK API.&lt;/li&gt;
&lt;li&gt;Use the power of AWS CloudFormation to perform infrastructure deployments predictably and repeatedly, with rollback on error.&lt;/li&gt;
&lt;li&gt;Easily share infrastructure design patterns among teams within your organization or even with the public.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;what-does-cdk-benefit&#34;&gt;What does CDK benefit&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;The AWS CDK supports TypeScript, JavaScript, Python, Java, C#/.Net, and (in developer preview) Go. Developers can use one of these supported programming languages to define reusable cloud components known as Constructs. You compose these together into Stacks and Apps.
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;CDK提供了多种开发语言的支持&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>本地数据中心和云的对比</title>
      <link>https://www.airplanecraft.com/zh/post/local-datacenter-vs-cloud/</link>
      <pubDate>Tue, 02 Feb 2021 10:00:30 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/local-datacenter-vs-cloud/</guid>
      <description>
        
          
            &lt;h2 id=&#34;本文简介&#34;&gt;本文简介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;本来主要介绍云和本地的数据中心的对比，主要用阿里云来对比，作为aws和alicloud的认证工程师，我对云上的和自有数据中心架构系统做个详细的对比，本文，仅仅用alicloud&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;本系统简介&#34;&gt;本系统简介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;本系统主要是做美股和港股的数据处理，美股数据来源是polygon（基于websocket数据推送和restful查询api）,港股的数据来源是港交所（UDP广播）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;本系统功能：接收美股和港股的数据，并作本地的消息存储，用消息中间件来存储交易所数据，然用以一部分数据用来做大数据实时计算，一部数据用来做持久化的存储&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;本系统的架构图&#34;&gt;本系统的架构图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;架構圖&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/photo_2022-02-05_22-04-06.jpg&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;本系統本地使用硬件&#34;&gt;本系統本地使用硬件&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;軟件&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;狀態&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;服務器&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;數量&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;存儲&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;數量&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Kafka&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;cluster&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;centos8.2&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;5&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ssd&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4 raid5&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Elatic search&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;cluster&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;centos8.2&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;3&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ssd&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4 raid5&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Flink&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;cluster&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;centos8.2&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;3&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ssd&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4 raid5&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Polygon subscriber&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;single&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;centos8.2&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ssd&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4 raid5&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;APP&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;single&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;centos8.2&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ssd&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4 raid5&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;本地數據中心存在的主要問題&#34;&gt;本地數據中心存在的主要問題&lt;/h2&gt;
&lt;h3 id=&#34;硬件的問題&#34;&gt;硬件的問題&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt; 1. 硬盤如果寫滿，可擴展性非常的差，或者説磁盤出現損壞，需要更新磁盤都會有數據丟失的風險，并且服務會中斷
 2. 網絡設備沒有redundency
 3. 如果内存不夠用都需要定制内存，然後安裝，需要消耗大量的人力物力
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;軟件的問題&#34;&gt;軟件的問題&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt; 1. centos的系統的優化，包括swap,硬盤的分區，文件句柄數等等
 2. kafka flink elasticsearch 等軟件的優化需要非常專業的知識
 3. 如果要遷移kafka 或者es裏面的數據只能停止服務，然後進行數據的遷移
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;如果選擇阿里雲或者aws這裏拿阿里雲來説&#34;&gt;如果選擇阿里雲或者aws（這裏拿阿里雲來説）&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;1. 定制vpc網絡，阿里雲網絡外網基於bgp的，vpc本身就保障HA，redundency.
2. ECS的磁盤是scalable的，多大都是可以彈性擴展
3. network bandwith 可以 custome，多大的可以
4. ecs 的 cpu+mem 可以隨時升級
5. 不需要搭建kafka es 和flink 軟件cluster平臺，阿里雲有相關的服務，都是優化過的paas，性能非常的高，還可以按需隨時升級
6 .數據不用擔心丟失和遷移困難
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;總結&#34;&gt;總結&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;1. 作爲云架構師，很不幸的是我目前既要寫大量的code，還要管理綫下30多台服務器，花費了大量的時間去處理很多問題
2. 下一步要遷移服務到aws或者阿里雲上面
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>kafka cluster的搭建</title>
      <link>https://www.airplanecraft.com/zh/post/kafka-cluster-setup/</link>
      <pubDate>Thu, 30 Jul 2020 11:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/kafka-cluster-setup/</guid>
      <description>
        
          
            &lt;h2 id=&#34;本文使用工具或者服务&#34;&gt;本文使用工具或者服务&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Java 8&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://archive.apache.org/dist/kafka/3.0.0/kafka_2.13-3.0.0.tgz&#34;&gt;https://archive.apache.org/dist/kafka/3.0.0/kafka_2.13-3.0.0.tgz&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.apache.org/dyn/closer.lua/zookeeper/zookeeper-3.7.0/apache-zookeeper-3.7.0-bin.tar.gz&#34;&gt;https://www.apache.org/dyn/closer.lua/zookeeper/zookeeper-3.7.0/apache-zookeeper-3.7.0-bin.tar.gz&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Centos8.2&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;zookeeper-簡介&#34;&gt;Zookeeper 簡介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ZooKeeper是一个分布式协调服务，它的主要作用是为分布式系统提供一致性服务，提供的功能包括：配置维护、命名服务、分布式同步、组服务等。Kafka的运行依赖ZooKeeper。
&lt;ol&gt;
&lt;li&gt;Broker注册&lt;/li&gt;
&lt;li&gt;Topic注册&lt;/li&gt;
&lt;li&gt;生产者负载均衡&lt;/li&gt;
&lt;li&gt;消费者负载均衡&lt;/li&gt;
&lt;li&gt;消费者注册&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;kafka-簡介&#34;&gt;Kafka 簡介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Kafka是由Apache软件基金会开发的一个开源流处理平台，由Scala和Java编写。Kafka是一种高吞吐量的分布式发布订阅消息系统，它可以处理消费者在网站中的所有动作流数据。
&lt;ol&gt;
&lt;li&gt;Kafka  是一种高吞吐量的分布式发布订阅消息系统，有如下特性：&lt;/li&gt;
&lt;li&gt;通过O(1)的磁盘数据结构提供消息的持久化，这种结构对于即使数以TB的消息存储也能够保持长时间的稳定性能。&lt;/li&gt;
&lt;li&gt;高吞吐量 即使是非常普通的硬件Kafka也可以支持每秒数百万的消息。&lt;/li&gt;
&lt;li&gt;支持通过Kafka服务器和消费机集群来分区消息。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;zookeeper-與kafka之間的關係&#34;&gt;zookeeper 與kafka之間的關係&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ZooKeeper用于分布式系统的协调，Kafka使用ZooKeeper也是基于相同的原因。ZooKeeper主要用来协调Kafka的各个broker，不仅可以实现broker的负载均衡，而且当增加了broker或者某个broker故障了，ZooKeeper将会通知生产者和消费者，这样可以保证整个系统正常运转。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;安裝zooker和kafka-之前首先要做系統的優化和配置&#34;&gt;安裝zooker和kafka 之前首先要做系統的優化和配置&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;文件句柄數的調整&lt;/li&gt;
&lt;li&gt;oracle Jre8 安裝&lt;/li&gt;
&lt;li&gt;磁盤的分區和挂載點必須滿足kafka大數量的存儲xfs分區&lt;/li&gt;
&lt;li&gt;關閉selinux&lt;/li&gt;
&lt;li&gt;防火墻暫時關閉(後面看可以統一規劃端口)&lt;/li&gt;
&lt;li&gt;創建非root的kafka管理用戶並添加sudoer權限&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;注意事項&#34;&gt;注意事項&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;kafka是一個分佈式的消息系統，我們會臨時存儲消息，如果存儲消息的時間長，那麽需要大空間，所以分區的時候已經要注意，就是安裝kafka的時候存儲一定要挂載到大的硬盤空間上&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;zookeeper-配置&#34;&gt;Zookeeper 配置&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# The number of milliseconds of each tick&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;tickTime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# The number of ticks that the initial&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# synchronization phase can take&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;initLimit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# The number of ticks that can pass between&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# sending a request and getting an acknowledgement&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;syncLimit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# the directory where the snapshot is stored.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# do not use /tmp for storage, /tmp here is just&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# example sakes.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;dataDir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;opt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# /opt/conf/myid #myid文件，里面的内容为数字，用于标识主机，如果这个文件没有的话，zookeeper无法启动&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# the port at which the clients will connect&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;clientPort&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2181&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# the maximum number of client connections.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# increase this if you need to handle more clients&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#maxClientCnxns=60&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Be sure to read the maintenance section of the&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# administrator guide before turning on autopurge.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# The number of snapshots to retain in dataDir&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#autopurge.snapRetainCount=3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Purge task interval in hours&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Set to &amp;#34;0&amp;#34; to disable auto purge feature&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#autopurge.purgeInterval=1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;31&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## Metrics Providers&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;32&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;33&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# https://prometheus.io Metrics Exporter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;34&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#metricsProvider.className=org.apache.zookeeper.metrics.prometheus.PrometheusMetricsProvider&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;35&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#metricsProvider.httpPort=7000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;36&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#metricsProvider.exportJvmInfo=true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;37&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;25.231&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;12888&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;13888&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;38&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;25.232&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;12888&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;13888&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;39&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;25.233&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;12888&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;13888&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;40&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;25.234&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;12888&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;13888&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;41&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;25.235&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;12888&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;13888&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;42&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;43&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#配置参数说明：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;44&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;tickTime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;客户端与服务器或者服务器与服务器之间每个&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tickTime时间就会发送一次心跳&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。通过心跳不仅能够用来监听机器的工作状态，还可以通过心跳来控制&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Flower跟Leader的通信时间&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，默认&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;秒&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;45&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;initLimit&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：集群中的&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;follower服务器&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;F&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;与&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;leader服务器&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;之间初始连接时能容忍的最多心跳数（&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tickTime的数量&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）。&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;46&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;syncLimit&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：集群中&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;flower服务器&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;F&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）跟&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;leader&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）服务器之间的请求和答应最多能容忍的心跳数。&lt;/span&gt;   
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;47&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;dataDir&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：该属性对应的目录是用来存放&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;myid信息跟一些版本&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，日志，跟服务器唯一的&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ID信息等&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;48&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;clientPort&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：客户端连接的接口，客户端连接&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zookeeper服务器的端口&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zookeeper会监听这个端口&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，接收客户端的请求访问！这个端口默认是&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2181&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;49&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;service&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;YYY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;50&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：代表服务器编号（也就是&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;myid里面的值&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;51&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;YYY&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：服务器地址&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;52&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：表示&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Flower&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;跟&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Leader的通信端口&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，简称服务端内部通信的端口（默认&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2888&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;我们使用&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;12888&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;53&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：表示&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;是选举端口（默认是&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3888&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;我们使用&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;kafka的配置&#34;&gt;Kafka的配置&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# Licensed to the Apache Software Foundation (ASF) under one or more
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# contributor license agreements.  See the NOTICE file distributed with
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# this work for additional information regarding copyright ownership.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The ASF licenses this file to You under the Apache License, Version 2.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# (the &amp;#34;License&amp;#34;); you may not use this file except in compliance with
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# the License.  You may obtain a copy of the License at
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#    http://www.apache.org/licenses/LICENSE-2.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# Unless required by applicable law or agreed to in writing, software
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# distributed under the License is distributed on an &amp;#34;AS IS&amp;#34; BASIS,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# See the License for the specific language governing permissions and
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# limitations under the License.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# see kafka.server.KafkaConfig for additional details and defaults
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 18&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 19&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;############################# Server Basics #############################
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 20&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 21&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The id of the broker. This must be set to a unique integer for each broker.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 22&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;broker.id=1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 23&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 24&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;############################# Socket Server Settings #############################
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 25&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 26&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The address the socket server listens on. It will get the value returned from
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 27&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# java.net.InetAddress.getCanonicalHostName() if not configured.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 28&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#   FORMAT:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 29&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#     listeners = listener_name://host_name:port
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 30&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#   EXAMPLE:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 31&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#     listeners = PLAINTEXT://your.host.name:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 32&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;listeners=PLAINTEXT://192.168.25.231:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 33&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 34&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# Hostname and port the broker will advertise to producers and consumers. If not set,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 35&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# it uses the value for &amp;#34;listeners&amp;#34; if configured.  Otherwise, it will use the value
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 36&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# returned from java.net.InetAddress.getCanonicalHostName().
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 37&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#advertised.listeners=PLAINTEXT://your.host.name:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 38&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 39&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# Maps listener names to security protocols, the default is for them to be the same. See the config documentation for more details
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 40&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#listener.security.protocol.map=PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 41&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 42&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The number of threads that the server uses for receiving requests from the network and sending responses to the network
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 43&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;num.network.threads=3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 44&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 45&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The number of threads that the server uses for processing requests, which may include disk I/O
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 46&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;num.io.threads=8
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 47&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 48&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The send buffer (SO_SNDBUF) used by the socket server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 49&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;socket.send.buffer.bytes=102400
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 50&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 51&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The receive buffer (SO_RCVBUF) used by the socket server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 52&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;socket.receive.buffer.bytes=102400
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 53&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 54&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The maximum size of a request that the socket server will accept (protection against OOM)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 55&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;socket.request.max.bytes=104857600
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 56&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 57&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 58&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;############################# Log Basics #############################
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 59&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 60&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# A comma separated list of directories under which to store log files
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 61&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;log.dirs=/kafka-data/kafka-logs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 62&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 63&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The default number of log partitions per topic. More partitions allow greater
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 64&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# parallelism for consumption, but this will also result in more files across
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 65&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# the brokers.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 66&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;num.partitions=1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 67&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 68&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The number of threads per data directory to be used for log recovery at startup and flushing at shutdown.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 69&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# This value is recommended to be increased for installations with data dirs located in RAID array.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 70&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;num.recovery.threads.per.data.dir=1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 71&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 72&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;############################# Internal Topic Settings  #############################
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 73&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The replication factor for the group metadata internal topics &amp;#34;__consumer_offsets&amp;#34; and &amp;#34;__transaction_state&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 74&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# For anything other than development testing, a value greater than 1 is recommended to ensure availability such as 3.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 75&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;offsets.topic.replication.factor=1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 76&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;transaction.state.log.replication.factor=1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 77&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;transaction.state.log.min.isr=1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 78&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 79&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;############################# Log Flush Policy #############################
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 80&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 81&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# Messages are immediately written to the filesystem but by default we only fsync() to sync
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 82&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# the OS cache lazily. The following configurations control the flush of data to disk.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 83&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# There are a few important trade-offs here:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 84&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#    1. Durability: Unflushed data may be lost if you are not using replication.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 85&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#    2. Latency: Very large flush intervals may lead to latency spikes when the flush does occur as there will be a lot of data to flush.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 86&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#    3. Throughput: The flush is generally the most expensive operation, and a small flush interval may lead to excessive seeks.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 87&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The settings below allow one to configure the flush policy to flush data after a period of time or
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 88&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# every N messages (or both). This can be done globally and overridden on a per-topic basis.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 89&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 90&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The number of messages to accept before forcing a flush of data to disk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 91&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#log.flush.interval.messages=10000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 92&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 93&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The maximum amount of time a message can sit in a log before we force a flush
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 94&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#log.flush.interval.ms=1000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 95&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 96&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;############################# Log Retention Policy #############################
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 97&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 98&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The following configurations control the disposal of log segments. The policy can
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 99&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# be set to delete segments after a period of time, or after a given size has accumulated.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# A segment will be deleted whenever *either* of these criteria are met. Deletion always happens
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;101&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# from the end of the log.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;102&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;103&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The minimum age of a log file to be eligible for deletion due to age
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;104&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;log.retention.hours=168
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;105&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;106&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# A size-based retention policy for logs. Segments are pruned from the log unless the remaining
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;107&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# segments drop below log.retention.bytes. Functions independently of log.retention.hours.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;108&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;#log.retention.bytes=1073741824
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;109&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;110&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The maximum size of a log segment file. When this size is reached a new log segment will be created.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;111&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;log.segment.bytes=1073741824
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;112&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;113&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The interval at which log segments are checked to see if they can be deleted according
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;114&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# to the retention policies
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;115&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;log.retention.check.interval.ms=300000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;116&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;117&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;############################# Zookeeper #############################
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;118&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;119&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# Zookeeper connection string (see zookeeper docs for details).
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;120&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# This is a comma separated host:port pairs, each corresponding to a zk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;121&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# server. e.g. &amp;#34;127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002&amp;#34;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;122&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# You can also append an optional chroot string to the urls to specify the
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;123&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# root directory for all kafka znodes.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;124&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;zookeeper.connect=192.168.25.231:2181,192.168.25.232:2181,192.168.25.233:2181,192.168.25.234:2181,192.168.25.235:2181
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;125&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;126&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# Timeout in ms for connecting to zookeeper
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;127&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;zookeeper.connection.timeout.ms=18000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;129&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;130&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;131&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;############################# Group Coordinator Settings #############################
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;132&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;133&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The following configuration specifies the time, in milliseconds, that the GroupCoordinator will delay the initial consumer rebalance.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;134&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The rebalance will be further delayed by the value of group.initial.rebalance.delay.ms as new members join the group, up to a maximum of max.poll.interval.ms.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;135&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# The default value for this is 3 seconds.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;136&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# We override this to 0 here as it makes for a better out-of-the-box experience for development and testing.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;137&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;# However, in production environments the default value of 3 seconds is more suitable as this will help to avoid unnecessary, and potentially expensive, rebalances during application startup.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;138&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;group.initial.rebalance.delay.ms=0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;安装kafka的ui-监控&#34;&gt;安装kafka的ui 监控&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;docker run -p 8080:8080 \
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;	-e KAFKA_CLUSTERS_0_NAME=local \
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;	-e KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=192.168.25.231:9092,192.168.25.232:9092,192.168.25.231:9092,192.168.25.233:9092,192.168.25.234:9092,192.168.25.235:9092 \
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;	-d provectuslabs/kafka-ui:latest 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;访问http://ip:8080/ 就可以看到kafka管理页面&lt;/li&gt;
&lt;/ol&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>使用terraform创建阿里ecs用ansible完成主机配置</title>
      <link>https://www.airplanecraft.com/zh/post/alicloud-terraform-create-ecs-ansible-provision/</link>
      <pubDate>Fri, 29 May 2020 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/alicloud-terraform-create-ecs-ansible-provision/</guid>
      <description>
        
          
            &lt;h2 id=&#34;使用terraform创建ecs用ansible完成ecs的provision&#34;&gt;使用terraform创建ecs用ansible完成ecs的provision&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;本文目标就是是用terraform创建ecs包括security group,disk,vpc,vswtich,然后用ansible来初始化和配置创建好的ecs&lt;/li&gt;
&lt;li&gt;本文只是创建了一个单机ecs，后续的文章会有load balance出现&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;terrorm-创建ecs&#34;&gt;terrorm 创建ecs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;什么是terraform&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;terraform是云工具，也就是针对云平台的&lt;/li&gt;
&lt;li&gt;terraform是在云平台上管理资源的，就是一个云资源编排工具&lt;/li&gt;
&lt;li&gt;terraform目标是&amp;quot;Write, Plan, and create Infrastructure as Code&amp;quot;, 基础架构即代码。具体的说就是可以用代码来管理维护 IT 资源，把之前需要手动操作的一部分任务通过程序来自动化的完成，这样的做的结果非常明显：高效、不易出错。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Terraform 核心功能&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;基础架构即代码(Infrastructure as Code)&lt;/li&gt;
&lt;li&gt;执行计划(Execution Plans)&lt;/li&gt;
&lt;li&gt;资源图(Resource Graph)&lt;/li&gt;
&lt;li&gt;自动化变更(Change Automation)&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;terraform安装&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;下载https://www.terraform.io/downloads.html&lt;/li&gt;
&lt;li&gt;设置环境变量（省略）&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建terraform 配置文件&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;main.tf&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;provider&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;access_key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxx&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;secret_key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxx&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;region&lt;/span&gt;     &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ap-southeast-1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;c1&#34;&gt;#version    = &amp;#34;~&amp;gt; 1.5.0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud_instance_types&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;instance_type&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;instance_type_family&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ecs.n1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;  9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;cpu_core_count&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;memory_size&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud_security_group&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;group&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;short_name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;description&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;New security group&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;vpc_id&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alicloud_vpc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vpc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 18&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 19&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud_key_pair&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud_key_pair&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 20&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;key_name&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;terraform_test&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 21&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;public_key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;${file(var.ssh_key_public)}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 22&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 23&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud_security_group_rule&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;allow_http_80&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 24&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;              &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ingress&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 25&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;ip_protocol&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tcp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 26&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;nic_type&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nic_type&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 27&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;policy&lt;/span&gt;            &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;accept&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 28&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;port_range&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;80/80&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 29&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;priority&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 30&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;security_group_id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alicloud_security_group&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;group&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 31&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;cidr_ip&lt;/span&gt;           &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;0.0.0.0/0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 32&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 33&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 34&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud_security_group_rule&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;allow_https_443&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 35&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;              &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ingress&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 36&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;ip_protocol&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tcp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 37&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;nic_type&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nic_type&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 38&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;policy&lt;/span&gt;            &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;accept&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 39&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;port_range&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;443/443&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 40&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;priority&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 41&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;security_group_id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alicloud_security_group&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;group&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 42&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;cidr_ip&lt;/span&gt;           &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;0.0.0.0/0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 43&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 44&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud_security_group_rule&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;allow_ssh_22&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 45&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;              &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ingress&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 46&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;ip_protocol&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tcp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 47&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;nic_type&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nic_type&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 48&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;policy&lt;/span&gt;            &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;accept&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 49&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;port_range&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;22/22&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 50&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;priority&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 51&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;security_group_id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alicloud_security_group&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;group&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 52&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;cidr_ip&lt;/span&gt;           &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;0.0.0.0/0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 53&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 54&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 55&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 56&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud_disk&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;disk&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 57&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;availability_zone&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alicloud_instance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;availability_zone&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 58&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;category&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;disk_category&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 59&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;              &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;disk_size&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 60&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;             &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;number&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 61&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 62&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 63&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud_vpc&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;vpc&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 64&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;cidr_block&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.0.0/12&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 65&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 66&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 67&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud_zones&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;zones_ds&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 68&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;available_instance_type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;alicloud_instance_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instance_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instance_types&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 69&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 70&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 71&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud_vswitch&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;vswitch&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 72&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;vpc_id&lt;/span&gt;            &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alicloud_vpc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vpc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 73&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;cidr_block&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.0.0/24&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 74&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;availability_zone&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;alicloud_zones&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zones_ds&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zones&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 75&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 76&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud_instance&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;instance&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 77&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;instance_name&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;${var.short_name}-${var.role}-${format(var.count_format, count.index + 1)}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 78&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;host_name&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;${var.short_name}-${var.role}-${format(var.count_format, count.index + 1)}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 79&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;image_id&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;image_id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 80&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;instance_type&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;alicloud_instance_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instance_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instance_types&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 81&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;           &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;number&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 82&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;security_groups&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alicloud_security_group&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;group&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.*.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 83&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;vswitch_id&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alicloud_vswitch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vswitch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 84&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 85&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;internet_charge_type&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;internet_charge_type&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 86&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;internet_max_bandwidth_out&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;internet_max_bandwidth_out&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 87&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 88&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;password&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ecs_password&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 89&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 90&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;instance_charge_type&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;PostPaid&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 91&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;system_disk_category&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cloud_efficiency&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 92&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;security_enhancement_strategy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Deactive&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 93&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;key_name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alicloud_key_pair&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;alicloud_key_pair&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key_name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 94&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;data_disks&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 95&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;disk1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 96&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;20&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 97&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;n&#34;&gt;category&lt;/span&gt;    &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cloud_efficiency&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 98&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;n&#34;&gt;description&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;disk1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 99&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;tags&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;101&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;n&#34;&gt;role&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;role&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;102&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;n&#34;&gt;dc&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;datacenter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;103&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;104&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;105&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;alicloud_disk_attachment&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;instance-attachment&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;106&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;number&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;107&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;disk_id&lt;/span&gt;     &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alicloud_disk&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;disk&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.*.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;108&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;n&#34;&gt;instance_id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alicloud_instance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.*.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;109&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;outputs.tf&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; output &amp;#34;hostname_list&amp;#34; {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; value = join(&amp;#34;,&amp;#34;, alicloud_instance.instance.*.instance_name)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; output &amp;#34;ecs_ids&amp;#34; {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; value = join(&amp;#34;,&amp;#34;, alicloud_instance.instance.*.id)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; output &amp;#34;ecs_public_ip&amp;#34; {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; value = join(&amp;#34;,&amp;#34;, alicloud_instance.instance.*.public_ip)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; output &amp;#34;tags&amp;#34; {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; value = jsonencode(alicloud_instance.instance.*.tags)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;variables.tf&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;number&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;count_format&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%02d&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;image_id&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ubuntu_18_04_64_20G_alibase_20190624.vhd&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;work&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;datacenter&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;beijing&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;short_name&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;hi&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ecs_type&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ecs.n4.small&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ecs_password&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Test12345&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;31&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;32&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;33&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;internet_charge_type&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;34&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;PayByTraffic&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;35&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;36&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;37&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;internet_max_bandwidth_out&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;38&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;39&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;40&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;41&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;disk_category&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;42&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cloud_efficiency&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;43&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;44&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;45&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;disk_size&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;46&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;40&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;47&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;48&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;49&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;nic_type&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;50&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;intranet&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;51&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;52&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ssh_key_public&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;53&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt;     &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;~/.ssh/id_rsa.pub&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;54&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;description&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Path to the SSH public key for accessing cloud instances. Used for creating AWS keypair.&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;55&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;56&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;57&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ssh_key_private&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;58&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;default&lt;/span&gt;     &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;~/.ssh/id_rsa&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;59&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;description&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Path to the SSH public key for accessing cloud instances. Used for creating AWS keypair.&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;60&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;versions.tf&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; terraform {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; required_version = &amp;#34;&amp;gt;= 0.12&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;用ansible部署docker容器&#34;&gt;用ansible部署docker容器&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ansible介绍&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>使用ansible在多台客户机安装docker</title>
      <link>https://www.airplanecraft.com/zh/post/ansible-deploy-docker-container/</link>
      <pubDate>Fri, 22 May 2020 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/ansible-deploy-docker-container/</guid>
      <description>
        
          
            &lt;h2 id=&#34;install-ansible-on-server&#34;&gt;Install ansible on server&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ansible是一个开源配置管理工具，可以使用它来自动化任务，部署应用程序实现IT基础架构。Ansible可以用来自动化日常任务，比如，服务器的初始化配置、安全基线配置、更新和打补丁系统，安装软件包等&lt;/li&gt;
&lt;li&gt;Ansible包括控制节点（Control node）也叫主机，受控节点（Managed nodes）也叫客户机,只在控制节点安装就好了&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ansible-优点&#34;&gt;ansible 优点&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;只需要在主机上安装ansible软件，客户机不需要安装&lt;/li&gt;
&lt;li&gt;通讯协议SSH协议和SFTP&lt;/li&gt;
&lt;li&gt;可并行执行程序，默认情况下，forks值为5，可以按需，在配置文件中增大该值&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ansiblecentos安装和配置&#34;&gt;ansible(centos)安装和配置&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;yum install ansible&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;为了使Ansible与客户端通信，需要使用用户帐户配置管理机和客户机。为了方便快捷安全，一般会配置证书方式连接客户机&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;ssh-keygen
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;ssh-copy-id ansible@node ip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;使用ad-hoc-在客户执行命令相当于命令行&#34;&gt;使用ad-hoc 在客户执行命令，相当于命令行&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;/etc/ansible/hosts,最好谨慎使用hosts配置，安全问题需要解决&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[docker]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; 192.168.25.173 ansible_ssh_port=22 ansible_ssh_user=root ansible_ssh_pass=&amp;#34;xxx&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;执行以下ping,命令里面的docker对应的上面文件的docker&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;ansible docker -m ping
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用ad-hoc命令管理软件包,安装&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;ansible docker -m yum -a &amp;#34;name=docker state=present&amp;#34; -b
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用ad-hoc命令管理软件包,设置默认启动&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;ansible docker -b -m service -a &amp;#34;name=docker  enabled=yes&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用ad-hoc命令管理软件包,启动&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;ansible docker -b -m service -a &amp;#34;name=httpd state=started&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;使用ansible-playbook-部署docker&#34;&gt;使用ansible-playbook 部署docker&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;test-ansile.yml 文件内容&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>给nginx安装免费的证书</title>
      <link>https://www.airplanecraft.com/zh/post/linux-cerbot/</link>
      <pubDate>Fri, 08 May 2020 14:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/linux-cerbot/</guid>
      <description>
        
          
            &lt;h2 id=&#34;https-vs-http&#34;&gt;https vs http&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;https比http安全原因是传输的过程中使用了加密，因为https在服务器端使用证书&lt;/li&gt;
&lt;li&gt;证书的认证需要认证机构，随便一个https的证书阿里巴巴云最便宜的一年要2000多，aws更是贵到天上，所以对于个人程序员来来说最好有免费的证书&lt;/li&gt;
&lt;li&gt;cerbot就是你的选择&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;cerbot简介&#34;&gt;cerbot简介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;cerbot就是Electronic Frontier Foundation (EFF)这个机构给大家发的福利，简单的一句话来说就是给你提供3个月的免费证书，证书到期后继续免费续约，个人网站是用最方便，每三个月更新一次就可以了&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;cerbot-使用&#34;&gt;cerbot 使用&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;cerbot 安装脚本&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install yum-utils
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;yum-config-manager --enable rhui-REGION-rhel-server-extras rhui-REGION-rhel-server-optional
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;sudo yum install certbot python2-certbot-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;sudo certbot --nginx(sudo certbot certonly --nginx)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;echo &amp;#34;0 0,12 * * * root python -c &amp;#39;import random; import time; time.sleep(random.random() * 3600)&amp;#39; &amp;amp;&amp;amp; certbot renew -q&amp;#34; | sudo tee -a /etc/crontab &amp;gt; /dev/null (auto renewal)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;cerbot-证书验证&#34;&gt;cerbot 证书验证&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;To confirm that your site is set up properly, visit &lt;a href=&#34;https://yourwebsite.com/&#34;&gt;https://yourwebsite.com/&lt;/a&gt; in your browser and look for the lock icon in the URL bar. If you want to check that you have the top-of-the-line installation, you can head to &lt;a href=&#34;https://www.ssllabs.com/ssltest/&#34;&gt;https://www.ssllabs.com/ssltest/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>vagrant使用介绍</title>
      <link>https://www.airplanecraft.com/zh/post/vagrant-windows-template/</link>
      <pubDate>Wed, 22 Apr 2020 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/vagrant-windows-template/</guid>
      <description>
        
          
            &lt;h2 id=&#34;vagrant-简介&#34;&gt;vagrant 简介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;VirtualBox 是一款开源虚拟机软件,vagrant是一个基于Ruby的工具，用于创建和部署虚拟化开发环境。它使用Oracle的开源VirtualBox虚拟化系统，使用Chef创建自动化虚拟环境。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;BBC Vagrant 是基于VirtualBox创建的虚拟机，并通过Vagrant进行打包而得到的VM环境。在虚拟机中部署好开发环境并建立虚拟机和实体机的文件共享，在开发时，可以通过实体机进行文件修改，并经过虚拟机中的环境执行，从而实现不同操作系统的工作环境的轻松部署。&lt;/p&gt;
&lt;h2 id=&#34;安装-vagrant和virtualbox&#34;&gt;安装 vagrant和virtualbox&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;下载并安装VirtualBox（ &lt;a href=&#34;https://www.virtualbox.org/wiki/Downloads&#34;&gt;https://www.virtualbox.org/wiki/Downloads&lt;/a&gt; ）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;VirtualBox 4.3.12下载地址(windows请用此链接)：http://dlc-cdn.sun.com/virtualbox/4.3.12/index.html&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下载并安装Vagrant（ &lt;a href=&#34;http://www.vagrantup.com/downloads.html&#34;&gt;http://www.vagrantup.com/downloads.html&lt;/a&gt; ）。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;安装和定制box&#34;&gt;安装和定制box&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;下载windows 10 box文件。
&lt;a href=&#34;https://app.vagrantup.com/mrlesmithjr/boxes/windows10/versions/1574780096/providers/virtualbox.box&#34;&gt;https://app.vagrantup.com/mrlesmithjr/boxes/windows10/versions/1574780096/providers/virtualbox.box&lt;/a&gt; 到c:\vagrant\download&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;执行命令&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;vagrant&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;box&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;add&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;win10&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;\&lt;span class=&#34;n&#34;&gt;vagrant&lt;/span&gt;\&lt;span class=&#34;n&#34;&gt;download&lt;/span&gt;\&lt;span class=&#34;n&#34;&gt;virtualbox&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;box&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;\&lt;span class=&#34;n&#34;&gt;vagrant&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;vagrant&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;init&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;win10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;vagrant&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;up&lt;/span&gt;  &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vagrant&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;查看模板文件c:\vagrant\Vagrantfile&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    $script = &amp;lt;&amp;lt;-&amp;#39;SCRIPT&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        echo &amp;#34;starting wechat&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        ipconfig &amp;gt; c:\ip.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        C:\Users\wechat\WeChat.exe &amp;gt; c:\wechat.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        netstat &amp;gt; c:\netstat.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        echo &amp;#34;started wechat&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    SCRIPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    Vagrant.configure(&amp;#34;2&amp;#34;) do |config|
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    config.vm.provider :virtualbox do |vb|
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        vb.gui = true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        vb.memory = 8*1024
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    end
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    config.vm.hostname = &amp;#39;wechat&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    config.vm.boot_timeout = 99999999
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    config.vm.box = &amp;#34;mrl/windows10&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    config.vm.communicator = &amp;#34;winrm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    #config.vm.provision :shell, path: &amp;#34;install-wechat.cmd&amp;#34;, privileged: true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    config.vm.provision &amp;#34;file&amp;#34;, source: &amp;#34;./wechat&amp;#34;, destination: &amp;#34;C:\\Users\\wechat&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    config.vm.provision &amp;#34;shell&amp;#34;, path: &amp;#34;wechat.cmd&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    end
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;上面的wechat不可能启动起来，只可以启动后台程序，因为winrm无法启动xwindow，所以客户端没有可能启动起来，如果需要启动起来，就需要使用rdp来连接启动&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>手把手使用Hugo搭建网站-高级篇</title>
      <link>https://www.airplanecraft.com/zh/post/hugo-advanced-level-lesson/</link>
      <pubDate>Tue, 26 Nov 2019 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/hugo-advanced-level-lesson/</guid>
      <description>
        
          
            &lt;p&gt;&lt;a id=&#34;toc_anchor&#34; name=&#34;#13-手把手使用hugo搭建网站高级篇&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;13-手把手使用hugo搭建网站高级篇&#34;&gt;1.3. 手把手使用hugo搭建网站高级篇&lt;/h2&gt;
&lt;p&gt;&lt;a id=&#34;toc_anchor&#34; name=&#34;#13.1-創建页面的目錄&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;131-創建页面的目錄&#34;&gt;1.3.1. 創建页面的目錄&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;hugo提供了目錄的支持table of content&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;創建目錄首先你的文章必須有標題&lt;/li&gt;
&lt;li&gt;在layouts/_default/single.html 添加代碼 {{.TableOfContents}}&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          {{ define &amp;#34;main&amp;#34; -}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;lt;div class=&amp;#34;post&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;lt;h1&amp;gt;{{ .Title }}&amp;lt;/h1&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;lt;time datetime={{ .Date.Format &amp;#34;2006-01-02T15:04:05Z0700&amp;#34; }} class=&amp;#34;post-date&amp;#34;&amp;gt;{{ .Date.Format &amp;#34;Mon, Jan 2, 2006&amp;#34; }}&amp;lt;/time&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          {{.TableOfContents}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          {{ .Content }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          {{ if .Site.DisqusShortname -}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;lt;h2&amp;gt;Comments&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          {{ template &amp;#34;_internal/disqus.html&amp;#34; . }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          {{- end }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          {{ partial &amp;#34;related.html&amp;#34; . }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          {{- end }}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a id=&#34;toc_anchor&#34; name=&#34;#13.2-创建搜索&#34;&gt;&lt;/a&gt;&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>手把手使用Hugo搭建网站-中级篇</title>
      <link>https://www.airplanecraft.com/zh/post/hugo-medium-level-lesson/</link>
      <pubDate>Tue, 26 Nov 2019 11:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/hugo-medium-level-lesson/</guid>
      <description>
        
          
            &lt;p&gt;&lt;a id=&#34;toc_anchor&#34; name=&#34;#12-手把手使用hugo搭建网站进阶篇&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;12-手把手使用hugo搭建网站进阶篇&#34;&gt;1.2. 手把手使用hugo搭建网站进阶篇&lt;/h2&gt;
&lt;p&gt;&lt;a id=&#34;toc_anchor&#34; name=&#34;#12.1-自定义菜单&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;121-自定义菜单&#34;&gt;1.2.1. 自定义菜单&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;配置定义菜单栏
&lt;ol&gt;
&lt;li&gt;layouts/partials/sidebar.html&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &amp;lt;aside class=&amp;#34;sidebar&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;lt;div class=&amp;#34;container sidebar-sticky&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &amp;lt;div class=&amp;#34;sidebar-about&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;a href=&amp;#34;{{ .Site.BaseURL }}&amp;#34;&amp;gt;&amp;lt;h1&amp;gt;{{ .Site.Title }}&amp;lt;/h1&amp;gt;&amp;lt;/a&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;p class=&amp;#34;lead&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        {{ with .Site.Params.description }} {{.}} {{ else }}{{end}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &amp;lt;nav&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;ul class=&amp;#34;sidebar-nav&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        {{ $currentPage := . }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;           {{ range .Site.Menus.main -}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;           &amp;lt;li&amp;gt;   &amp;lt;a class=&amp;#34;sidebar-nav-item{{if or ($currentPage.IsMenuCurrent &amp;#34;main&amp;#34; .) ($currentPage.HasMenuCurrent &amp;#34;main&amp;#34; .) }} active{{end}}&amp;#34; href=&amp;#34;{{ .URL }}&amp;#34; title=&amp;#34;{{ .Title }}&amp;#34;&amp;gt;{{ .Name }}&amp;lt;/a&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        {{- end }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;/ul&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &amp;lt;ul class=&amp;#34;sidebar-nav&amp;#34;&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;/ul&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &amp;lt;/nav&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;     &amp;lt;p&amp;gt;{{ with .Site.Params.copyright }}{{.}}{{ else }}&amp;amp;copy;  xxx 公司 {{ now.Format &amp;#34;2006&amp;#34;}}.  All rights reserved. {{end}} &amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;lt;/aside&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;site/config.toml&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   baseURL = &amp;#34;http://clouda3.github.io/&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   languageCode = &amp;#34;en-us&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   title = &amp;#34;Clouda3&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   theme = &amp;#34;hyde&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   enableRobotsTXT=&amp;#34;true&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   [permalinks]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   post = &amp;#34;/:filename/&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   [imaging]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   quality = 99
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   [params]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   description = &amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   homeMetaContent = &amp;#34;clouda3 personal blog&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   footer = &amp;#34;clouda3的个人网站&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   date = &amp;#34;2019-04-10 14:05:50&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   codePenUser = &amp;#34;someUser&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   katex = true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   [menu]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   [[menu.main]]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      identifier = &amp;#34;home&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      name = &amp;#34;home&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      url = &amp;#34;/&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      weight = 1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   [[menu.main]]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      identifier = &amp;#34;blog&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      name = &amp;#34;Blog&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      url = &amp;#34;/posts/&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;31&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      weight = 2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;32&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   [[menu.main]]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;33&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      identifier = &amp;#34;tags&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;34&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      name = &amp;#34;Tags&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;35&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      url = &amp;#34;/tags/&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;36&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      weight = 3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;37&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   [[menu.main]]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;38&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      identifier = &amp;#34;about&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;39&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      name = &amp;#34;About&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;40&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      url = &amp;#34;/about&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;41&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      weight = 4
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;42&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;   [[menu.main]]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;43&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      identifier = &amp;#34;rss&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;44&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      name = &amp;#34;RSS&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;45&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      url = &amp;#34;/index.xml&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;46&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      weight = 5	
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;内容页面关联菜单
&lt;ol&gt;
&lt;li&gt;content/posts 目录下面添加文章&lt;/li&gt;
&lt;li&gt;hugo new post post/abc.md
&lt;a id=&#34;toc_anchor&#34; name=&#34;#12.2-自定义tag/category/keyword&#34;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;122-自定义tagcategorykeyword&#34;&gt;1.2.2. 自定义tag/category/keyword&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;无论是tag,category 还是keyword 都是用来分类的，在hugo里面没有太多的区别，都可以自定义,先演示页面keywords&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>手把手使用Hugo搭建网站-初级篇</title>
      <link>https://www.airplanecraft.com/zh/post/hugo-entry-level-lesson/</link>
      <pubDate>Tue, 26 Nov 2019 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/hugo-entry-level-lesson/</guid>
      <description>
        
          
            &lt;p&gt;&lt;a id=&#34;toc_anchor&#34; name=&#34;#11-手把手使用hugo搭建网站初级篇&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;11-手把手使用hugo搭建网站初级篇&#34;&gt;1.1. 手把手使用hugo搭建网站初级篇&lt;/h2&gt;
&lt;p&gt;&lt;a id=&#34;toc_anchor&#34; name=&#34;#11.1-Demo使用hugo的网站&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;111-demo使用hugo的网站&#34;&gt;1.1.1. Demo使用hugo的网站&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://www.flysnow.org/&#34;&gt;https://www.flysnow.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.gohugo.io&#34;&gt;https://www.gohugo.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.netlify.com/&#34;&gt;https://www.netlify.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gohugo.io/showcase/&#34;&gt;https://gohugo.io/showcase/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.smashingmagazine.com/&#34;&gt;https://www.smashingmagazine.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a id=&#34;toc_anchor&#34; name=&#34;#11.2-部分主题&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;112-部分主题&#34;&gt;1.1.2. 部分主题&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/Vimux/Mainroad&#34;&gt;https://github.com/Vimux/Mainroad&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/kingfsen/Mainroad&#34;&gt;https://github.com/kingfsen/Mainroad&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://themes.gohugo.io/academic/&#34;&gt;https://themes.gohugo.io/academic/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://themes.gohugo.io/beautifulhugo/&#34;&gt;https://themes.gohugo.io/beautifulhugo/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://themes.gohugo.io/hyde/&#34;&gt;https://themes.gohugo.io/hyde/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://themes.gohugo.io/hugo-theme-even/&#34;&gt;https://themes.gohugo.io/hugo-theme-even/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/rujews/maupassant-hugo&#34;&gt;https://github.com/rujews/maupassant-hugo&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a id=&#34;toc_anchor&#34; name=&#34;#11.3-hugo跟wordpress其他建站工具的对比&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;113-hugo跟wordpress其他建站工具的对比&#34;&gt;1.1.3. hugo跟wordpress其他建站工具的对比&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;wordpress 全球31%的网站使用wordpress，尽管他有各种主题和插件，但是也有非常多的缺点，安全性，seo不够友好，定制麻烦&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;hugo 最快的静态生成工具,seo友好，静态更安全，方便定制模板，缺点没有插件，如果要定制模板只能懂一点go的语法&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wordpress是动态的并且还需要托管数据库，所以托管费用比较昂贵&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;hugo是生成静态的页面，在本地生成后上传到服务器就可以了，托管费用非常便宜，可以直接用免费的github托管&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;hugo不可以在线编辑&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wordpress vs hugo&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;Tables&lt;/th&gt;
          &lt;th style=&#34;text-align: center&#34;&gt;静态/动态&lt;/th&gt;
          &lt;th style=&#34;text-align: right&#34;&gt;托管&lt;/th&gt;
          &lt;th style=&#34;text-align: right&#34;&gt;安全性&lt;/th&gt;
          &lt;th style=&#34;text-align: right&#34;&gt;访问速度&lt;/th&gt;
          &lt;th style=&#34;text-align: right&#34;&gt;在线编辑&lt;/th&gt;
          &lt;th style=&#34;text-align: right&#34;&gt;markdown&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;wordpress&lt;/td&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;动态&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;复杂&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;需要经常升级&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;快&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;可以&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;不支持&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;hugo&lt;/td&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;静态&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;简单&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;不需要打补丁&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;非常快&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;不可以&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;支持&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;a id=&#34;toc_anchor&#34; name=&#34;#11.4-分钟0基础使用hugo搭建个人博客网站（20m）&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;114-分钟0基础使用hugo搭建个人博客网站20m&#34;&gt;1.1.4. 分钟0基础使用hugo搭建个人博客网站（20m）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;安装hugo&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;下载 &lt;a href=&#34;https://github.com/gohugoio/hugo/releases/download/v0.58.3/hugo_extended_0.58.3_Windows-64bit.zip&#34;&gt;https://github.com/gohugoio/hugo/releases/download/v0.58.3/hugo_extended_0.58.3_Windows-64bit.zip&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;解压到e:\hugo\bin&lt;/li&gt;
&lt;li&gt;运行命令行程序cmd,cd e:\hugo\bin&lt;/li&gt;
&lt;li&gt;执行hugo version&lt;/li&gt;
&lt;li&gt;set PAHT=%PATH%;e:\hugo\bin&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装git 并clone 代码&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>SAA-CO1考试之路</title>
      <link>https://www.airplanecraft.com/zh/post/aws-saa-pass/</link>
      <pubDate>Thu, 03 Oct 2019 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-saa-pass/</guid>
      <description>
        
          
            &lt;h2 id=&#34;考试心得&#34;&gt;考试心得&lt;/h2&gt;
&lt;h3 id=&#34;考试成绩&#34;&gt;考试成绩&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;852&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;背景&#34;&gt;背景&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;工作用到aws不到1年&lt;/li&gt;
&lt;li&gt;有多年java开发经验&lt;/li&gt;
&lt;li&gt;linux管理员,持有RHCE&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;准备周期&#34;&gt;准备周期&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;3周從準備到考試&lt;/li&gt;
&lt;li&gt;每天8-12小时&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;做过实验的知识点列表&#34;&gt;做过实验的知识点列表&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;VPN endpoint/nat gateway/internet gateway/vpn/subnet/ACL&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RDS/Aurora/Reshift/Aurora/DynamoDB (snaphost copy az or cross region,ebs type change ,autoscaling ,entryption ,backup/replica ,Multi A-z,read/write unit)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cloudfront (OAI,SSL certificat ,validation TTL ,pre-signed URL)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;S3 (static websit ,ACL ,bucket policy,lifecyle)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ec2 (Cloudwath agent install,ebs mount/unmount,snapshot,elasticip binding)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cloud53 (A/alias .routing policy)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Athena on S3 SQL QUERY&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Kenisis stream /firehouse/analytic&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cloudwatch custom metric(ec2 momory/disk usage),alarm config -&amp;gt;sns/log export to s3&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>aws sap passed</title>
      <link>https://www.airplanecraft.com/zh/post/aws-sap-passed/</link>
      <pubDate>Wed, 02 Oct 2019 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-sap-passed/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;9.27 号考试通过了SAP（913分），心里终于落下一块石头.从开始准备到最后通过我用了数个星期的时间，平均每天超过10小时的准备.sap的难度比saa高不是一个级别的，涉及了大量的新的知识点.不仅仅需要知道每个知识点，还需要动手去实践，为此我写了20个几个blog都是尝试这里面的知识点，实际我做过的实验大概有40多个，几乎每天要做一个实验，因为时间的问题，没有把其他的整理到blog上来，也是一个遗憾，后面我会慢慢补充上来。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;考前准备&#34;&gt;考前准备 &lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;aws 账号 ：做实验用&lt;/li&gt;
&lt;li&gt;最好有一些linux/network/dev experience&lt;/li&gt;
&lt;li&gt;最好熟悉一门编程语言,java/.net/python/ruby/go/nodejs&lt;/li&gt;
&lt;li&gt;最好熟悉json/yaml&lt;/li&gt;
&lt;li&gt;如果考过saa最好了，saa是非常基础的aws认证&lt;/li&gt;
&lt;li&gt;如果考过saa，最好保证300小时以上的学习时间&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;考试内容准备&#34;&gt;考试内容准备&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;印度小哥的一个考试心得基本上面面俱到了 &lt;a href=&#34;https://www.linkedin.com/pulse/preparing-aws-certified-solutions-architect-2019-sap-c01-agarwal/&#34;&gt;https://www.linkedin.com/pulse/preparing-aws-certified-solutions-architect-2019-sap-c01-agarwal/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;bilibili 上印度小哥sap视频 &lt;a href=&#34;https://www.bilibili.com/video/av66737718?from=search&amp;seid=1011549087963751322&#34;&gt;https://www.bilibili.com/video/av66737718?from=search&amp;amp;seid=1011549087963751322&lt;/a&gt; 如果听的懂建议听听&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;bilibili 上cloud guru的sap视频 &lt;a href=&#34;https://www.bilibili.com/video/av39285864?from=search&amp;seid=1657200592137432769&#34;&gt;https://www.bilibili.com/video/av39285864?from=search&amp;amp;seid=1657200592137432769&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;aws 本上的get-started &lt;a href=&#34;https://aws.amazon.com/getting-started/&#34;&gt;https://aws.amazon.com/getting-started/&lt;/a&gt; 建议尝试里面大部分的实验内容，只有实验的多了才能够理解每个服务以及服务于服务之间的关联&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>aws x-ray</title>
      <link>https://www.airplanecraft.com/zh/post/aws-x-ray/</link>
      <pubDate>Thu, 12 Sep 2019 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-x-ray/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;
&lt;p&gt;AWS X-Ray 可以帮助开发人员分析与调试分布式生产应用程序，例如使用微服务架构构建的应用程序。借助 X-Ray，您可以了解应用程序及其底层服务的执行方式，从而识别和排查导致性能问题和错误的根本原因。X-Ray 可在请求通过应用程序时提供请求的端到端视图，并展示应用程序底层组件的映射。您可以使用 X-Ray 分析开发和生产中的应用程序，从简单的三层应用程序到包含上千种服务的复杂微服务应用程序。&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;pic&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;1462&#34;
        height=&#34;488&#34;
        src=&#34;https://www.airplanecraft.com/images/product-page-diagram_AWS-X-Ray_how-it-works.2922edd4bfe011e997dbf32fdf8bd520bcbc85fb_9836458994471346904.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;簡單來說，xray是用來追踪服務與服務之間鏈條，每個服務之間的請求內容，時間，參數等信息&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;用api-gateway-和-lambda-實驗&#34;&gt;用api-gateway 和 lambda 實驗&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;本文用到的例子是前面的博文: &lt;a href=&#34;http://www.clouda3.com/post/aws-cloudformation-lambda-apigateway/&#34;&gt;Aws cloudformation deploy lambda and apigateway&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;只需要額外做以下兩步&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;開啟api-gateway的x-ray,api gateway console-&amp;gt; apis-&amp;gt;spring-boot-lambda-&amp;gt;stages-&amp;gt;Prod-&amp;gt;logs/tracing-&amp;gt;enable x-ray tracing&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;開啟lambda的x-ray,functions-&amp;gt;spring-boot-lambda-LambdaSpringBootFunction-7CK2QHXPRA6F-&amp;gt;aws x-ray:active tracing&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;test x-ray:fire a request to api gateway&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;open x-ray console:service map:you will see a picture like below:&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;x-ray map&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;925&#34;
        height=&#34;418&#34;
        src=&#34;https://www.airplanecraft.com/images/0%2AJm9tsR7HNq1Ew2-C_14389612573526594243.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>accelerating aws migration</title>
      <link>https://www.airplanecraft.com/zh/post/aws-migration/</link>
      <pubDate>Tue, 10 Sep 2019 14:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-migration/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;
&lt;p&gt;aws migration from OP to cloud這是aws最注重的部分，關於遷移技術，aws提供了各種各樣的工具，比如遷移數據庫(sts,dms),遷移workload（aws server migration service）,協助你計劃遷移收集信息的工具(aws application discovery service),track遷移進程的工具(migration hub),遷移海量數據的aws snowball or snowmobile,s3 acceleration, 加速數據傳輸的 dierct connect等等，從網絡到數據庫到文件，給你武裝到牙齒&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://miro.medium.com/max/926/0*SLKhR418WaZctIPI.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;926&#34;
        height=&#34;373&#34;
        src=&#34;https://www.airplanecraft.com/images/0%2ASLKhR418WaZctIPI_12814727873364100845.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;以下是兩篇關於數據遷移的好文&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://medium.com/@awsontop/aws-cloud-migration-strategy-and-process-6ed38479735a&#34;&gt;https://medium.com/@awsontop/aws-cloud-migration-strategy-and-process-6ed38479735a&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.slideshare.net/AmazonWebServices/accelerating-your-portfolio-migration-to-aws-using-aws-migration-hub-ent321-reinvent-2017&#34;&gt;https://www.slideshare.net/AmazonWebServices/accelerating-your-portfolio-migration-to-aws-using-aws-migration-hub-ent321-reinvent-2017&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>aws online analytical processing (or OLAP)</title>
      <link>https://www.airplanecraft.com/zh/post/aws-glue-athena-quicksight/</link>
      <pubDate>Tue, 10 Sep 2019 14:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-glue-athena-quicksight/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;
&lt;p&gt;OLAP在線分析工具越來越來成熟，從開始的數據倉庫，到強大的elk，再到雲，比如aws的 gaq(glue-athena-quicksight)，當然aws也有elk在線服務&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gaq vs elk,實際上是一類的產品，glue提供了crawler去爬去數據，類似 logstash，athena提供查詢工具類似elasticsearch ,quicksight 跟 kibana一樣ui.gaq是aws雲端的服務，沒有辦法部署在線下，elk既可以部署在op也可以部署在cloud上&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;這篇文章來自 &lt;a href=&#34;https://medium.com/localz-engineering/serverless-big-data-start-here-aws-glue-athena-quicksite-4c70ecac9fe3&#34;&gt;https://medium.com/localz-engineering/serverless-big-data-start-here-aws-glue-athena-quicksite-4c70ecac9fe3&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;有一個圖片 &lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://miro.medium.com/max/1171/1*MiZKdlJBIC8nTTeEsPomLQ.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;1171&#34;
        height=&#34;750&#34;
        src=&#34;https://www.airplanecraft.com/images/1%2AMiZKdlJBIC8nTTeEsPomLQ_1549877427038419921.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;實驗&#34;&gt;實驗 &lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;cloudwatch agent 或者 application discovery agent 到ec2&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;cloud watch agent 或者 discovery agent  sync log 到 s3&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;glue裡面創建crawler ，指定s3&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;glue裡面創建database 和table&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;athena 寫sql語句查詢想要的數據&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果想要類似kinana那樣可視化的工具，那麼需要付費quicksight&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;完&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Difference between user pool and identity pool(Federated Identities)</title>
      <link>https://www.airplanecraft.com/zh/post/aws-difference-between-userpool-and-identitypool/</link>
      <pubDate>Fri, 06 Sep 2019 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-difference-between-userpool-and-identitypool/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;剛開始使用cognito服務的時候特別讓人困惑，有user pool 和 identity pool(Federated Identities)，user pool裡面還有federation，federation裡面有identity provider.&lt;/li&gt;
&lt;li&gt;identity pool 裡面有autenticated provider裡面也有user pool ID!&lt;/li&gt;
&lt;li&gt;納尼?這是什麼鬼?&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;lets-forget-the-connection-between-them&#34;&gt;let&#39;s forget the connection between them&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;user pool 簡單來說就是提供一個用戶驗證的服務，比如用戶自定義用戶，用fb,GOOGLE，twitter等賬戶登錄，登錄後獲取一個token，用戶的每次請求帶著這個token就可以了，用戶登錄後獲取的是你個人應用的resource! ,比如你自己做了一個網站，登錄後可以管理自己用戶，權限，圖片等等，你有權限去訪問這些資源&lt;/li&gt;
&lt;li&gt;identity pool 也是提供一個用戶認證的服務，用戶可以在裡面設置aws 的role，也就說用戶登錄後得到的aws的resource 的訪問權限，比如你可以訪問s3.只是這個登錄可以跟 user pool提供的服務去綁定，也可以不用user pool的服務直接用 identity pool裡面的provider去對接，也就說，如果你有google的id也可以登錄後獲取aws resource 資源的訪問權限，這個是登錄後aws通過sts生成臨時credential 來做到的&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;summary&#34;&gt;summary &lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;user pool 只是負責authentication，沒有authorization，即便有也是用戶本身應用的服務&lt;/li&gt;
&lt;li&gt;identity pool，既可以authentication，又可以authoriztion，授權的是aws的resource&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;上幾張圖&#34;&gt;上幾張圖 &lt;/h4&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://docs.aws.amazon.com/cognito/latest/developerguide/images/amazon-cognito-ext-auth-basic-flow.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;720&#34;
        height=&#34;461&#34;
        src=&#34;https://www.airplanecraft.com/images/amazon-cognito-ext-auth-basic-flow_7254584813439612501.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://gorillalogic.com/wp-content/uploads/2018/09/Sign-Up-Implementation-7--768x312.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;768&#34;
        height=&#34;312&#34;
        src=&#34;https://www.airplanecraft.com/images/Sign-Up-Implementation-7--768x312_15683792732263294091.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://d33wubrfki0l68.cloudfront.net/4602d3b127c9b3f1dbe49f9fc77e8d8a4aff20a6/9c3a1/assets/cognito-user-pool-vs-identity-pool.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;1368&#34;
        height=&#34;1344&#34;
        src=&#34;https://www.airplanecraft.com/images/cognito-user-pool-vs-identity-pool_7921973143523750630.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h4 id=&#34;幾個非常有價值的link&#34;&gt;幾個非常有價值的link&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://serverless-stack.com/chapters/cognito-user-pool-vs-identity-pool.html&#34;&gt;https://serverless-stack.com/chapters/cognito-user-pool-vs-identity-pool.html&lt;/a&gt;
&lt;a href=&#34;https://gorillalogic.com/blog/java-integration-with-amazon-cognito/&#34;&gt;https://gorillalogic.com/blog/java-integration-with-amazon-cognito/&lt;/a&gt;&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Aws cognito sample</title>
      <link>https://www.airplanecraft.com/zh/post/aws-cognito-sample/</link>
      <pubDate>Fri, 06 Sep 2019 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-cognito-sample/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;这是一个aws官方的文档，我认为最好的cognito的例子，如果理解这个sample，那么cognito就没有任何问题&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://aws.amazon.com/getting-started/projects/build-serverless-web-app-lambda-apigateway-s3-dynamodb-cognito/&#34;&gt;https://aws.amazon.com/getting-started/projects/build-serverless-web-app-lambda-apigateway-s3-dynamodb-cognito/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;详解&#34;&gt;详解&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;廢話少說直接上圖&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://d1.awsstatic.com/Test%20Images/Kate%20Test%20Images/Serverless_Web_App_LP_assets-16.7cbed9781201a79b9efa761807c4312e68b23485.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;901&#34;
        height=&#34;501&#34;
        src=&#34;https://www.airplanecraft.com/images/Serverless_Web_App_LP_assets-16.7cbed9781201a79b9efa761807c4312e68b23485_10296272764832932471.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;程序組成部分&#34;&gt;程序組成部分&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;- 靜態的代碼存放s3
- 動態的代碼存放lambda
- 代碼的訪問入口通過api-gateway
- 數據的存放時dynamoDB(程序登錄後有個點擊頁面位置生成的數據,與用戶驗證沒有太多關係)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;cognito-user-pool-在user-login-流程&#34;&gt;Cognito user pool 在user login 流程&lt;/h4&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://docs.aws.amazon.com/cognito/latest/developerguide/images/scenario-authentication-cup.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;782&#34;
        height=&#34;201&#34;
        src=&#34;https://www.airplanecraft.com/images/scenario-authentication-cup_7617407613548709477.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- 用戶用用戶名+密碼(或mfa，這取決於cognito user pool的配置)請求登錄
- aws cognito user pool去驗證用戶
- 如果用戶通過驗證返回一個token
- 下一次用戶用這個token來請求訪問
- aws cognito user pool 可以基本满足用户登录，如果涉及到权限可以跟自己数据进行绑定

- 这个例子里面特别要注意的是，api gateway 直接设置了 Authorizers ：里面可以指定cognito 来对用戶進行驗證，不用額外寫程序來驗證，也就說每次訪問一個服務/ride.html,api-getway通過Authorizers直接去用cognito去驗證用戶的token

- 這個例子分了兩個步驟，第一個步驟是直接登錄，登錄後獲得一個toke
- 第二步驟是用api-gateway 自動驗證用戶的登錄，也就是authentication
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Aws cloudformation deploy lambda and apigateway</title>
      <link>https://www.airplanecraft.com/zh/post/aws-cloudformation-lambda-apigateway/</link>
      <pubDate>Thu, 05 Sep 2019 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-cloudformation-lambda-apigateway/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;用Cloudformation 来部署 java 的lambda 和api gateway,这里要用到spring-boot写java 代码，需要用到s3，存放lambda代码，需要创建lambda function和api agetway，还需要用到sam&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aws-lambda-with-spring-boot&#34;&gt;Aws lambda with Spring Boot&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;本文用到的git代码来自 &lt;a href=&#34;https://github.com/gemerick/spring-boot-lambda&#34;&gt;https://github.com/gemerick/spring-boot-lambda&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;本文的内容来自 &lt;a href=&#34;https://keyholesoftware.com/2018/04/26/aws-lambda-with-spring-boot/&#34;&gt;https://keyholesoftware.com/2018/04/26/aws-lambda-with-spring-boot/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;本文的步骤&#34;&gt;本文的步骤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;安装sam&lt;/li&gt;
&lt;li&gt;git 克隆现有代码&lt;/li&gt;
&lt;li&gt;创建s3 bucket&lt;/li&gt;
&lt;li&gt;用cloudformation 上传 代码&lt;/li&gt;
&lt;li&gt;用cloudformation 部署&lt;/li&gt;
&lt;li&gt;测试代码&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;安装sam&#34;&gt;安装sam&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;pip3 install --user aws-sam-cli
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;git-克隆代码&#34;&gt;git 克隆代码&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;git clone https://github.com/gemerick/spring-boot-lambda -b lambda
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;mvn clean package
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;创建s3-bucket&#34;&gt;创建s3 bucket&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;aws s3 mb s3://spring-boot-lambda-20100905
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;拷贝jar-到s3-更新sam的template&#34;&gt;拷贝jar 到S3 ，更新sam的template&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;aws&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cloudformation&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;file&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sam&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;yaml&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;output&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;file&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;output&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sam&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;yaml&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;bucket&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;boot&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lambda&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20100905&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;deploy-a-cloudformation-stack-from-the-sam-template&#34;&gt;Deploy a Cloudformation stack from the SAM template&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;aws cloudformation deploy --template-file target/output-sam.yaml --stack-name spring-boot-lambda --capabilities CAPABILITY_IAM
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;aws cloudformation describe-stacks --stack-name spring-boot-lambda
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;测试部署结果&#34;&gt;测试部署结果&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;curl   https://xxx.execute-api.ap-southeast-1.amazonaws.com/Prod/languages
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[{&amp;#34;name&amp;#34;:&amp;#34;node&amp;#34;},{&amp;#34;name&amp;#34;:&amp;#34;java&amp;#34;},{&amp;#34;name&amp;#34;:&amp;#34;python&amp;#34;}]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Aws ecs tutorial</title>
      <link>https://www.airplanecraft.com/zh/post/aws-ecs-tutorial/</link>
      <pubDate>Wed, 04 Sep 2019 09:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-ecs-tutorial/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;Aws ecs 简单来说就是host docker container，跟K8S类似，如果用过k8s，那么ecs非常的好理解&lt;/li&gt;
&lt;li&gt;本文主要按照 &lt;a href=&#34;https://medium.com/boltops/gentle-introduction-to-how-aws-ecs-works-with-example-tutorial-cea3d27ce63d&#34;&gt;Gentle Introduction to How AWS ECS Works with Example Tutorial&lt;/a&gt; 搭建&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;关于ecs的专业的词汇&#34;&gt;关于ECS的专业的词汇&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Task Definition ：实际就是要给launch configration,比如暴露端口号，用什么docker image，cpu 内存需要多少，运行docker 的command，环境变量&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Task  ：简单来说就是一个running instance&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Service ：一组task&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cluster ：一组task 跑在一个或者多个 constainer 里面&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Container Instance  ：容器实例里面跑的是多个 task&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;看图&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;668&#34;
        height=&#34;254&#34;
        src=&#34;https://www.airplanecraft.com/images/1%2Ak29gxIwwhDaP-Ge-G-yXCQ_6496974866164419964.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h3 id=&#34;按照此图搭建一组ecs的服务&#34;&gt;按照此图搭建一组ecs的服务&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;创建一个ecs cluster&lt;/li&gt;
&lt;li&gt;创建一个ecsServiceRole&lt;/li&gt;
&lt;li&gt;创建Task Definition&lt;/li&gt;
&lt;li&gt;创建elb和 target group&lt;/li&gt;
&lt;li&gt;创建 service，里面只有一个task&lt;/li&gt;
&lt;li&gt;检查运行情况&lt;/li&gt;
&lt;li&gt;把service里面的task 改为4&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;创建一个ecs-cluster&#34;&gt;创建一个ecs cluster&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;创建secrutiry group my-ecs-sg
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;aws ec2 create-security-group --group-name my-ecs-sg --description my-ecs-sg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;创建ecs cluster：选择vpc subnet多个&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;创建-ecsservicerole&#34;&gt;创建 ecsServiceRole&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;attach policy ：AmazonEC2ContainerServiceRole&lt;/li&gt;
&lt;li&gt;trusted relationship：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;Version&amp;#34;: &amp;#34;2012-10-17&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;Statement&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;Effect&amp;#34;: &amp;#34;Allow&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;Principal&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;Service&amp;#34;: &amp;#34;ecs.amazonaws.com&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;Action&amp;#34;: &amp;#34;sts:AssumeRole&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  ]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;创建-task-defination&#34;&gt;创建 task defination&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;task-definition.json
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;family&amp;#34;: &amp;#34;sinatra-hi&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;containerDefinitions&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;name&amp;#34;: &amp;#34;web&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;image&amp;#34;: &amp;#34;tongueroo/sinatra:latest&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;cpu&amp;#34;: 128,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;memoryReservation&amp;#34;: 128,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;portMappings&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;containerPort&amp;#34;: 4567,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;protocol&amp;#34;: &amp;#34;tcp&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      ],
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;command&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;ruby&amp;#34;, &amp;#34;hi.rb&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      ],
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;essential&amp;#34;: true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  ]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    aws ec2 authorize-security-group-ingress --group-name my-ecs-sg --protocol tcp --port 1-65535 --source-group my-elb-sg  --vpc-id vpc-xxxmyid
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;创建elb-和-target-group&#34;&gt;创建elb 和 target group&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;create： my-elb  with a HTTP protocol and Port 80&lt;/li&gt;
&lt;li&gt;为elb 配置 security group： my-elb-sg ，inbound allowed port 80 and source 0.0.0.0/0&lt;/li&gt;
&lt;li&gt;为my-ecs-sg 配置 inbound security group,允许来自elb的请求  aws ec2 authorize-security-group-ingress --group-id sg-xxxyyy --protocol tcp --port 1-65535 --source-group sg-xxxxx&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;创建-service&#34;&gt;创建 service&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;ecs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;service&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;json&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;cluster&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;my-cluster&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;serviceName&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;my-service&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;taskDefinition&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;sinatra-hi&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;loadBalancers&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;s2&#34;&gt;&amp;#34;targetGroupArn&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;FILL-IN-YOUR-TARGET-GROUP&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;s2&#34;&gt;&amp;#34;containerName&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;web&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;s2&#34;&gt;&amp;#34;containerPort&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4567&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;desiredCount&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ecsServiceRole&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;aws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ecs&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;service&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cli&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;input&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;json&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ecs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;service&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;json&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;检查运行情况&#34;&gt;检查运行情况&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;找到elb的dns&lt;/li&gt;
&lt;li&gt;执行curl ：dns address&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;把service的节点扩展为4个&#34;&gt;把service的节点扩展为4个&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;找到cluster 的pulibc dns
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;ssh -i xxx.perm cluster-public-dns-address
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;进入ecs 的container&lt;/li&gt;
&lt;li&gt;执行docker ps -a 发现有4个容器在running&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>aws数据库迁移工具简介</title>
      <link>https://www.airplanecraft.com/zh/post/aws-sct-dms-tutorial/</link>
      <pubDate>Tue, 03 Sep 2019 14:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-sct-dms-tutorial/</guid>
      <description>
        
          
            &lt;h3 id=&#34;aws数据库迁移工具简介&#34;&gt;Aws数据库迁移工具简介&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;越来越多的公司选择把服务迁移到云上,那么数据库的迁移尤其重要，亚马逊提供了数据迁移的工具 sct（schema converstion tool） 和 dms （data migration service）两个工具协作帮助客户从线下数据库导入到线上数据库,source 和 target 的database可以不是一种数据库类型，比如从mysql到oracle，或者mysql 到postgresql&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;简单介绍一下sct，简单点来说就是数据库schema转换工具，把本地的数据库的schema转换为aws线上目标数据库的schema，然后在线上导入这个schema生成数据库,然后用DMS帮你把数据导出到aws上&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;把aws-mysql-rds-数据库-导出到-aws-postgresql-rds&#34;&gt;把aws mysql RDS 数据库 导出到 aws postgresql RDS&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;实验的目标就是把mysql数据库迁移到postgresql，由于在aws cloud上做比较方面，所以选择了都在云上来迁移做实验&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Down load Aws schema convertion tool&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;create mysql database on aws&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;create database：test and table myclass with 2 column:id name&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;test 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;id  name
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;1   hello
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;2   kitty
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;create postgresql database on aws&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open aws sct&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;File -&amp;gt;new project:source :RDS for mysql ,target:RDS postsgresql&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在菜单上，connection to mysql，依次数据:server name/port/username/password,链接成功后左边位置就显示了mysql&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>eni or eip can not be deleted</title>
      <link>https://www.airplanecraft.com/zh/post/aws-eni-can-not-be-deleted/</link>
      <pubDate>Mon, 02 Sep 2019 14:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-eni-can-not-be-deleted/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;我几乎删除了所有的service，但是eni就是不让我删除&lt;/li&gt;
&lt;li&gt;关联的eip也不让删除&lt;/li&gt;
&lt;li&gt;我去aws社区看了很多帖子最后发现主要原因有两个地方&lt;/li&gt;
&lt;li&gt;efs 使用eni&lt;/li&gt;
&lt;li&gt;nat gatway 使用了eni&lt;/li&gt;
&lt;li&gt;根据这两点，我去查找，果然有个natgateway 使用eni，删除掉nat gateway后，eni可以删除，eip可以release了&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>一个ec2 instance上配置多个eni</title>
      <link>https://www.airplanecraft.com/zh/post/aws-multi-eni-on-one-ec2-instance/</link>
      <pubDate>Mon, 02 Sep 2019 08:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-multi-eni-on-one-ec2-instance/</guid>
      <description>
        
          
            &lt;h3 id=&#34;一个ec2-instance-配置多网卡&#34;&gt;一个ec2 instance 配置多网卡&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;首先要确定你需要几个公网IP，以2个为例&lt;/li&gt;
&lt;li&gt;首先要确定你需要几个网卡，以2个为例&lt;/li&gt;
&lt;li&gt;申请两个 elastic ip：IP1 ip2&lt;/li&gt;
&lt;li&gt;申请两个eni(network interface)：eni1，eni2&lt;/li&gt;
&lt;li&gt;创建一个ec2&lt;/li&gt;
&lt;li&gt;把ip1 绑定到eni1,elastic ip-&amp;gt;选中IP-&amp;gt;associate-&amp;gt;resource type:network interface -&amp;gt; private ip 自动选择&lt;/li&gt;
&lt;li&gt;把ip2 绑定到eni2,此处省略步骤&lt;/li&gt;
&lt;li&gt;把eni1绑定到ec2，network interface 页面-&amp;gt;选择eni1-&amp;gt;attach-&amp;gt; 选择 ec2 instance id&lt;/li&gt;
&lt;li&gt;把eni2绑定到ec2,此处省略步骤&lt;/li&gt;
&lt;li&gt;在ec2 instance 页面,看到iP里面公网IP只有一个，private ip 有2个&lt;/li&gt;
&lt;li&gt;为什么少了一个?用putty connnect 这个两个ip，都是没有问题，ec2 的console不显示而已&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[ec2-user@ip-172-31-1-176 ~]$ ifconfig
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;eth0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 9001
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        inet 172.31.1.176  netmask 255.255.255.0  broadcast 172.31.1.255
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        inet6 fe80::8a:93ff:fefd:ef5c  prefixlen 64  scopeid 0x20&amp;lt;link&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        ether 02:8a:93:fd:ef:5c  txqueuelen 1000  (Ethernet)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        RX packets 4115218  bytes 1170825027 (1.0 GiB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        RX errors 0  dropped 0  overruns 0  frame 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        TX packets 3592874  bytes 8202330562 (7.6 GiB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;eth1: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 9001
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        inet 172.31.1.87  netmask 255.255.255.0  broadcast 172.31.1.255
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        inet6 fe80::f1:16ff:fefa:1bba  prefixlen 64  scopeid 0x20&amp;lt;link&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        ether 02:f1:16:fa:1b:ba  txqueuelen 1000  (Ethernet)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        RX packets 333  bytes 26643 (26.0 KiB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        RX errors 0  dropped 0  overruns 0  frame 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        TX packets 286  bytes 33695 (32.9 KiB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;lo: flags=73&amp;lt;UP,LOOPBACK,RUNNING&amp;gt;  mtu 65536
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        inet 127.0.0.1  netmask 255.0.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        inet6 ::1  prefixlen 128  scopeid 0x10&amp;lt;host&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        loop  txqueuelen 1000  (Local Loopback)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        RX packets 10549  bytes 8263339 (7.8 MiB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        RX errors 0  dropped 0  overruns 0  frame 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        TX packets 10549  bytes 8263339 (7.8 MiB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        TX errors 0  dropped 0 overruns 0  carrier 0 collisions 0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>使用Aws sts创建临时credential</title>
      <link>https://www.airplanecraft.com/zh/post/aws-sap-sts-service/</link>
      <pubDate>Mon, 26 Aug 2019 08:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-sap-sts-service/</guid>
      <description>
        
          
            &lt;h3 id=&#34;aws-sts-简介&#34;&gt;Aws sts 简介&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;简单来说就是aws通过sts服务生成临时的credential给用户使用，他们可以设置有效期，自动失效,这也是amazon best practice 里面建议的方式&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;实验准备&#34;&gt;实验准备&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;创建 User&lt;/li&gt;
&lt;li&gt;创建 Role&lt;/li&gt;
&lt;li&gt;创建 s3 作为测试&lt;/li&gt;
&lt;li&gt;为User创建sts assumeRole 的访问策略&lt;/li&gt;
&lt;li&gt;在EC2上使用Aws cli 创建 历史的credential&lt;/li&gt;
&lt;li&gt;访问s3&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;create-an-iam-user&#34;&gt;Create an IAM user&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://console.aws.amazon.com/iam/home?region=ap-southeast-1#/users&#34;&gt;https://console.aws.amazon.com/iam/home?region=ap-southeast-1#/users&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;input name： mystsuser&lt;/li&gt;
&lt;li&gt;access type programmatic access&lt;/li&gt;
&lt;li&gt;其他保持默认&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;create-role-for-antoher-aws-account&#34;&gt;Create role for antoher aws account&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://console.aws.amazon.com/iam/home?region=ap-southeast-1#/roles&#34;&gt;https://console.aws.amazon.com/iam/home?region=ap-southeast-1#/roles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;选择：another aws account&lt;/li&gt;
&lt;li&gt;Account ID: 找到上面的user 的arn，XXX就是ID  (arn:aws:iam::XXXX:user/mystsuser)&lt;/li&gt;
&lt;li&gt;Attach plicy&lt;/li&gt;
&lt;li&gt;搜索s3，选择 AmanzonS3ReadOnlyAccess,next&lt;/li&gt;
&lt;li&gt;reviews and create Role，input role name：sts-s3-read-only&lt;/li&gt;
&lt;li&gt;创建完毕后，Update/Modify Trust Relationships&lt;/li&gt;
&lt;li&gt;replace (this is the arn of the user what you created) with
arn:aws:iam::XXXX:user/mystsuser&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;Version&amp;#34;: &amp;#34;2012-10-17&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;Statement&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;Effect&amp;#34;: &amp;#34;Allow&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;Principal&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;AWS&amp;#34;: &amp;#34;this is the arn of the user what you created&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;Action&amp;#34;: &amp;#34;sts:AssumeRole&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;Condition&amp;#34;: {}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  ]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;创建完毕&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;为user创建sts-assumerole-的访问策略&#34;&gt;为User创建sts assumeRole 的访问策略&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;user页面， 选择刚才创建的用户&lt;/li&gt;
&lt;li&gt;add inline policy&lt;/li&gt;
&lt;li&gt;service :sts&lt;/li&gt;
&lt;li&gt;Action:write-AssumeRole&lt;/li&gt;
&lt;li&gt;Resource:arn xxxx(input the arn of the role you created in earlier step)&lt;/li&gt;
&lt;li&gt;done&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ec2-配置刚才创建的用户的profile&#34;&gt;Ec2 配置刚才创建的用户的profile&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; aws configure --profile stsgeneratedprofile
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;AWS Access Key ID [****************QL74]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;AWS Secret Access Key [****************/soA]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;Default region name [ap-southeast-1]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;Default output format [json]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;aws sts assume-role --role-arn  arn:aws:iam::xxxx:role/sts-s3-read-only --role-session-name &amp;#34;mytestsession&amp;#34;  --profile ststestprofile --DurationSeconds 3600
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;生成用户的有效时间为3600秒，生成以下文件&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;AssumedRoleUser&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;AssumedRoleId&amp;#34;: &amp;#34;AROAWNQJOZK2KCBLXLQZW:mytestsession&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;Arn&amp;#34;: &amp;#34;arn:aws:sts::xxx:assumed-role/sts-s3-read-only/mytestsession&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;Credentials&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;SecretAccessKey&amp;#34;: &amp;#34;sss&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;SessionToken&amp;#34;: &amp;#34;sss&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;Expiration&amp;#34;: &amp;#34;2019-08-26T04:26:04Z&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;AccessKeyId&amp;#34;: &amp;#34;sss&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;根据上面的文件创建新的profile&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;aws configure --profile stsgeneratedprofile 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;--测出略去
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;--最终.aws/credential 里面
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[stsgeneratedprofile]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;aws_access_key_id = sss
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;aws_secret_access_key = sss
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;aws_session_token = ssss
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;最后测试&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;aws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s3&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ls&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;profile&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stsgeneratedprofile&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;output&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;mi&#34;&gt;2019&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;08&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;11&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;02&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;41&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;www&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xxx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;aws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s3&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;abc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;txt&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xxxxx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;profile&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stsgeneratedprofile&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;upload&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;failed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;./&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;abc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;txt&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xxxxx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;abc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;txt&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;An&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;occurred&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AccessDenied&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;when&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;calling&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PutObject&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;operation&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Access&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Denied&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title> 使用Aws System Manager 统一管理 aws resource </title>
      <link>https://www.airplanecraft.com/zh/post/aws-sap-system-manager/</link>
      <pubDate>Sun, 25 Aug 2019 16:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-sap-system-manager/</guid>
      <description>
        
          
            &lt;h2 id=&#34;使用aws-system-manager-统一管理-aws-resource&#34;&gt;使用Aws System Manager 统一管理 aws resource&lt;/h2&gt;
&lt;h3 id=&#34;aws-system-manager-简介&#34;&gt;Aws system Manager 简介&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;AWS Systems Manager gives you visibility and control of your infrastructure on AWS. Systems Manager provides a unified use:qr interface so you can view operational data from multiple AWS services and allows you to automate operational tasks across your AWS resources&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Aws system manager AWS  让您能够查看和控制 AWS 上的基础设施。Systems Manager 可以提供一个统一的用户界面，供您查看多种 AWS 服务的运行数据，并在 AWS 资源上自动执行操作任务。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;使用场景&#34;&gt;使用场景&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;比如我有个20台 linux ec2，不管什么类型的，只要安装centyos，那么都要给他安装 ，cloudwatch agent 来对系统的disk和memory进行监控&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;实验的前置条件&#34;&gt;实验的前置条件&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;你的系统上必须安装SSM Agent&lt;/li&gt;
&lt;li&gt;你的EC2的role 必须具有 AmazonEC2RoleforSSM 的policy attach上去&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;安装ssm-agent&#34;&gt;安装SSM agent&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;Intel&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x86_64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;64&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;位实例：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;yum&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;amazonaws&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ec2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;downloads&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;windows&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SSMAgent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;latest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;linux_amd64&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;amazon&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ssm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;agent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rpm&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;ARM&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arm64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;64&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;位实例：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;yum&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;amazonaws&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ec2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;downloads&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;windows&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SSMAgent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;latest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;linux_arm64&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;amazon&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ssm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;agent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rpm&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;Intel&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x86&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;32&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;位实例：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;yum&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;amazonaws&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ec2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;downloads&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;windows&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SSMAgent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;latest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;linux_386&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;amazon&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ssm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;agent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rpm&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;systemctl&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;amazon&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ssm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;agent&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;给ec2-创建一个role具有-amazonec2roleforssm-的policy&#34;&gt;给EC2 创建一个role具有 AmazonEC2RoleforSSM 的policy&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;创建role  ssmrole，选择policy AmazonEC2RoleforSSM&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>NAT instance setup 简介</title>
      <link>https://www.airplanecraft.com/zh/post/aws-nat-instance-setup/</link>
      <pubDate>Tue, 20 Aug 2019 14:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/aws-nat-instance-setup/</guid>
      <description>
        
          
            &lt;h3 id=&#34;aws-nat-instance-setup-简介&#34;&gt;AWS NAT instance setup 简介&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;NAT（Network Address Translation，网络地址转换）是1994年提出的。当在专用网内部的一些主机本来已经分配到了本地IP地址（即仅在本专用网内使用的专用地址），但现在又想和因特网上的主机通信（并不需要加密）时，可使用NAT方法。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aws-nat-gateway&#34;&gt;AWS NAT gateway&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Aws 有專門的nat gateway,並且是HA的，只要創建gateway然後更改一下，subnet的路由就可以了，所以自己搭建一個nat gateway實際並不是aws的範疇，實際是一個linux系統的問題&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;手動搭建一個nat-instance&#34;&gt;手動搭建一個nat instance&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;private subnet1/ instance1 / sg1(secrutiry group) / internal IP1  -&amp;gt;local node1&lt;/li&gt;
&lt;li&gt;public  subnet2/ instance2 / sg2(sercirity group) / internal IP2 /public ip2 -&amp;gt; proxy node2&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;配置proxy-node&#34;&gt;配置proxy node&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/sysctl.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.ip_forward=1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;iptables -t nat -A POSTROUTING -o eth0 -s 192.168.1.0/24 -j MASQUERADE
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;192.168.1.0/24 為本地網絡CIDR&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;EC2 頁面，選中proxy node2 -&amp;gt;Action -&amp;gt;Networking -&amp;gt;Disable source/Desk Check&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>我们为什么需要K8S</title>
      <link>https://www.airplanecraft.com/zh/post/why-do-we-need-k8s/</link>
      <pubDate>Fri, 03 May 2019 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/why-do-we-need-k8s/</guid>
      <description>
        
          
            &lt;h2 id=&#34;我们为什么需要k8s&#34;&gt;我们为什么需要K8S&lt;/h2&gt;
&lt;p&gt;我们用最常用的一个例子LAMP（Linux/Apache/Mysql/PHP or Python or perl）搭建一個負載均均衡的多節點的網站，假如不考慮mysql環節，我們只考慮負載均衡和多節點的問題。&lt;/p&gt;
&lt;h3 id=&#34;1如果我们在本地数据中心进行产品部署的话我们需要那些服务&#34;&gt;1：如果我们在本地数据中心进行产品部署的话,我们需要那些服务&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;负载均衡 LB&lt;/li&gt;
&lt;li&gt;扩容和缩放 auto scaling&lt;/li&gt;
&lt;li&gt;高可用  HA，一個節點挂掉，如果有新的節點自動產生take over他的服務&lt;/li&gt;
&lt;li&gt;日志如何同步到一個中心?&lt;/li&gt;
&lt;li&gt;Docker部署或者裸程序&lt;/li&gt;
&lt;li&gt;反向代理服務&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;那么问题来了，几乎所有的服务都需要我们自己部署和搭建，我们的基础设施，完全依赖裸的操作系统，我们要全部搭建，举几个最简单的例子：如何决定部署多少个Docker容器？如何让这些容器的服务负载均衡？每个容器里面的日志如何同步？任何一个docker容器服务挂掉该如何处理？ 我们操作系统的优化，硬件和网络高可用性，等等目前这些问题都需要我们在本地数据中心来实现，无论是复杂度还是需要硬件成本和技术都是非常高的。&lt;/p&gt;
&lt;h3 id=&#34;2如果在aws云上我们使用服务&#34;&gt;2：如果在aws云上我们使用服务&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;LB(health check等配置)&lt;/li&gt;
&lt;li&gt;autoscaling&lt;/li&gt;
&lt;li&gt;cloudwatch logs&lt;/li&gt;
&lt;li&gt;创建Lauch configuration&lt;/li&gt;
&lt;li&gt;创建image 里面包含我们应用程序或者包含docker&lt;/li&gt;
&lt;li&gt;日志的同步可以同步到elasticsearch服務&lt;/li&gt;
&lt;li&gt;反向代理(使用lb的或者image裏面自己搭建nginx根據需要)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;我们发现如果我们使用aws来构建我们的服务的话，这里面有很多成熟的服务我们可以拿来使用，这里面我们需要完成各个服务的配置，如果我们使用alicloud或者azure等各个服务平台的配置都是不一样的，即便我们有devops，我们使用terraform和assible来做devops也需要很多不同的代码，跨平台的移植非常麻煩&lt;/p&gt;
&lt;h3 id=&#34;3-使用k8s&#34;&gt;3. 使用K8s&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;是否需要負載均衡？是，k8s service本身就是負載均衡&lt;/li&gt;
&lt;li&gt;是否需要考慮需要節點的擴容和縮放？是，K8s pod本身就支持autoscaling擴容和縮放&lt;/li&gt;
&lt;li&gt;日志如何同步？可以直接使用K8s的存儲管理，可以不用第三方的服務&lt;/li&gt;
&lt;li&gt;是否支持容器？一直都是以容器為基本單位就行部署的&lt;/li&gt;
&lt;li&gt;系統的可移植性如何?你的程序無論在本地數據中心的K8S還是在各個云服務平臺的k8s上，devops的代碼的改動幾乎沒有多少，完全是跨平臺的。無論是開發者還是devops都可以聚焦於你的業務實現
6.反向代理，直接使用service ingress 就可以很容易解決&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;總之，k8S提供了你需要的完美的一體化的解決方案，所有的這些服務都集成在K8S内部，如果使用一些定制化的k8S平臺，比如openshit還集成了更多的開發和devops的工具在裏面，可以更快的開發和測試和部署，讓我們的用戶效率大大提高。&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Rich Content</title>
      <link>https://www.airplanecraft.com/zh/post/rich-content/</link>
      <pubDate>Sun, 10 Mar 2019 00:00:00 +0000</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/rich-content/</guid>
      <description>
        
          
            &lt;p&gt;Hugo ships with several &lt;a href=&#34;https://gohugo.io/content-management/shortcodes/#use-hugo-s-built-in-shortcodes&#34;&gt;Built-in Shortcodes&lt;/a&gt; for rich content, along with a &lt;a href=&#34;https://gohugo.io/about/hugo-and-gdpr/&#34;&gt;Privacy Config&lt;/a&gt; and a set of Simple Shortcodes that enable static and no-JS versions of various social media embeds.&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Placeholder Text</title>
      <link>https://www.airplanecraft.com/zh/post/placeholder-text/</link>
      <pubDate>Sat, 09 Mar 2019 00:00:00 +0000</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/placeholder-text/</guid>
      <description>
        
          
            &lt;p&gt;Lorem est tota propiore conpellat pectoribus de pectora summo.&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Math Typesetting</title>
      <link>https://www.airplanecraft.com/zh/post/math-typesetting/</link>
      <pubDate>Fri, 08 Mar 2019 00:00:00 +0000</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/math-typesetting/</guid>
      <description>
        
          
            &lt;p&gt;Mathematical notation in a Hugo project can be enabled by using third party JavaScript libraries.&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Emoji Support</title>
      <link>https://www.airplanecraft.com/zh/post/emoji-support/</link>
      <pubDate>Tue, 05 Mar 2019 00:00:00 +0000</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/emoji-support/</guid>
      <description>
        
          
            &lt;p&gt;Emoji can be enabled in a Hugo project in a number of ways.&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>如何配置jenkins新节点</title>
      <link>https://www.airplanecraft.com/zh/post/jenkins_create_new_node/</link>
      <pubDate>Sat, 13 Oct 2018 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/jenkins_create_new_node/</guid>
      <description>
        
          
            &lt;h3 id=&#34;jenkins-节点-简介&#34;&gt;jenkins 节点 简介&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;在企业里面使用Jenkins自动部署时，大部分企业更新发布几个软件版本,但是对于一些公司有非常多的业务线或者产品来说，Jenkins就需要同时处理很多的任务，这时候就需要借助Jenkins多个node或者我们所说的Jenkins分布式SLAVE节点，来分开处理多个产品或者业务线的部署，目的就是master节点用来分配任务，slave节点来具体执行部署任务&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;配置-slave节点&#34;&gt;配置 slave节点&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;jenkins -&amp;gt;manage jenins -&amp;gt; manage node and cloud -&amp;gt;new node&lt;/li&gt;
&lt;li&gt;node name:test ,选择permanent node&lt;/li&gt;
&lt;li&gt;填好number of executors:1 ,remote root,launch method:launch agent via ssh,Host,Credentials,	Host Key Verification Strategy,known hosts file verification strategy ,availability:keep agent online as much as possible&lt;/li&gt;
&lt;li&gt;在slave上安装各种需要软件&lt;/li&gt;
&lt;li&gt;一定要安装相关的plugin和global tool configuration里面配置相关的工具软件
e&lt;/li&gt;
&lt;li&gt;创建一个pipeline测试一下&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;pipeline {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    agent any
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    stages {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        stage(&amp;#39;Example&amp;#39;) {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;            steps {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;                echo &amp;#39;Hello World&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    post {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        always {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;            echo &amp;#39;I will ........!&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>面试问题集合</title>
      <link>https://www.airplanecraft.com/zh/post/interview_questions/</link>
      <pubDate>Sat, 28 Jul 2018 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/interview_questions/</guid>
      <description>
        
          
            &lt;h2 id=&#34;面试问题结合&#34;&gt;面试问题结合&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;为什么要使用Kafka在你们项目&lt;/li&gt;
&lt;li&gt;使用什么方式来解决微服务的事务问题Seata 支持多种事物框架&lt;/li&gt;
&lt;li&gt;如有大量的并发 HTTP 请求到同一个API如何设计 连接池，keep-alive,socket-timeout,connect-time等设置&lt;/li&gt;
&lt;li&gt;如何保证一个高并发的程序能够很好的服务用户，该怎么设计&lt;/li&gt;
&lt;li&gt;如何劝说客户迁移到云&lt;/li&gt;
&lt;li&gt;K8s能给企业带来什么&lt;/li&gt;
&lt;li&gt;如何设计一个websocket客户端的高可用&lt;/li&gt;
&lt;li&gt;你为什么觉得你适合这个职位&lt;/li&gt;
&lt;li&gt;你对你的职业生涯有什么规划&lt;/li&gt;
&lt;li&gt;英文中文的自我介绍&lt;/li&gt;
&lt;li&gt;为什么要使用elasticsearch&lt;/li&gt;
&lt;li&gt;为什么要使用云服务&lt;/li&gt;
&lt;li&gt;mysql索引为什么可以提高速度，elasticsearch倒排索引原理&lt;/li&gt;
&lt;li&gt;java 查看jvm一些命令jstack jstat jmap&lt;/li&gt;
&lt;li&gt;mariadb和mysqldb区别&lt;/li&gt;
&lt;li&gt;Solution architect Enterprise architect technical architect 区别&lt;/li&gt;
&lt;li&gt;作为一个云架构师你要考哪些stakeholder的诉求&lt;/li&gt;
&lt;li&gt;作为一个架构师需要哪些能力&lt;/li&gt;
&lt;li&gt;什么是蓝绿发布/灰度发布/滚动发布&lt;/li&gt;
&lt;li&gt;RTO RPO&lt;/li&gt;
&lt;li&gt;aws 混合云网络构建，AWS VPC网络如何通信&lt;/li&gt;
&lt;li&gt;aws 私有云在公有云上备份&lt;/li&gt;
&lt;li&gt;aws 异地多活.https://aws.amazon.com/cn/blogs/china/corporate-cloud-travel-hybrid-cloud-construction-and-common-cloud-application-scenarios/&lt;/li&gt;
&lt;li&gt;如何设计一个高并发的大数据处理系统，模块解耦，分布式处理，数据的分片和副本，流数据，网络设计和搭建，日志的处理&lt;/li&gt;
&lt;li&gt;如果在咨詢行業我們我們處理不同行業客戶的產品的架構，我們怎麽才可以做好這樣的工作&lt;/li&gt;
&lt;/ol&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>k8s使用ingress总结</title>
      <link>https://www.airplanecraft.com/zh/post/k8s-install-ingress/</link>
      <pubDate>Thu, 03 May 2018 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/k8s-install-ingress/</guid>
      <description>
        
          
            &lt;h3 id=&#34;安装准备&#34;&gt;安装准备&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Centos7.7 vm 或者真实的物理机三台(master一台,node两台)&lt;/li&gt;
&lt;li&gt;硬件要求2GB ram,最低2CPU，最少32GB 硬盘&lt;/li&gt;
&lt;li&gt;节点之间最好网络互通，如果不考虑安全可以关闭firewalld&lt;/li&gt;
&lt;li&gt;可以访问到外部网络,因为需要网络资源，比如yum源和其他k8s需要的yaml文件&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;需要安装和配置&#34;&gt;需要安装和配置&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;yum源配置&lt;/li&gt;
&lt;li&gt;防火墙selinux的关闭与配置&lt;/li&gt;
&lt;li&gt;swap分区配置&lt;/li&gt;
&lt;li&gt;桥接ipv4流量交给iptables&lt;/li&gt;
&lt;li&gt;文件句柄数的限制&lt;/li&gt;
&lt;li&gt;Docker的安装&lt;/li&gt;
&lt;li&gt;Kubeadmin,flannel&lt;/li&gt;
&lt;li&gt;创建deployment,service,pod,ingress,ingress controller,kubernets-dashboard&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;具体安装步骤&#34;&gt;具体安装步骤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;VM 网络选择bridge模式 master:192.168.25.200 node:192.168.25.187/192.168.25.188&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;防火墙&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  $ systemctl stop firewalld
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  $ systemctl disable firewalld
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Selinux&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  $ sed -i &amp;#34;s/^SELINUX=enforcing/SELINUX=disabled/g&amp;#34; /etc/selinux/config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  $ sed -i &amp;#34;s/^SELINUX=permissive/SELINUX=disabled/g&amp;#34; /etc/selinux/config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  $ setenforce 0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;关闭swap&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  swapoff -a 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  sed -i &amp;#39;s/.*swap.*/#&amp;amp;/&amp;#39; /etc/fstab
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;网络转发&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  cat &amp;gt; /etc/sysctl.d/k8s.conf &amp;lt;&amp;lt; EOF
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  net.bridge.bridge-nf-call-ip6tables = 1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  net.bridge.bridge-nf-call-iptables = 1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;文件句柄&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>裸金属服务器使用</title>
      <link>https://www.airplanecraft.com/zh/post/bare-metal-server/</link>
      <pubDate>Wed, 06 Sep 2017 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/bare-metal-server/</guid>
      <description>
        
          
            &lt;h2 id=&#34;什么裸金属服务器&#34;&gt;什么裸金属服务器&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;裸金属服务器（Bare Metal Server，BMS）是一款兼具弹性云服务器和物理机性能的计算类服务，为您和您的企业提供专属的云上物理服务器，为核心数据库、关键应用系统、高性能计算、大数据等业务提供卓越的计算性能以及数据安全。租户可灵活申请，按需使用。

裸金属服务器的开通是自助完成的，您只需要指定具体的服务器类型、镜像、所需要的网络配置等，即可在短时间内获得所需的裸金属服务器。服务器供应、运维工作交由华为云，您可以专注于业务创新。
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;产品架构&#34;&gt;产品架构&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;裸金属服务器在不同可用区中部署（可用区之间通过内网连接），部分可用区发生故障后不会影响同一区域内的其他可用区。&lt;/li&gt;
&lt;li&gt;可以通过虚拟私有云建立专属的网络环境，设置子网、安全组，并通过弹性公网IP实现外网链接（需带宽支持）。&lt;/li&gt;
&lt;li&gt;通过镜像服务，可以对裸金属服务器安装镜像，也可以通过私有镜像批量创建裸金属服务器，实现快速的业务部署。&lt;/li&gt;
&lt;li&gt;通过云硬盘服务实现数据存储，并通过云硬盘备份服务实现数据的备份和恢复。&lt;/li&gt;
&lt;li&gt;云监控是保持裸金属服务器可靠性、可用性和性能的重要部分，通过云监控，用户可以观察裸金属服务器资源。&lt;/li&gt;
&lt;li&gt;云备份提供对云硬盘和裸金属服务器的备份保护服务，支持基于快照技术的备份服务，并支持利用备份数据恢复服务器和磁盘的数据。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;华为裸金属的服务器的架构&#34;&gt;华为裸金属的服务器的架构&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;pic&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/huaweibaremetal.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;与物理机和虚拟机的对比&#34;&gt;与物理机和虚拟机的对比&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;pic&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/huaweicompare.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;什么场景下使用裸金属服务器&#34;&gt;什么场景下使用裸金属服务器&lt;/h2&gt;
&lt;p&gt;裸金属服务与一般云服务器最大的区别是是虚拟化与非虚拟化，虚拟化的缺点就是性能损失，操作系统和应用程序在调用硬件资源的时候，没有直接掌控，而是通过虚拟化软件间接管理的。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;高安全性和法规要求&lt;/li&gt;
&lt;li&gt;高性能计算场景&lt;/li&gt;
&lt;li&gt;资源独占的场景&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;不同厂家的裸金属服务器的服务差别&#34;&gt;不同厂家的裸金属服务器的服务差别&lt;/h2&gt;
&lt;p&gt;有很多小厂的裸金属服务器，说实话就是一台独立主机，独立的独享宽带的网络（可以定制宽带），但是网络无法定制，比如没有VPC的选项，没有安全组，要自己通过防火墙软件管安全，也没有网络硬盘，说白了就是一台独立的远程主机。阿里云华为云这些已经非常成熟了，跟网络主机的区别不是太大，区别就是一个非虚拟化的主机而已，其他的地方基本上区别不大。&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>裸金属服务器遇到的docker容器访问问题</title>
      <link>https://www.airplanecraft.com/zh/post/firewalld-block-docker/</link>
      <pubDate>Wed, 06 Sep 2017 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/firewalld-block-docker/</guid>
      <description>
        
          
            &lt;h2 id=&#34;问题描述&#34;&gt;问题描述&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;我们本地数据中心服务器处理与客户的接口的时候发现网络有严重的延迟，然后我们又有数据合规方面的问题，我们就采用云端的裸金属服务器，安装了docker后发现docker无法访问到主机。
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;问题发现&#34;&gt;问题发现&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;docker exec -ti docker-id bash 进入主机&lt;/li&gt;
&lt;li&gt;在docker主机内部telnet 主机IP 端口&lt;/li&gt;
&lt;li&gt;发现无法访问&lt;/li&gt;
&lt;li&gt;退出虚拟主机在主机执行telnet 主机IP 端口 ，是可以访问的&lt;/li&gt;
&lt;li&gt;检查网络 &lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;pic&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/firewall-docker.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;原来是docker0 与主机eth0 之间通信问题被firewall屏蔽了&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;firewall&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;permanent&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rich&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rule&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;rule family=&amp;#34;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ipv4&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34; source address=&amp;#34;&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;172.17&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34; accept&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;n&#34;&gt;firewall&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;reload&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>JDk版本問題造成的cglib運行時候出錯</title>
      <link>https://www.airplanecraft.com/zh/post/jdk-version-caused-dynamic-proxy-issue/</link>
      <pubDate>Tue, 29 Aug 2017 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/jdk-version-caused-dynamic-proxy-issue/</guid>
      <description>
        
          
            &lt;h2 id=&#34;異常信息&#34;&gt;異常信息&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;Caused by: java.lang.ExceptionInInitializerError: null
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122) ~[spring-context-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110) ~[spring-context-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:405) ~[spring-context-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       ... 20 common frames omitted
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&amp;gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &amp;#34;opens java.lang&amp;#34; to unnamed module @1134affc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.proxy.Enhancer.&amp;lt;clinit&amp;gt;(Enhancer.java:73) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       ... 23 common frames omitted
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &amp;#34;opens java.lang&amp;#34; to unnamed module @1134affc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357) ~[na:na]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199) ~[na:na]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at java.base/java.lang.reflect.Method.setAccessible(Method.java:193) ~[na:na]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at java.base/java.security.AccessController.doPrivileged(AccessController.java:554) ~[na:na]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.ReflectUtils.&amp;lt;clinit&amp;gt;(ReflectUtils.java:52) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;31&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;32&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;33&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;       ... 35 common frames omitted
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;挖掘問題&#34;&gt;挖掘問題&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;eclipse compiler和jdk版本都是1.8 但是外面是java16,在eclipse裏面用JAVA8都是沒有任何問題,但是在JAVA16就出錯,這是因爲在java9中引入了module，現實大部分的企業級開發還是在使用java8所以一般不會遇到這個問題，只需要運行的時候如下&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>如何测试linux的tcp和udp端口</title>
      <link>https://www.airplanecraft.com/zh/post/linux-tcp-udp-port-test/</link>
      <pubDate>Fri, 02 Jun 2017 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/linux-tcp-udp-port-test/</guid>
      <description>
        
          
            &lt;h2 id=&#34;如何测试linux的tcp和udp端口&#34;&gt;如何测试linux的tcp和udp端口&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;测试tcp 一般用使用 telnet
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;telnet 192.168.12.10 22
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;telnet 不支持udp协议，所以我们可以使用nc,nc可以支持tcp也可以支持udp
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; yum install -y nc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; nc -z -v 192.168.10.12 22 #tcp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; nc -z -v -u 192.168.10.12 123 # udp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>为什么要使用epel</title>
      <link>https://www.airplanecraft.com/zh/post/why-epel/</link>
      <pubDate>Mon, 22 May 2017 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/why-epel/</guid>
      <description>
        
          
            &lt;h2 id=&#34;linux-安装包的痛苦经历&#34;&gt;Linux 安装包的痛苦经历&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;libcurl.so: libssh2.so.1: cannot open shared object file: No such file or directory
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;libssl.so.10: cannot open shared object file: No such file or directory
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果遇到以上以上情况，libcurl需要libssh2依赖，那我们最希望的最法无非是yum install libssh2 libssl希望能安装好，那就解决了依赖的问题了，但是问题是没有&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;Last metadata expiration check: 2:33:40 ago on  18 Mar 2019 02:09:36 PM CST.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;No match for argument: libssh2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;Error: Unable to find a match: libssh2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;遇到这样的问题我们一般会去找一个rpm包去安装，通过rpm -ivh libssh2.rpm 发现缺少依赖&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;Requires&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;libc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;so&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;libc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;so&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GLIBC_2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;libc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;so&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GLIBC_2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;2.5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;libc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;so&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GLIBC_2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;libc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;so&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GLIBC_2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;3.4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;libc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;so&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GLIBC_2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;libcrypto&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;so&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;libcrypto&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;so&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;OPENSSL_3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;libssl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;so&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;libz&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;so&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;rpmlib&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CompressedFileNames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;3.0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;rpmlib&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FileDigests&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;4.6&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;rpmlib&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PayloadFilesHavePrefix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;4.0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;rpmlib&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PayloadIsZstd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;5.4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;rtld&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GNU_HASH&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;有的依赖可以找到的，但是因为版本问题可能不行，有的找不到需要通过gcc编译，然后一个个解决实在太麻烦了！但是任何一个有经验的centos/redhat的系统工程师都会提前求助于EPEL!&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Openvpn最简单的安装方式</title>
      <link>https://www.airplanecraft.com/zh/post/linux-openvpn-install/</link>
      <pubDate>Mon, 08 May 2017 12:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/linux-openvpn-install/</guid>
      <description>
        
          
            &lt;h2 id=&#34;为什么会用到vpn&#34;&gt;为什么会用到vpn&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;vpn是我们经常会用到的工具，比如有些程序不允许我们在某些地区下载，有些网站我们没有办法看之类的，我们就vpn不管是pptp还是vpn无非改变都是路由问题，也就是你上网的出口的问题&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;openvpn&#34;&gt;openvpn&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;openvpn是一款开源vpn软件，功能非常强大，用户非常多，遵循的是openvpn协议&lt;/li&gt;
&lt;li&gt;缺点搭建有些复杂，但是有第三方的脚本协助搭建会非常简单&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;openvpn搭建借助于第三方脚本&#34;&gt;openvpn搭建借助于第三方脚本&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;作者git：https://github.com/Nyr/openvpn-install&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;wget https://git.io/vpn -O openvpn-install.sh &amp;amp;&amp;amp; bash openvpn-install.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;最后生成一个*.ovpn文件&lt;/li&gt;
&lt;li&gt;下载并安装openvpn gui：https://openvpn.net/community-downloads/&lt;/li&gt;
&lt;li&gt;用安装好的客户端打开*.ovpn就可以登录远程的vpn服务器了&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>python一些集合</title>
      <link>https://www.airplanecraft.com/zh/post/pythyon_collection/</link>
      <pubDate>Thu, 04 May 2017 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/pythyon_collection/</guid>
      <description>
        
          
            &lt;h3 id=&#34;python-面試題目&#34;&gt;Python 面試題目&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;列表（list）和元组（tuple）有什么区别？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;列表是可变的。创建后可以对其进行修改&lt;/li&gt;
&lt;li&gt;元组是不可变的。元组一旦创建，就不能对其进行更改&lt;/li&gt;
&lt;li&gt;列表表示的是顺序。它们是有序序列，通常是同一类型的对象 [&amp;quot;APPLE&amp;quot;,&amp;quot;PEAR&amp;quot;,&amp;quot;ORANGE&amp;quot;]&lt;/li&gt;
&lt;li&gt;元组表示的是结构。可以用来存储不同数据类型的元素 [1,&amp;quot;eric&amp;quot;,1999-08-10,24]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;什么是装饰器（decorator）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;解释Range函数&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;解释map函数的工作原理&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;解释reduce函数的工作原理。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;解释filter函数的工作原理&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python是按引用调用还是按值调用？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;列表乘法是如何工作的?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;类中的“self”指的是什么？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如何在Python中连接列表？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;列表和数组有什么区别？ list vs array&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pandas&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;举出几个可变和不可变对象的例子&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;模块（module）和包（package）有什么区别？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在迭代序列时，为什么要使用enumerate？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;pass、continue和break之间有什么区别?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如何将for循环转换为使用递推式构造列表（list comprehension）？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python中的异常处理是如何进行的？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;什么是__init__?__init__是Python中的方法或者结构。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;什么是lambda函数？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python中的self是什么？self是类的实例或对象。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python中的函数方法是什么？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;python中是否需要缩进？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;python是否区分大小写？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python中的局部变量和全局变量是什么？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;什么是python模块？Python中有哪些常用的内置模块？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python中的命名空间是什么？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如何在Python中管理内存？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;什么是pep？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;这两个参数是什么意思：*args，**kwargs？我们为什么要使用它们？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;简要描述Python的垃圾回收机制（garbage collection）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python多线程（multi-threading） 多进程(multi-process)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;说明os,sys模块不同，并列举常用的模块方法？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python里面如何拷贝一个对象？ 浅拷贝深拷贝&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;__new__和__init__的区别。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python中单下划线和双下划线分别是什么？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;说一说Python自省 反射&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;“猴子补丁”（monkey patching）指的是什么？这种做法好吗？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下面这些是什么意思：@classmethod, @staticmethod, @property？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python 中类方法、类实例方法、静态方法有何区别？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python 中如何动态获取和设置对象的属性？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python 的内存管理机制及调优手段？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;内存泄露是什么？如何避免？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;为什么函数名字可以当做参数用?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;回调函数，如何通信的?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python 主要的内置数据类型都有哪些？print dir( ‘a ’) 的输出？&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Ansible简介</title>
      <link>https://www.airplanecraft.com/zh/post/ansible-devops-tools/</link>
      <pubDate>Mon, 06 Mar 2017 11:40:00 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/ansible-devops-tools/</guid>
      <description>
        
          
            &lt;h2 id=&#34;ansible-简介&#34;&gt;Ansible 简介&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt; ansible是基于Python开发，集合了众多运维工具（puppet、chef）的优点，实现了批量系统配置、批量程序部署、批量运行命令等功能。最大的特点就是ansible不需要在远程主机上安装client/agents，因为它们是基于ssh来和远程主机通讯的。ansible目前已经已经被红帽官方收购，是自动化运维工具中大家认可度最高的，并且上手容易，学习简单。是每位运维工程师必须掌握的技能之一。
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;特点&#34;&gt;特点&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;部署简单，只需在主控端部署Ansible环境，被控端无需做任何操作；&lt;/li&gt;
&lt;li&gt;默认使用SSH协议对设备进行管理；&lt;/li&gt;
&lt;li&gt;有大量常规运维操作模块，可实现日常绝大部分操作；&lt;/li&gt;
&lt;li&gt;配置简单、功能强大、扩展性强；&lt;/li&gt;
&lt;li&gt;支持API及自定义模块，可通过Python轻松扩展；&lt;/li&gt;
&lt;li&gt;通过Playbooks来定制强大的配置、状态管理；&lt;/li&gt;
&lt;li&gt;轻量级，无需在客户端安装agent，更新时，只需在操作机上进行一次更新即可；&lt;/li&gt;
&lt;li&gt;提供一个功能强大、操作性强的Web管理界面和REST API接口——AWX平台。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;任务执行方式&#34;&gt;任务执行方式&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ad-hoc模式(点对点模式)&lt;/p&gt;
&lt;p&gt;使用单个模块，支持批量执行单条命令。ad-hoc 命令是一种可以快速输入的命令，而且不需要保存起来的命令。就相当于bash中的一句话shell。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;playbook模式&lt;/p&gt;
&lt;p&gt;是Ansible主要管理方式，也是Ansible功能强大的关键所在。playbook通过多个task集合完成一类功能.比如我们拷贝一个文件到主机，然后授予权限，然后启动程序这几个步骤结合在一起&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;aansbile-文件和命令&#34;&gt;Aansbile 文件和命令&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ansible.cfg&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;inventory&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ansible&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hosts&lt;/span&gt;		&lt;span class=&#34;c1&#34;&gt;#这个参数表示资源清单inventory文件的位置&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;library&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;usr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;share&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ansible&lt;/span&gt;		&lt;span class=&#34;c1&#34;&gt;#指向存放Ansible模块的目录，支持多个目录方式，只要用冒号（：）隔开就可以&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;forks&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;		&lt;span class=&#34;c1&#34;&gt;#并发连接数，默认为5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;sudo_user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;		&lt;span class=&#34;c1&#34;&gt;#设置默认执行命令的用户&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;remote_port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;22&lt;/span&gt;		&lt;span class=&#34;c1&#34;&gt;#指定连接被管节点的管理端口，默认为22端口，建议修改，能够更加安全&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;host_key_checking&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;False&lt;/span&gt;		&lt;span class=&#34;c1&#34;&gt;#设置是否检查SSH主机的密钥，值为True/False。关闭后第一次连接不会提示配置实例&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;timeout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;60&lt;/span&gt;		&lt;span class=&#34;c1&#34;&gt;#设置SSH连接的超时时间，单位为秒&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;log_path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ansible&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;		&lt;span class=&#34;c1&#34;&gt;#指定一个存储ansible日志的文件（默认不记录日志）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;inventory 文件&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;不分组&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;IP1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;IP2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;OR 主机组&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[HOSTGRUPXX]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;IP1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;IP2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;命令&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/ansible　　Ansibe AD-Hoc 临时命令执行工具，常用于临时命令的执行
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/ansible-doc 　　Ansible 模块功能查看工具
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/ansible-galaxy　　下载/上传优秀代码或Roles模块 的官网平台，基于网络的
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/ansible-playbook　　Ansible 定制自动化的任务集编排工具
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/ansible-pull　　Ansible远程执行命令的工具，拉取配置而非推送配置（使用较少，海量机器时使用，对运维的架构能力要求较高）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/ansible-vault　　Ansible 文件加密工具
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/ansible-console　　Ansible基于Linux Consoble界面可与用户交互的命令执行工具
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;其中，我们比较常用的是/usr/bin/ansible和/usr/bin/ansible-playbook。
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;例子&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这个例子非常的简单，就拷贝ssl证书和nginx配置文件到nginx目录下面，然后启动nginx&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>linux最大文件打开数</title>
      <link>https://www.airplanecraft.com/zh/post/linux-file-max-open/</link>
      <pubDate>Sat, 07 May 2016 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/linux-file-max-open/</guid>
      <description>
        
          
            &lt;h2 id=&#34;文件最大打开数&#34;&gt;文件最大打开数&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;如果服务器提供TCP服务（TCP层或者HTTP层），在并发访问量持续很高时，容易产生too many open files错误。这时查看netstat可以发现很多TIME_WAIT状态的链接，这说明大量链接处于半开状态，已经完成了请求响应，然后进行下一步操作，如果句柄数(文件打开数)超过了阈值，那就只能等待或者出错&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;解决方案&#34;&gt;解决方案&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;系统内核的修改&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;cat /proc/sys/fs/file-max
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;sysctl -a
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;sysctl -p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;每个用户级别的修改&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;ulimit -n 1024000 (临时修改)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;vim /etc/security/limits.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;*  soft nofile 2048
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;*  hard nofile 2048
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果阿里云或者aws云里面的centos都是被优化过的，默认的1024都被修改成了65536了，所以对于大部分人来说足够用了&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>linux的tree命令</title>
      <link>https://www.airplanecraft.com/zh/post/linux-tree/</link>
      <pubDate>Fri, 06 May 2016 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/linux-tree/</guid>
      <description>
        
          
            &lt;h2 id=&#34;linux-tree-command&#34;&gt;linux tree command&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Centos 是默认不带tree 命令的，如果要使用首先要install tree command&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y tree
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;使用tree 显示目录的深度为2级&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; tree -L 2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;├── easy-rsa-old-2.3.3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── configure.ac
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── COPYING
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── COPYRIGHT.GPL
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── distro
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── doc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── easy-rsa
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   └── Makefile.am
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;├── frgs.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;├── frp_0.32.1_linux_amd64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── frgs.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── frpc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── frpc_full.ini
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── frpc.ini
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── frps
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── frps_full.ini
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── frps.ini
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── frps.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── LICENSE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   ├── nohup.out
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;│   └── systemd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;├── frp_0.32.1_linux_amd64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>vpn客户端工具pptp介绍</title>
      <link>https://www.airplanecraft.com/zh/post/pptp-client/</link>
      <pubDate>Wed, 04 May 2016 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/pptp-client/</guid>
      <description>
        
          
            &lt;h2 id=&#34;pptp-安装&#34;&gt;pptp 安装&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;yum install ppp pptp pptp-setup -y&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;创建-链接文件&#34;&gt;创建 链接文件&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;/etc/ppp/peers/pptp&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  pty &amp;#34;pptp 039.9966.org  --nolaunchpppd --debug&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  name hk789
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  password ff800800
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  remotename PPTP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  require-mppe-128
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  require-mschap-v2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  refuse-eap
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  refuse-pap
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  refuse-chap
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  refuse-mschap
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  noauth
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  debug
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  persist
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  maxfail 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  defaultroute
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  #replacedefaultroute
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  #usepeerdns
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;执行命令&#34;&gt;执行命令&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; modprobe nf_conntrack_pptp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; pppd call pptp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>lvm空间扩容</title>
      <link>https://www.airplanecraft.com/zh/post/linux-lvm-resize/</link>
      <pubDate>Wed, 20 Apr 2016 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/linux-lvm-resize/</guid>
      <description>
        
          
            &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;[root@localhost ~]# df -H
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;Filesystem               Size  Used Avail Use% Mounted on
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;devtmpfs                  17G     0   17G   0% /dev
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;tmpfs                     17G     0   17G   0% /dev/shm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;tmpfs                     17G  9.1M   17G   1% /run
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;tmpfs                     17G     0   17G   0% /sys/fs/cgroup
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;/dev/mapper/centos-root   54G  1.4G   53G   3% /
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda2                1.1G  148M  916M  14% /boot
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda1                210M   12M  198M   6% /boot/efi
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;/dev/mapper/centos-home   12T   35M   12T   1% /home
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;tmpfs                    3.4G     0  3.4G   0% /run/user/0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;分区不够合理 root 下面空间不够用&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>centos使用ssh-key免密登录</title>
      <link>https://www.airplanecraft.com/zh/post/linux-key-gen/</link>
      <pubDate>Sun, 03 Apr 2016 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/linux-key-gen/</guid>
      <description>
        
          
            &lt;h2 id=&#34;centos-ssh-login-免密码登录&#34;&gt;centos ssh login 免密码登录&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;修改linux主机sshd配置&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/ssh/sshd_config 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  RSAAuthentication yes 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  PubkeyAuthentication yes 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;  AuthorizedKeysFile .ssh/authorized_keys 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;/sbin/service sshd restart 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;生成密钥,包括 id_rsa私钥，id_rsa.pub公钥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; ssh-keygen -t rsa 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;更改文件名&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt; mv ~/.ssh/id_rsa.pub ~/.ssh/authorized_keys
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;拷贝id_rsa文件内容到任何一个linux客户端,remote.pem,使用ssh登录&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;cl&#34;&gt;ssh -i remote.pem user@host
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>jvm参数优化</title>
      <link>https://www.airplanecraft.com/zh/post/jvm-optimize-related/</link>
      <pubDate>Fri, 26 Jun 2015 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/jvm-optimize-related/</guid>
      <description>
        
          
            &lt;h3 id=&#34;相关链接&#34;&gt;相关链接&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.csdn.net/lingbo229/article/details/82586822&#34;&gt;https://blog.csdn.net/lingbo229/article/details/82586822&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.iteye.com/blog/kakaluyi-774227&#34;&gt;https://www.iteye.com/blog/kakaluyi-774227&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.csdn.net/qq_44831907/article/details/113342146&#34;&gt;https://blog.csdn.net/qq_44831907/article/details/113342146&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cnblogs.com/jpfss/p/11050411.html&#34;&gt;https://www.cnblogs.com/jpfss/p/11050411.html&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>jenkins简介</title>
      <link>https://www.airplanecraft.com/zh/post/jenkins-devops-tools/</link>
      <pubDate>Wed, 06 May 2015 11:40:00 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/post/jenkins-devops-tools/</guid>
      <description>
        
          
            &lt;h2 id=&#34;什么是ci和cd&#34;&gt;什么是CI和CD&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;CI(Continuous integration，中文意思是持续集成)/  CD(Continuous Delivery， 中文意思持续交付)
CI/CD 是一种通过在应用开发阶段引入自动化来频繁向客户交付应用的方法。
CI/CD 的核心概念是持续集成、持续交付和持续部署。它是作为一个面向开发和运营团队的解决方案，主要针对在集成新代码时所引发的问题（也称为：“集成地狱”）。
CI/CD 可让持续自动化和持续监控贯穿于应用的整个生命周期（从集成和测试阶段，到交付和部署）。
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;jenkins简介&#34;&gt;jenkins简介&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;    Jenkins是一个开源的、提供友好操作界面的持续集成(CI)工具，起源于Hudson（Hudson是商用的），主要用于持续、自动的构建/测试软件项目、监控外部任务的运行（这个比较抽象，暂且写上，不做解释）。Jenkins用Java语言编写，可在Tomcat等流行的servlet容器中运行，也可独立运行。通常与版本管理工具(SCM)、构建工具结合使用。可集成使用版本控制工具有SVN、GIT，以及构建工具有Maven、Ant、Gradle。
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;特点&#34;&gt;特点&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;易于安装-只要把jenkins.war部署到servlet容器，不需要数据库支持&lt;/li&gt;
&lt;li&gt;易于配置-所有配置都是通过其提供的web界面实现；&lt;/li&gt;
&lt;li&gt;有大量的插件可以配置使用,比如email通知结果,git,maven&lt;/li&gt;
&lt;li&gt;附带了很多其他的功能比如用户密码的加密&lt;/li&gt;
&lt;li&gt;可以支持备份,迁移,升级&lt;/li&gt;
&lt;li&gt;还可以通过完全编程的方式Jenkinsfile,devops来实现纯代码的方式完全CI/CD&lt;/li&gt;
&lt;li&gt;可以支持分布式的多个slave agent&lt;/li&gt;
&lt;li&gt;可以保存每次build日志方便查阅&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;cicd-优势&#34;&gt;CI/CD 优势&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;1. 持续集成中的任何一个环节都是自动完成的，无需太多的人工干预，有利于减少重复过程以节省时间、费用和工作量
2. 持续集成保障了每个时间点上团队成员提交的代码是能成功集成的。换言之，任何时间点都能第一时间发现软件的集成问题，使任意时间发布可部署的软件成为了可能
3. CI/CD 具有高度的自动化 就是减少人工操作的事务，可以通过预先准备的脚本一次性运行，是我们内部或者外部用户，得到用户对于新版本的快速反馈，并且可以迅速处理任何明显的缺陷.
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;放几张图&#34;&gt;放几张图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;cicd&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/cicd.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;jenkins&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/jenkins.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
          
          
        
      </description>
    </item>
    
  </channel>
</rss>
