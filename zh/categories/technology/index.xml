<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Technology on 飞机模型</title>
    <link>https://www.airplanecraft.com/zh/categories/technology/</link>
    <description>Recent content in Technology on 飞机模型</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sun, 03 Dec 2023 10:30:37 +0800</lastBuildDate><atom:link href="https://www.airplanecraft.com/zh/categories/technology/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>什么是生成式ai</title>
      <link>https://www.airplanecraft.com/zh/posts/generative-ai/</link>
      <pubDate>Sun, 03 Dec 2023 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/generative-ai/</guid>
      <description>
        
          
            &lt;h3 id=&#34;什么是ai&#34;&gt;什么是AI&lt;/h3&gt;
&lt;p&gt;人工智能（AI）是指计算机系统能够执行人类通常需要使用智力才能完成的任务的能力。这些任务可以包括语音识别、图像识别、自然语言处理、决策制定等等。人工智能的目标是让计算机拥有类似人类的智能水平，能够像人一样学习、推理、理解和适应环境。&lt;/p&gt;
&lt;h3 id=&#34;什么是ml&#34;&gt;什么是ML&lt;/h3&gt;
&lt;p&gt;机器学习（ML）是一种人工智能的分支，其主要关注如何让计算机根据数据自动学习并改进算法，而不需要人工干预。换句话说，机器学习是一种数据驱动的方法，通过分析和学习数据中的模式和规律，让计算机能够自主地进行预测和决策。机器学习算法通常可以分为监督学习、无监督学习、半监督学习和强化学习等几种类型。&lt;/p&gt;
&lt;h3 id=&#34;什么是dl&#34;&gt;什么是DL&lt;/h3&gt;
&lt;p&gt;深度学习（DL）是机器学习的一种特殊形式，其主要依赖于深层神经网络（DNN）来实现数据的学习和处理。深度学习的主要特点是可以从大量的未标记数据中进行学习，并生成高度抽象的特征表示。深度学习已经被广泛应用于图像和语音识别、自然语言处理、推荐系统等领域，并在这些领域中取得了惊人的成果。&lt;/p&gt;
&lt;h3 id=&#34;aiml和dl的应用领域&#34;&gt;AI,ML和DL的应用领域&lt;/h3&gt;
&lt;p&gt;人工智能、机器学习和深度学习已经在各个领域得到了广泛的应用，这里列举几个典型的应用领域。&lt;/p&gt;
&lt;p&gt;自然语言处理（NLP）：自然语言处理是人工智能领域的一个重要应用方向，其主要目标是让计算机能够理解、分析和生成自然语言。在这个领域中，机器学习和深度学习算法被广泛应用于文本分类、情感分析、机器翻译、问答系统等任务。&lt;/p&gt;
&lt;p&gt;计算机视觉（CV）：计算机视觉是指让计算机能够理解和分析图像和视频，并从中提取有用的信息。在这个领域中，深度学习算法已经成为了主流，广泛应用于图像分类、目标检测、物体跟踪、人脸识别等任务。&lt;/p&gt;
&lt;p&gt;语音识别（ASR）：语音识别是指让计算机能够理解和转换人类语音的能力。在这个领域中，深度学习算法已经成为了主流，广泛应用于语音识别、语音合成等任务。&lt;/p&gt;
&lt;p&gt;推荐系统：推荐系统是指根据用户的历史行为、兴趣和偏好，向用户推荐个性化的商品、服务或信息的系统。在这个领域中，机器学习和深度学习算法被广泛应用于用户行为分析、特征提取、推荐模型建立等任务。&lt;/p&gt;
&lt;p&gt;自动驾驶：自动驾驶技术是指让汽车、飞机、无人机等交通工具能够自主地行驶和操作的技术。在这个领域中，深度学习算法被广泛应用于图像处理、目标检测、障碍物识别等任务。&lt;/p&gt;
&lt;h3 id=&#34;aiml和dl的技术原理&#34;&gt;AI、ML和DL的技术原理&lt;/h3&gt;
&lt;p&gt;人工智能、机器学习和深度学习的实现都依赖于一些基础技术和算法，下面介绍其中一些常见的技术原理。&lt;/p&gt;
&lt;p&gt;神经网络：神经网络是指一种模拟人类神经系统的计算模型，其基本单元是神经元。深度学习中的神经网络通常包括输入层、隐藏层和输出层，其中隐藏层可以有多层。不同的神经网络结构和算法可以应用于不同的任务。&lt;/p&gt;
&lt;p&gt;卷积神经网络（CNN）：卷积神经网络是一种特殊的神经网络结构，其主要针对图像和视频等二维数据的处理。卷积神经网络中的卷积层和池化层可以有效提取图像中的特征，并通过全连接层进行分类和识别。&lt;/p&gt;
&lt;p&gt;循环神经网络（RNN）：循环神经网络是一种特殊的神经网络结构，其主要针对序列数据的处理。循环神经网络可以通过循环连接来处理序列数据中的时序信息，广泛应用于语音识别、机器翻译等任务。&lt;/p&gt;
&lt;h3 id=&#34;深度学习框架&#34;&gt;深度学习框架&lt;/h3&gt;
&lt;p&gt;深度学习框架是指一些基于编程语言的工具箱，可以方便地构建和训练深度学习模型。常见的深度学习框架包括TensorFlow、PyTorch、Keras等。&lt;/p&gt;
&lt;h3 id=&#34;aiml和dl的区别&#34;&gt;AI、ML和DL的区别&lt;/h3&gt;
&lt;p&gt;尽管人工智能、机器学习和深度学习的概念和应用有所重叠，但它们之间还是存在一些明显的区别。&lt;/p&gt;
&lt;p&gt;技术原理不同：人工智能是一个比较宽泛的概念，包括了许多技术和算法；机器学习是一种数据驱动的方法，主要关注如何让计算机自动学习和改进算法；深度学习是机器学习的一种特殊形式，依赖于深层神经网络来实现数据的学习和处理。&lt;/p&gt;
&lt;p&gt;应用场景不同：人工智能、机器学习和深度学习都有广泛的应用场景，但其应用范围和任务却有所不同。人工智能的应用范围相对广泛，可以应用于语音识别、图像识别、自然语言处理等多个领域；机器学习主要应用于数据挖掘、预测分析、模式识别等领域；深度学习则主要应用于计算机视觉、自然语言处理、推荐系统等领域。&lt;/p&gt;
&lt;h3 id=&#34;什么是生成式ai&#34;&gt;什么是生成式AI&lt;/h3&gt;
&lt;p&gt;生成式人工智能（Generative Artificial Intelligence，简称生成式 AI）是一种基于机器学习和人工智能技术的范畴，其目标是让计算机系统能够自主地生成各种类型的数据，如文本、图像、音频等，而不仅仅是对已有数据的模仿或分类。生成式 AI 的核心能力在于创造新的内容，而不仅仅是对已知模式的重复应用。其中，生成式人工智能模型是生成式 AI 的重要组成部分，而 chatGPT 就是其中的一种代表性模型。&lt;/p&gt;
&lt;p&gt;生成式 AI 的原理基于深度学习，特别是神经网络技术，它可以通过分析大量的训练数据来学习数据的分布和模式，然后利用这些学习到的模式来生成新的数据。生成式 AI 不仅可以生成高质量的文本，还可以用于图像生成、音乐创作、视频生成等各种领域。&lt;/p&gt;
&lt;p&gt;生成式 AI 模型的核心思想是使用生成对抗网络（GANs）、变分自编码器（VAEs）等架构，通过多层次的神经网络模块来模拟数据的分布。这些模型可以被训练成生成与训练数据相似但又独特的新数据，从而实现创造性的内容生成。生成式 AI 在自然语言处理领域中的代表模型是循环神经网络（RNNs）、长短时记忆网络（LSTMs）、转换器模型（如 GPT）等。&lt;/p&gt;
&lt;h3 id=&#34;生成式ai应用&#34;&gt;生成式ai应用&lt;/h3&gt;
&lt;p&gt;生成式 AI 的应用广泛，包括但不限于以下领域：&lt;/p&gt;
&lt;p&gt;自动写作与内容生成： 生成式 AI 可以自动生成文章、新闻、故事等文本内容，帮助内容创作者提高效率。&lt;/p&gt;
&lt;p&gt;艺术创作与设计： 在绘画、音乐、设计领域，生成式 AI 可以创造出独特的艺术品和创意作品。&lt;/p&gt;
&lt;p&gt;虚拟现实与游戏开发： 生成式 AI 可以生成逼真的虚拟世界、地图、角色等，用于游戏设计和虚拟现实体验。&lt;/p&gt;
&lt;p&gt;科学研究与创新： 在药物研发、分子设计、科学模拟等领域，生成式 AI 可以加速创新和发现。&lt;/p&gt;
&lt;p&gt;语音合成与音乐创作： 生成式 AI 可以创作音乐、合成语音，并模仿各种声音风格。&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>什么是service mesh</title>
      <link>https://www.airplanecraft.com/zh/posts/service-mesh/</link>
      <pubDate>Thu, 23 Nov 2023 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/service-mesh/</guid>
      <description>
        
          
            &lt;h2 id=&#34;什么是service-mesh&#34;&gt;什么是service mesh&lt;/h2&gt;
&lt;p&gt;Service Mesh又译作“服务网格”，作为服务间通信的基础设施层。Willian Morgan（Linkerd的CEO）如下定义Service Mesh。&lt;/p&gt;
&lt;p&gt;Service Mesh 是一个基础设施层，用于处理服务间通信。云原生应用有着复杂的服务拓扑，Service Mesh 保证请求可以在这些拓扑中可靠地穿梭。在实际应用当中，Service Mesh 通常是由一系列轻量级的网络代理组成的，它们与应用程序部署在一起，但应用程序不需要知道它们的存在。&lt;/p&gt;
&lt;p&gt;Service Mesh 实际上就是处于 TCP/IP 之上的一个抽象层，它假设底层的 L3/L4 网络能够点对点地传输字节（当然，它也假设网络环境是不可靠的，所以 Service Mesh 必须具备处理网络故障的能力）。&lt;/p&gt;
&lt;h2 id=&#34;架构图&#34;&gt;架构图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;PrivateLink&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/service-mesh.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;通过以上的架构图，很清晰的看到，最重要的两个部分就是control plane 和sidecar&lt;/p&gt;
&lt;p&gt;Control Plane：控制平面是服务网格的集中管理和配置层。它负责控制和协调sidecar代理的行为。它提供了一个控制平面API，允许管理员配置流量管理、安全性和可观测性的策略、规则和设置。&lt;/p&gt;
&lt;p&gt;Sidecar（旁车）：它基于Envoy代理。它是在同一Kubernetes POD中运行的另一个容器，负责处理所有的横切关注点。它基于旁车容器设计模式。•应用程序流量：微服务通过使用sidecar容器连接到其他微服务。应用程序流量基本上是Envoy sidecar代理容器之间的通信&lt;/p&gt;
&lt;p&gt;Data Plane：数据平面指的是部署在每个服务实例旁边的一组sidecar代理组成的网络，用于与系统中的其他服务进行通信。它充当服务与网络的中间人。Sidecar代理处理入站和出站流量，拦截通信并提供其他功能。&lt;/p&gt;
&lt;p&gt;Controllers：控制器是负责管理和控制网格行为的组件。它通常是一个软件组件，用于监视服务的状态和健康情况、配置流量路由和负载均衡规则、实施安全策略，并处理网格内服务之间通信的其他方面。&lt;/p&gt;
&lt;p&gt;服务发现（Service Discovery）：服务发现是服务网格架构中的一个重要组件。它使得服务能够动态地定位和连接到彼此，而无需硬编码的地址。&lt;/p&gt;
&lt;p&gt;证书授权机构（Certificate Authority）：它提供和管理根证书和中间证书，并执行证书签名操作。&lt;/p&gt;
&lt;p&gt;应用程序微服务（Application Microservices）：这些是组成应用程序的各个服务或微服务。它们负责处理特定的功能或任务。&lt;/p&gt;
&lt;p&gt;API端点（API Endpoints）：API端点是网格中的服务之间进行通信的入口点&lt;/p&gt;
&lt;h2 id=&#34;方案&#34;&gt;方案&lt;/h2&gt;
&lt;p&gt;目前社区Service Mesh的开源解决方案有：Buoyant 公司推出的 Linkerd 和 Google、IBM 等厂商牵头的 Istio。Linkerd 更加成熟稳定些，Istio 功能更加丰富、设计上更为强大，社区相对也更加强大一些。&lt;/p&gt;
&lt;h3 id=&#34;istio介绍&#34;&gt;istio介绍&lt;/h3&gt;
&lt;p&gt;Istio是由Google、IBM和Lyft开源的微服务管理、保护和监控框架。Istio为希腊语，意思是”起航“。Istio是一个开源的服务网格平台，提供了一组工具和功能，用于管理和保护基于微服务的应用程序。它旨在解决复杂分布式系统中与服务之间通信、可观察性、安全性和流量管理相关的常见挑战。在其核心，Istio在应用程序中的每个微服务旁边部署一个称为Envoy的sidecar代理。这个sidecar代理拦截和管理服务的所有入站和出站流量，使得Istio可以控制和监控服务之间的通信。&lt;/p&gt;
&lt;p&gt;优点：&lt;/p&gt;
&lt;p&gt;Istio拥有庞大的在线服务网格社区，并且在互联网上备受赞誉和讨论。其GitHub的贡献者远远超过Linkerd，数量上占据优势。•此外，它支持Kubernetes和VM模式。&lt;/p&gt;
&lt;p&gt;缺点：&lt;/p&gt;
&lt;p&gt;Istio并非免费提供，使用它需要相当大的时间投入，包括阅读文档、设置、确保正常功能和持续维护。&lt;/p&gt;
&lt;p&gt;在生产环境中实施和集成Istio可能需要几周甚至几个月的时间，这取决于基础架构的复杂性。
使用Istio需要相当大的资源开销。•与Linkerd不同，它缺乏内置的管理仪表板。
此外，Istio要求使用其自己的入口网关。
Istio控制平面仅在Kubernetes容器中受支持，没有可用于Istio数据平面的VM模式。&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>企业为什么选择使用openshift</title>
      <link>https://www.airplanecraft.com/zh/posts/why-openshift/</link>
      <pubDate>Wed, 23 Nov 2022 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/why-openshift/</guid>
      <description>
        
          
            &lt;h2 id=&#34;什么是openshift&#34;&gt;什么是openshift&lt;/h2&gt;
&lt;p&gt;OpenShift是红帽的云开发平台即服务（PaaS）。自由和开放源码的云计算平台使开发人员能够创建、测试和运行他们的应用程序，并且可以把它们部署到云中。OpenShift广泛支持多种编程语言和框架，如Java，Ruby和PHP等。另外它还提供了多种集成开发工具如Eclipse integration，JBoss Developer Studio和 Jenkins等。OpenShift 基于一个开源生态系统为移动应用，数据库服务等，提供支持。
OpenShift Online服务构建在Red Hat Enterprise Linux上。Red Hat Enterprise Linux提供集成应用程序，运行库和一个配置可伸缩的多用户单实例的操作系统，以满足企业级应用的各种需求。&lt;/p&gt;
&lt;h2 id=&#34;架构图&#34;&gt;架构图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;PrivateLink&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/kubernetes-architecture.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;核心的概念&#34;&gt;核心的概念&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/635160126?utm_id=0&#34;&gt;https://zhuanlan.zhihu.com/p/635160126?utm_id=0&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;容器（Container）
镜像（Image）
用户（User）
项目（Project）
容器沙箱（Pod）
部署（Deployment）
服务（Service）
路由（Router）
持久化存储（Persistent Storage）
模板（Template）
构建（Build）和镜像流（ImageStream）&lt;/p&gt;
&lt;h2 id=&#34;为什么要使用openshift&#34;&gt;为什么要使用openshift&lt;/h2&gt;
&lt;p&gt;OpenShift的持续集成和持续部署（CI/CD）功能可以帮助开发者快速地将代码更改合并到主分支，并通过自动化的方式将其部署到生产环境，这不仅可以提高开发效率，还可以减少人为错误，提高软件的质量。&lt;/p&gt;
&lt;p&gt;OpenShift的多租户支持功能使得不同的团队或者公司可以在同一个平台上共享资源，而不需要担心数据安全问题，每个租户都可以拥有自己的独立的应用程序、服务和数据库，这样就可以满足不同团队的需求。&lt;/p&gt;
&lt;p&gt;OpenShift的应用市场功能提供了一个方便的平台，让开发者可以找到并使用各种预先构建的应用程序和服务，而不需要自己从头开始编写，这样不仅可以节省时间，还可以提高开发效率。&lt;/p&gt;
&lt;p&gt;OpenShift的自动扩展功能可以根据应用程序的负载情况自动调整资源的分配，以确保应用程序的性能和可用性，这样可以避免因为资源不足而导致的应用程序崩溃，也可以在需求增加时快速地扩展应用程序的能力。&lt;/p&gt;
&lt;p&gt;OpenShift的优势在于其简单易用、功能强大和灵活可扩展的特性，它可以帮助开发者快速地部署和管理应用程序，提高开发效率，降低运维成本。&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>linux 临时文件的管理</title>
      <link>https://www.airplanecraft.com/zh/posts/linux-tmpfiles-clean/</link>
      <pubDate>Sat, 07 May 2022 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/linux-tmpfiles-clean/</guid>
      <description>
        
          
            &lt;h2 id=&#34;centos临时目录的系统管理&#34;&gt;Centos临时目录的系统管理&lt;/h2&gt;
&lt;p&gt;Linux产生大量的临时文件和目录，例如/tmp、/run 。RHEL7或者CentOS7中，systemd提供了一个结构化的可配置方法来管理临时文件和目录，即systemd-tmpfiles，可以创建、删除和管理临时文件的服务。旧版本系统使用watchtmp+cron来共同实现管理临时文件。&lt;/p&gt;
&lt;p&gt;systemd启动后，其中一个启动的服务单元是systemd-tmpfiles-setup，该服务的命令为:systemd-tmpfiles &amp;ndash;creat/&amp;ndash;clean  *conf  , *conf是可选的，不写默认是使用所有配置文件&lt;/p&gt;
&lt;h2 id=&#34;配置文件优先级从上到下&#34;&gt;配置文件，优先级从上到下。&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;/etc/tmpfiles.d/*conf  ，管理员可修改的配置文件

/run/tmpfiles.d/*conf ，daemon应用程序自己管理的配置文件，不建议更改

/usr/lib/tmpfiles.d/*conf，rpm软件安装时，自动更新的配置文件，不能更改
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;定期清理timer&#34;&gt;定期清理timer&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;systemd定时器单元会按固定间隔调用systemd-tmpfiles --clean  。

systemctl status systemd-tmpfiles-clean.timer 查看timer状态。

systemctl cat systemd-tmpfiles-clean.timer  查看timer具体内容，也可以进入/usr/lib/systemd/system目录后使用more  systemd-tmpfiles-clean.timer 来查看。

从timer具体内容可以知道系统启动15分钟后和每天会运行一次systemd-tmpfiles --clean.那么timer定时运行的是哪些服务呢？ 是在systemd-tmpfiles-clean.service里面定义的：

systemctl cat systemd-tmpfiles-clean.service可以查看。
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>把最近一些东西aws东西画出来</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-best-practise-financial/</link>
      <pubDate>Tue, 26 Apr 2022 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-best-practise-financial/</guid>
      <description>
        
          
            &lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;1&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/Best_practice_eventbridge.jpg&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;2&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/Best_practice_finicial_industry.jpg&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;3&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/vpc-connectivity-overview.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;4&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/dmz.jpg&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Centos 8維護已經停止了</title>
      <link>https://www.airplanecraft.com/zh/posts/centos-8-maintenance-stopped/</link>
      <pubDate>Tue, 15 Feb 2022 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/centos-8-maintenance-stopped/</guid>
      <description>
        
          
            &lt;h2 id=&#34;centos-8-維護已經停止了&#34;&gt;Centos 8 維護已經停止了&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;年前安裝了centos8.2 yum 的repo還是用的默認的，一切都正常,昨天在新的服務器上發現yum的repo已經無法使用了，我當時就意識到應該維護停止了，馬上去網上查一下，果然如此，如果想繼續使用請替換掉原來的mirror，使用centos-vault，https://mirrors.aliyun.com/centos-vault/ 或者 https://vault.centos.org/8.2.2004/
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;centos-7-的維護還是會繼續到2024年&#34;&gt;Centos 7 的維護還是會繼續到2024年&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;CentOS yes Community Enterprise Operating System（ Community enterprise operating system ） An acronym for , yes 100％ Reconstructed RHEL（ Red Hat Enterprise Linux）. Even though RHEL It costs money , but CentOS It&#39;s free. , Community supported businesses Linux Distribution version . Good at Linux And don&#39;t want to pay RHEL Support fee developers and companies always choose CentOS To save money and get enterprise software .

however , Now the free ride is over ！ Red cap announced , As RHEL 8 A reconstructed version of ,CentOS Linux 8 Will be in 2021 In the end .

CentOS 7 No impact！CentoS 7 Will continue in RHEL 7 In the life cycle (2024 end of the year ) Continue to get support . So right. CentOS 7 The user has no effect at the moment .



We&#39;re going to focus on rebuilding RHEL Of CentOS Linux Transferred to the CentOS Stream.CentOS Stream Will serve as a Red Hat Enterprise Linux Upstream （ Development ） Branch . in other words , in the future ,Fedora It&#39;s still the first upstream , But in RHEL After the release of the new version ,CentOS Stream It&#39;s going to be rolling on top of it , And feed the mature update back to RHEL among .
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;是時候考慮繼續使用centos還是切換到其他的linux發行版本&#34;&gt;是時候考慮繼續使用centos還是切換到其他的linux發行版本&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;1. Rocky Linux 可以説是centos的兄弟

The same day Red Hat announced its plans to replace stable CentOS 8 with rolling release CentOS Stream, the original developer of CentOS announced a new project to provide RHEL fork to CentOS users.
This new project is called Rocky Linux

2. AlmaLinux OS
AlmaLinux (initially known as Project Lenix) is a CentOS alternative backed by the team behind CloudLinux OS

3. Oracle Linux

4. Debian Linux

5. Ubuntu&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>JWT、JWE、JWS 、JWK 到底是什么</title>
      <link>https://www.airplanecraft.com/zh/posts/jwt-jwe-jwk-jws/</link>
      <pubDate>Fri, 03 Dec 2021 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/jwt-jwe-jwk-jws/</guid>
      <description>
        
          
            &lt;h3 id=&#34;什么是-jwt&#34;&gt;什么是 JWT&lt;/h3&gt;
&lt;p&gt;一个JWT，应该是如下形式的：&lt;/p&gt;
&lt;p&gt;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.&lt;br&gt;
eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.&lt;br&gt;
TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ&lt;/p&gt;
&lt;h3 id=&#34;jwt-解决什么问题&#34;&gt;JWT 解决什么问题？&lt;/h3&gt;
&lt;p&gt;JWT的主要目的是在服务端和客户端之间以安全的方式来转移声明。主要的应用场景如下所示：&lt;/p&gt;
&lt;p&gt;认证 Authentication；
授权 Authorization // 注意这两个单词的区别；
联合识别；
客户端会话（无状态的会话）；
客户端机密。&lt;/p&gt;
&lt;h3 id=&#34;jwt-的一些名词解释&#34;&gt;JWT 的一些名词解释&lt;/h3&gt;
&lt;p&gt;JWS：Signed JWT签名过的jwt
JWE：Encrypted JWT部分payload经过加密的jwt；目前加密payload的操作不是很普及；
JWK：JWT的密钥，也就是我们常说的 scret；
JWKset：JWT key set在非对称加密中，需要的是密钥对而非单独的密钥，在后文中会阐释；
JWA：当前JWT所用到的密码学算法；
nonsecure JWT：当头部的签名算法被设定为none的时候，该JWT是不安全的；因为签名的部分空缺，所有人都可以修改。&lt;/p&gt;
&lt;h3 id=&#34;jwt的组成&#34;&gt;JWT的组成&lt;/h3&gt;
&lt;p&gt;一个通常你看到的jwt，由以下三部分组成，它们分别是：&lt;/p&gt;
&lt;p&gt;header：主要声明了JWT的签名算法；
payload：主要承载了各种声明并传递明文数据；
signture：拥有该部分的JWT被称为JWS，也就是签了名的JWS；没有该部分的JWT被称为nonsecure JWT 也就是不安全的JWT，此时header中声明的签名算法为none。
三个部分用·分割。形如 xxxxx.yyyyy.zzzzz的样式。&lt;/p&gt;
&lt;h4 id=&#34;jwt-header&#34;&gt;JWT header&lt;/h4&gt;
&lt;p&gt;{&lt;br&gt;
&amp;ldquo;typ&amp;rdquo;: &amp;ldquo;JWT&amp;rdquo;,&lt;br&gt;
&amp;ldquo;alg&amp;rdquo;: &amp;ldquo;none&amp;rdquo;,&lt;br&gt;
&amp;ldquo;jti&amp;rdquo;: &amp;ldquo;4f1g23a12aa&amp;rdquo;&lt;br&gt;
}&lt;/p&gt;
&lt;p&gt;jwt header 的组成&lt;/p&gt;
&lt;p&gt;头通常由两部分组成：令牌的类型，即JWT，以及正在使用的散列算法，例如HMAC SHA256或RSA。&lt;/p&gt;
&lt;p&gt;当然，还有两个可选的部分，一个是jti，也就是JWT ID，代表了正在使用JWT的编号，这个编号在对应服务端应当唯一。当然，jti也可以放在payload中。&lt;/p&gt;
&lt;p&gt;另一个是cty，也就是content type。这个比较少见，当payload为任意数据的时候，这个头无需设置，但是当内容也带有jwt的时候。也就是嵌套JWT的时候，这个值必须设定为jwt。这种情况比较少见。&lt;/p&gt;
&lt;p&gt;jwt header 的加密算法&lt;/p&gt;
&lt;p&gt;加密的方式如下：&lt;/p&gt;
&lt;p&gt;base64UrlEncode(header)&lt;/p&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;eyJ0eXAiOiJKV1QiLCJhbGciOiJub25lIiwianRpIjoiNGYxZzIzYTEyYWEifQ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;jwt-payload&#34;&gt;JWT payload&lt;/h4&gt;
&lt;p&gt;{&lt;br&gt;
&amp;ldquo;iss&amp;rdquo;: &amp;ldquo;&lt;a href=&#34;http://shaobaobaoer.cn&#34;&gt;http://shaobaobaoer.cn&lt;/a&gt;&amp;rdquo;,&lt;br&gt;
&amp;ldquo;aud&amp;rdquo;: &amp;ldquo;&lt;a href=&#34;http://shaobaobaoer.cn/webtest/jwt_auth/%22&#34;&gt;http://shaobaobaoer.cn/webtest/jwt_auth/&#34;&lt;/a&gt;,&lt;br&gt;
&amp;ldquo;jti&amp;rdquo;: &amp;ldquo;4f1g23a12aa&amp;rdquo;,&lt;br&gt;
&amp;ldquo;iat&amp;rdquo;: 1534070547,&lt;br&gt;
&amp;ldquo;nbf&amp;rdquo;: 1534070607,&lt;br&gt;
&amp;ldquo;exp&amp;rdquo;: 1534074147,&lt;br&gt;
&amp;ldquo;uid&amp;rdquo;: 1,&lt;br&gt;
&amp;ldquo;data&amp;rdquo;: {&lt;br&gt;
&amp;ldquo;uname&amp;rdquo;: &amp;ldquo;shaobao&amp;rdquo;,&lt;br&gt;
&amp;ldquo;uEmail&amp;rdquo;: &amp;ldquo;&lt;a href=&#34;mailto:shaobaobaoer@126.com&#34;&gt;shaobaobaoer@126.com&lt;/a&gt;&amp;rdquo;,&lt;br&gt;
&amp;ldquo;uID&amp;rdquo;: &amp;ldquo;0xA0&amp;rdquo;,&lt;br&gt;
&amp;ldquo;uGroup&amp;rdquo;: &amp;ldquo;guest&amp;rdquo;&lt;br&gt;
}&lt;br&gt;
}&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Polygon在websoket的连接串数据的经常中断</title>
      <link>https://www.airplanecraft.com/zh/posts/polygon-websoket-data-transfer-issue/</link>
      <pubDate>Sat, 20 Nov 2021 11:40:30 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/polygon-websoket-data-transfer-issue/</guid>
      <description>
        
          
            &lt;h2 id=&#34;本来使用工具或者服务&#34;&gt;本来使用工具或者服务&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Pologon 美股数据供应商&lt;/li&gt;
&lt;li&gt;Kafka&lt;/li&gt;
&lt;li&gt;Nettty&lt;/li&gt;
&lt;li&gt;Centos8.2&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;架构图&#34;&gt;架构图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;polygon&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/photo_2022-02-03_22-18-05.jpg&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;架构说明&#34;&gt;架构说明&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Polygon是美股的数据供应商,提供美股tick级别的数据服务&lt;/li&gt;
&lt;li&gt;美股开盘数据非常的大，平时可以达到6M/秒的传输速度，也就是说可以达到每秒6万条数据的传输速度&lt;/li&gt;
&lt;li&gt;数据的传输是基于internet的传输，所以要保障数据在互联网上的快速传输必须基于长连接来实现，因此polygon提供了websocket服务&lt;/li&gt;
&lt;li&gt;我们的app收到polygon websocket推送过来的数据要进行简单的解析和格式转换，然后发送到本地的kafka cluster中间件用来分发数据，给其他的应用来做大数据处理包括flink等大数据中间件&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;出现的问题&#34;&gt;出现的问题&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Polygon数据传输出现了频繁的中断1：Slow consumer&lt;/li&gt;
&lt;li&gt;slow consumer:https://polygon.io/docs/stocks/ws_getting-started 查看了一下polygon的技術文檔: if a client is consuming messages too slowly for too long, Polygon.io&amp;rsquo;s server-side buffer may get too large. If that happens, Polygon.io will terminate the WebSocket connection. You can check your account dashboard to see if a connection was terminated as a slow consumer. If this happens to you consistently, consider subscribing to fewer symbols or channels. 就是你的輸出消費的太慢了，導致polygon server的buffer已經滿了，消費不掉&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;找出問題&#34;&gt;找出問題&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;肯定我們消費者太慢出現的問題&lt;/li&gt;
&lt;li&gt;屏蔽掉任何發送kafka，直接打印日志就不會出現這個問題，定位到kafka client 發送速度慢的問題&lt;/li&gt;
&lt;li&gt;發送慢的原因可能是1：文件句柄數夠不夠?2:cpu和内存的使用率是否太高？3:java jvm的gc是否很慢？4：kafka連接池的數量是否足夠5：kafka客戶端發送是否正確配置批量？&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;具體去找問題&#34;&gt;具體去找問題&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;查看進程的當前的連接數
ls  /proc/`jps |awk &amp;#39;{print $1}&amp;#39;`/fd/ |wc -l
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;由於我們使用prometheus監控系統，發現cpu利用率低於20%，内存低於30%，同時使用jconsole鏈接查看jvm也沒有發現問題&lt;/li&gt;
&lt;li&gt;查看jconsole發現大量的kafka客戶端鏈接池出現block等待的情況，從這裏可以發現應該發送kafka的速度太慢導致的&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;具體解決&#34;&gt;具體解決&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
spring.kafka.producer.buffer-memory=33554432
spring.kafka.producer.batch-size=51200
spring.kafka.producer.properties.linger.ms=200
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;加大batch-size到50K，linger.ms到200ms ，測試兩天晚上數據，一切正常&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>交换机故障导致线程阻塞</title>
      <link>https://www.airplanecraft.com/zh/posts/application-network-issue-caused-thread-block/</link>
      <pubDate>Sat, 21 Aug 2021 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/application-network-issue-caused-thread-block/</guid>
      <description>
        
          
            &lt;h2 id=&#34;本来使用工具或者服务&#34;&gt;本来使用工具或者服务&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Jconsole&lt;/li&gt;
&lt;li&gt;Jstack&lt;/li&gt;
&lt;li&gt;prometheus&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;架构图&#34;&gt;架构图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;architect&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/photo_2022-01-27_14-32-48.jpg&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;架构说明&#34;&gt;架构说明&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;This is an internal application (Not cloud) architect,we have big network traffic and lots of application ,we deploy in our own server&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;we have a RabbitMQ server (which our data provider will send  HKEX data to this server)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;we have an Application will consume the messages from MQ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Our application will process the data and sending to Kafka and Elastic search&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>阿里云架构-使用privatelink让不同的vpc的服务可以访问</title>
      <link>https://www.airplanecraft.com/zh/posts/alicloud_privatelink/</link>
      <pubDate>Wed, 28 Jul 2021 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/alicloud_privatelink/</guid>
      <description>
        
          
            &lt;h2 id=&#34;本来使用工具或者服务&#34;&gt;本来使用工具或者服务&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Alicloud&lt;/li&gt;
&lt;li&gt;vpc&lt;/li&gt;
&lt;li&gt;SLB&lt;/li&gt;
&lt;li&gt;PrivateLink endpoit zone and service&lt;/li&gt;
&lt;li&gt;ECS&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;架构图&#34;&gt;架构图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;PrivateLink&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/privatelink.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;架构说明&#34;&gt;架构说明&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;对于两个网络（VPC-A，VPC-B）的ECS提供的服务，要是A访问B，可以提供以下方案&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;B通过EIP或者IP或者绑定SLB，通过SLB的IP把B的服务暴露在公网上&lt;/li&gt;
&lt;li&gt;A网络和B网络互联&lt;/li&gt;
&lt;li&gt;通过privatelink来单向向让A网络的访问B网络的服务&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;分析上面优缺点&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;安全性不好，把服务暴露在公网&lt;/li&gt;
&lt;li&gt;A和B网络直接互联创建路由成本太高，第二就是可能会造成网络冲突&lt;/li&gt;
&lt;li&gt;通过privatelink私有网络连接成本低廉，单向的内网服务，不改变各自的网络配置&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;privatelink&#34;&gt;Privatelink&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如何创建privatelink服务&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;privatelind endpoint service：需要关联一个SLB，此slb必须支持privatelink的SLB，slb后面就是ECS或者其他的rds等都可以&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;privatelink endpoint 创建的是时候需要跟endpoint service 连接 一旦创建并且链接成功，那么privatelink就可以生效了&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;privatelink endpoint 有一个DNS地址，我们可以通过地址直接访问，此地址是aliyun内网地址&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>網絡服務器點對點的網速測試</title>
      <link>https://www.airplanecraft.com/zh/posts/point-to-point-network-transfer-speed-test/</link>
      <pubDate>Wed, 02 Jun 2021 10:00:30 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/point-to-point-network-transfer-speed-test/</guid>
      <description>
        
          
            &lt;h2 id=&#34;本文简介&#34;&gt;本文简介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;我們跟數據供應商之間數據傳輸一直存在很多的問題，我們的網絡經過測速后非常的快，供應商也反復說他們的網速也非常快，那麽問題來了?既然大家都快，是不是在某個路由環節之間出現了問題呢?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;iperf-簡介&#34;&gt;iperf 簡介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;iperf是一种命令行工具，用于通过测量服务器之間可以处理的最大网络吞吐量来诊断网络速度问题。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;iperf信息&#34;&gt;iperf信息&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;iperf版本： iperf 3.1.3
官网地址： https://iperf.fr
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;安裝和運行&#34;&gt;安裝和運行&lt;/h2&gt;
&lt;p&gt;server&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
rpm -ivh https://iperf.fr/download/fedora/iperf3-3.1.3-1.fc24.x86_64.rpm
iperf3 -s
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;client&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;rpm -ivh https://iperf.fr/download/fedora/iperf3-3.1.3-1.fc24.x86_64.rpm
iperf3 -c serverip -p 5201
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;運行結果&#34;&gt;運行結果&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[root@PC-231 ~]# iperf3 -c 172.16.10.101 -p 5201
Connecting to host 172.16.10.101, port 5201
[  4] local 192.168.25.231 port 59398 connected to 172.16.10.101 port 5201
[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd
[  4]   0.00-1.00   sec   110 MBytes   926 Mbits/sec   80    175 KBytes
[  4]   1.00-2.00   sec   110 MBytes   920 Mbits/sec   65    223 KBytes
[  4]   2.00-3.00   sec   110 MBytes   920 Mbits/sec   65    240 KBytes
[  4]   3.00-4.00   sec   110 MBytes   919 Mbits/sec   80    211 KBytes
[  4]   4.00-5.00   sec   110 MBytes   920 Mbits/sec   65    225 KBytes
[  4]   5.00-6.00   sec   109 MBytes   918 Mbits/sec   78    206 KBytes
[  4]   6.00-7.00   sec   109 MBytes   917 Mbits/sec   68    236 KBytes
[  4]   7.00-8.00   sec   109 MBytes   918 Mbits/sec   84    206 KBytes
[  4]   8.00-9.00   sec   110 MBytes   920 Mbits/sec   65    242 KBytes
[  4]   9.00-10.00  sec   109 MBytes   916 Mbits/sec   88    211 KBytes
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth       Retr
[  4]   0.00-10.00  sec  1.07 GBytes   919 Mbits/sec  738             sender
[  4]   0.00-10.00  sec  1.07 GBytes   919 Mbits/sec                  receive
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;結論&#34;&gt;結論&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;數據供應商宣稱我們的帶寬不夠，實際從他們哪裏測試到我們這裏，每秒穩定在大概70M/s的傳輸速度，所以我們的帶寬是足夠的，問題是他們自己的程序出現了問題，對IO模型的處理遠遠不夠造成了阻塞&lt;/li&gt;
&lt;/ol&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>aws cdk introduction</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-cdk/</link>
      <pubDate>Fri, 26 Feb 2021 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-cdk/</guid>
      <description>
        
          
            &lt;h2 id=&#34;what-is-the-aws-cdk&#34;&gt;What is the AWS CDK?&lt;/h2&gt;
&lt;p&gt;The AWS Cloud Development Kit (CDK) ,a framework for defining cloud infrastructure in code and provisioning it through AWS CloudFormation.&lt;/p&gt;
&lt;h2 id=&#34;cdk-stack&#34;&gt;CDK stack&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;cdkstatck&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/awscdk.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;how-does-cdk-work&#34;&gt;How does CDK work&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Build with high-level constructs that automatically provide sensible, secure defaults for your AWS resources, defining more infrastructure with less code.&lt;/li&gt;
&lt;li&gt;Use programming idioms like parameters, conditionals, loops, composition, and inheritance to model your system design from building blocks provided by AWS and others.&lt;/li&gt;
&lt;li&gt;Put your infrastructure, application code, and configuration all in one place, ensuring that at every milestone you have a complete, cloud-deployable system.&lt;/li&gt;
&lt;li&gt;Employ software engineering practices such as code reviews, unit tests, and source control to make your infrastructure more robust.&lt;/li&gt;
&lt;li&gt;Connect your AWS resources together (even across stacks) and grant permissions using simple, intent-oriented APIs.&lt;/li&gt;
&lt;li&gt;Import existing AWS CloudFormation templates to give your resources a CDK API.&lt;/li&gt;
&lt;li&gt;Use the power of AWS CloudFormation to perform infrastructure deployments predictably and repeatedly, with rollback on error.&lt;/li&gt;
&lt;li&gt;Easily share infrastructure design patterns among teams within your organization or even with the public.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;what-does-cdk-benefit&#34;&gt;What does CDK benefit&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;The AWS CDK supports TypeScript, JavaScript, Python, Java, C#/.Net, and (in developer preview) Go. Developers can use one of these supported programming languages to define reusable cloud components known as Constructs. You compose these together into Stacks and Apps.
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;CDK提供了多种开发语言的支持&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>本地数据中心和云的对比</title>
      <link>https://www.airplanecraft.com/zh/posts/local-datacenter-vs-cloud/</link>
      <pubDate>Tue, 02 Feb 2021 10:00:30 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/local-datacenter-vs-cloud/</guid>
      <description>
        
          
            &lt;h2 id=&#34;本文简介&#34;&gt;本文简介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;本来主要介绍云和本地的数据中心的对比，主要用阿里云来对比，作为aws和alicloud的认证工程师，我对云上的和自有数据中心架构系统做个详细的对比，本文，仅仅用alicloud&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;本系统简介&#34;&gt;本系统简介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;本系统主要是做美股和港股的数据处理，美股数据来源是polygon（基于websocket数据推送和restful查询api）,港股的数据来源是港交所（UDP广播）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;本系统功能：接收美股和港股的数据，并作本地的消息存储，用消息中间件来存储交易所数据，然用以一部分数据用来做大数据实时计算，一部数据用来做持久化的存储&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;本系统的架构图&#34;&gt;本系统的架构图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;架構圖&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/photo_2022-02-05_22-04-06.jpg&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;本系統本地使用硬件&#34;&gt;本系統本地使用硬件&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;軟件&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;狀態&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;服務器&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;數量&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;存儲&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;數量&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Kafka&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;cluster&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;centos8.2&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;5&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ssd&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4 raid5&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Elatic search&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;cluster&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;centos8.2&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;3&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ssd&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4 raid5&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Flink&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;cluster&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;centos8.2&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;3&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ssd&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4 raid5&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Polygon subscriber&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;single&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;centos8.2&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ssd&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4 raid5&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;APP&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;single&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;centos8.2&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ssd&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4 raid5&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;本地數據中心存在的主要問題&#34;&gt;本地數據中心存在的主要問題&lt;/h2&gt;
&lt;h3 id=&#34;硬件的問題&#34;&gt;硬件的問題&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt; 1. 硬盤如果寫滿，可擴展性非常的差，或者説磁盤出現損壞，需要更新磁盤都會有數據丟失的風險，并且服務會中斷
 2. 網絡設備沒有redundency
 3. 如果内存不夠用都需要定制内存，然後安裝，需要消耗大量的人力物力
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;軟件的問題&#34;&gt;軟件的問題&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt; 1. centos的系統的優化，包括swap,硬盤的分區，文件句柄數等等
 2. kafka flink elasticsearch 等軟件的優化需要非常專業的知識
 3. 如果要遷移kafka 或者es裏面的數據只能停止服務，然後進行數據的遷移
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;如果選擇阿里雲或者aws這裏拿阿里雲來説&#34;&gt;如果選擇阿里雲或者aws（這裏拿阿里雲來説）&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;1. 定制vpc網絡，阿里雲網絡外網基於bgp的，vpc本身就保障HA，redundency.
2. ECS的磁盤是scalable的，多大都是可以彈性擴展
3. network bandwith 可以 custome，多大的可以
4. ecs 的 cpu+mem 可以隨時升級
5. 不需要搭建kafka es 和flink 軟件cluster平臺，阿里雲有相關的服務，都是優化過的paas，性能非常的高，還可以按需隨時升級
6 .數據不用擔心丟失和遷移困難
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;總結&#34;&gt;總結&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;1. 作爲云架構師，很不幸的是我目前既要寫大量的code，還要管理綫下30多台服務器，花費了大量的時間去處理很多問題
2. 下一步要遷移服務到aws或者阿里雲上面
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>kafka cluster的搭建</title>
      <link>https://www.airplanecraft.com/zh/posts/kafka-cluster-setup/</link>
      <pubDate>Thu, 30 Jul 2020 11:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/kafka-cluster-setup/</guid>
      <description>
        
          
            &lt;h2 id=&#34;本文使用工具或者服务&#34;&gt;本文使用工具或者服务&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Java 8&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://archive.apache.org/dist/kafka/3.0.0/kafka_2.13-3.0.0.tgz&#34;&gt;https://archive.apache.org/dist/kafka/3.0.0/kafka_2.13-3.0.0.tgz&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.apache.org/dyn/closer.lua/zookeeper/zookeeper-3.7.0/apache-zookeeper-3.7.0-bin.tar.gz&#34;&gt;https://www.apache.org/dyn/closer.lua/zookeeper/zookeeper-3.7.0/apache-zookeeper-3.7.0-bin.tar.gz&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Centos8.2&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;zookeeper-簡介&#34;&gt;Zookeeper 簡介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ZooKeeper是一个分布式协调服务，它的主要作用是为分布式系统提供一致性服务，提供的功能包括：配置维护、命名服务、分布式同步、组服务等。Kafka的运行依赖ZooKeeper。
&lt;ol&gt;
&lt;li&gt;Broker注册&lt;/li&gt;
&lt;li&gt;Topic注册&lt;/li&gt;
&lt;li&gt;生产者负载均衡&lt;/li&gt;
&lt;li&gt;消费者负载均衡&lt;/li&gt;
&lt;li&gt;消费者注册&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;kafka-簡介&#34;&gt;Kafka 簡介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Kafka是由Apache软件基金会开发的一个开源流处理平台，由Scala和Java编写。Kafka是一种高吞吐量的分布式发布订阅消息系统，它可以处理消费者在网站中的所有动作流数据。
&lt;ol&gt;
&lt;li&gt;Kafka  是一种高吞吐量的分布式发布订阅消息系统，有如下特性：&lt;/li&gt;
&lt;li&gt;通过O(1)的磁盘数据结构提供消息的持久化，这种结构对于即使数以TB的消息存储也能够保持长时间的稳定性能。&lt;/li&gt;
&lt;li&gt;高吞吐量 即使是非常普通的硬件Kafka也可以支持每秒数百万的消息。&lt;/li&gt;
&lt;li&gt;支持通过Kafka服务器和消费机集群来分区消息。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;zookeeper-與kafka之間的關係&#34;&gt;zookeeper 與kafka之間的關係&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ZooKeeper用于分布式系统的协调，Kafka使用ZooKeeper也是基于相同的原因。ZooKeeper主要用来协调Kafka的各个broker，不仅可以实现broker的负载均衡，而且当增加了broker或者某个broker故障了，ZooKeeper将会通知生产者和消费者，这样可以保证整个系统正常运转。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;安裝zooker和kafka-之前首先要做系統的優化和配置&#34;&gt;安裝zooker和kafka 之前首先要做系統的優化和配置&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;文件句柄數的調整&lt;/li&gt;
&lt;li&gt;oracle Jre8 安裝&lt;/li&gt;
&lt;li&gt;磁盤的分區和挂載點必須滿足kafka大數量的存儲xfs分區&lt;/li&gt;
&lt;li&gt;關閉selinux&lt;/li&gt;
&lt;li&gt;防火墻暫時關閉(後面看可以統一規劃端口)&lt;/li&gt;
&lt;li&gt;創建非root的kafka管理用戶並添加sudoer權限&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;注意事項&#34;&gt;注意事項&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;kafka是一個分佈式的消息系統，我們會臨時存儲消息，如果存儲消息的時間長，那麽需要大空間，所以分區的時候已經要注意，就是安裝kafka的時候存儲一定要挂載到大的硬盤空間上&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;zookeeper-配置&#34;&gt;Zookeeper 配置&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# The number of milliseconds of each tick
tickTime=2000
# The number of ticks that the initial
# synchronization phase can take
initLimit=10
# The number of ticks that can pass between
# sending a request and getting an acknowledgement
syncLimit=5
# the directory where the snapshot is stored.
# do not use /tmp for storage, /tmp here is just
# example sakes.
dataDir=/opt/conf
# /opt/conf/myid #myid文件，里面的内容为数字，用于标识主机，如果这个文件没有的话，zookeeper无法启动
# the port at which the clients will connect
clientPort=2181
# the maximum number of client connections.
# increase this if you need to handle more clients
#maxClientCnxns=60
#
# Be sure to read the maintenance section of the
# administrator guide before turning on autopurge.
#
# http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance
#
# The number of snapshots to retain in dataDir
#autopurge.snapRetainCount=3
# Purge task interval in hours
# Set to &amp;#34;0&amp;#34; to disable auto purge feature
#autopurge.purgeInterval=1

## Metrics Providers
#
# https://prometheus.io Metrics Exporter
#metricsProvider.className=org.apache.zookeeper.metrics.prometheus.PrometheusMetricsProvider
#metricsProvider.httpPort=7000
#metricsProvider.exportJvmInfo=true
server.1=192.168.25.231:12888:13888
server.2=192.168.25.232:12888:13888
server.3=192.168.25.233:12888:13888
server.4=192.168.25.234:12888:13888
server.5=192.168.25.235:12888:13888

#配置参数说明：
tickTime:客户端与服务器或者服务器与服务器之间每个tickTime时间就会发送一次心跳。通过心跳不仅能够用来监听机器的工作状态，还可以通过心跳来控制Flower跟Leader的通信时间，默认2秒
initLimit：集群中的follower服务器(F)与leader服务器(L)之间初始连接时能容忍的最多心跳数（tickTime的数量）。
syncLimit：集群中flower服务器（F）跟leader（L）服务器之间的请求和答应最多能容忍的心跳数。   
dataDir：该属性对应的目录是用来存放myid信息跟一些版本，日志，跟服务器唯一的ID信息等。
clientPort：客户端连接的接口，客户端连接zookeeper服务器的端口，zookeeper会监听这个端口，接收客户端的请求访问！这个端口默认是2181。
service.N=YYY:A:B
N：代表服务器编号（也就是myid里面的值）
YYY：服务器地址
A：表示 Flower 跟 Leader的通信端口，简称服务端内部通信的端口（默认2888),我们使用12888
B：表示 是选举端口（默认是3888),我们使用
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;kafka的配置&#34;&gt;Kafka的配置&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the &amp;#34;License&amp;#34;); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &amp;#34;AS IS&amp;#34; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# see kafka.server.KafkaConfig for additional details and defaults

############################# Server Basics #############################

# The id of the broker. This must be set to a unique integer for each broker.
broker.id=1

############################# Socket Server Settings #############################

# The address the socket server listens on. It will get the value returned from
# java.net.InetAddress.getCanonicalHostName() if not configured.
#   FORMAT:
#     listeners = listener_name://host_name:port
#   EXAMPLE:
#     listeners = PLAINTEXT://your.host.name:9092
listeners=PLAINTEXT://192.168.25.231:9092

# Hostname and port the broker will advertise to producers and consumers. If not set,
# it uses the value for &amp;#34;listeners&amp;#34; if configured.  Otherwise, it will use the value
# returned from java.net.InetAddress.getCanonicalHostName().
#advertised.listeners=PLAINTEXT://your.host.name:9092

# Maps listener names to security protocols, the default is for them to be the same. See the config documentation for more details
#listener.security.protocol.map=PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL

# The number of threads that the server uses for receiving requests from the network and sending responses to the network
num.network.threads=3

# The number of threads that the server uses for processing requests, which may include disk I/O
num.io.threads=8

# The send buffer (SO_SNDBUF) used by the socket server
socket.send.buffer.bytes=102400

# The receive buffer (SO_RCVBUF) used by the socket server
socket.receive.buffer.bytes=102400

# The maximum size of a request that the socket server will accept (protection against OOM)
socket.request.max.bytes=104857600


############################# Log Basics #############################

# A comma separated list of directories under which to store log files
log.dirs=/kafka-data/kafka-logs

# The default number of log partitions per topic. More partitions allow greater
# parallelism for consumption, but this will also result in more files across
# the brokers.
num.partitions=1

# The number of threads per data directory to be used for log recovery at startup and flushing at shutdown.
# This value is recommended to be increased for installations with data dirs located in RAID array.
num.recovery.threads.per.data.dir=1

############################# Internal Topic Settings  #############################
# The replication factor for the group metadata internal topics &amp;#34;__consumer_offsets&amp;#34; and &amp;#34;__transaction_state&amp;#34;
# For anything other than development testing, a value greater than 1 is recommended to ensure availability such as 3.
offsets.topic.replication.factor=1
transaction.state.log.replication.factor=1
transaction.state.log.min.isr=1

############################# Log Flush Policy #############################

# Messages are immediately written to the filesystem but by default we only fsync() to sync
# the OS cache lazily. The following configurations control the flush of data to disk.
# There are a few important trade-offs here:
#    1. Durability: Unflushed data may be lost if you are not using replication.
#    2. Latency: Very large flush intervals may lead to latency spikes when the flush does occur as there will be a lot of data to flush.
#    3. Throughput: The flush is generally the most expensive operation, and a small flush interval may lead to excessive seeks.
# The settings below allow one to configure the flush policy to flush data after a period of time or
# every N messages (or both). This can be done globally and overridden on a per-topic basis.

# The number of messages to accept before forcing a flush of data to disk
#log.flush.interval.messages=10000

# The maximum amount of time a message can sit in a log before we force a flush
#log.flush.interval.ms=1000

############################# Log Retention Policy #############################

# The following configurations control the disposal of log segments. The policy can
# be set to delete segments after a period of time, or after a given size has accumulated.
# A segment will be deleted whenever *either* of these criteria are met. Deletion always happens
# from the end of the log.

# The minimum age of a log file to be eligible for deletion due to age
log.retention.hours=168

# A size-based retention policy for logs. Segments are pruned from the log unless the remaining
# segments drop below log.retention.bytes. Functions independently of log.retention.hours.
#log.retention.bytes=1073741824

# The maximum size of a log segment file. When this size is reached a new log segment will be created.
log.segment.bytes=1073741824

# The interval at which log segments are checked to see if they can be deleted according
# to the retention policies
log.retention.check.interval.ms=300000

############################# Zookeeper #############################

# Zookeeper connection string (see zookeeper docs for details).
# This is a comma separated host:port pairs, each corresponding to a zk
# server. e.g. &amp;#34;127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002&amp;#34;.
# You can also append an optional chroot string to the urls to specify the
# root directory for all kafka znodes.
zookeeper.connect=192.168.25.231:2181,192.168.25.232:2181,192.168.25.233:2181,192.168.25.234:2181,192.168.25.235:2181

# Timeout in ms for connecting to zookeeper
zookeeper.connection.timeout.ms=18000



############################# Group Coordinator Settings #############################

# The following configuration specifies the time, in milliseconds, that the GroupCoordinator will delay the initial consumer rebalance.
# The rebalance will be further delayed by the value of group.initial.rebalance.delay.ms as new members join the group, up to a maximum of max.poll.interval.ms.
# The default value for this is 3 seconds.
# We override this to 0 here as it makes for a better out-of-the-box experience for development and testing.
# However, in production environments the default value of 3 seconds is more suitable as this will help to avoid unnecessary, and potentially expensive, rebalances during application startup.
group.initial.rebalance.delay.ms=0
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;安装kafka的ui-监控&#34;&gt;安装kafka的ui 监控&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker run -p 8080:8080 \
	-e KAFKA_CLUSTERS_0_NAME=local \
	-e KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=192.168.25.231:9092,192.168.25.232:9092,192.168.25.231:9092,192.168.25.233:9092,192.168.25.234:9092,192.168.25.235:9092 \
	-d provectuslabs/kafka-ui:latest 
&lt;/code&gt;&lt;/pre&gt;&lt;ol&gt;
&lt;li&gt;访问http://ip:8080/ 就可以看到kafka管理页面&lt;/li&gt;
&lt;/ol&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>使用terraform创建阿里ecs用ansible完成主机配置</title>
      <link>https://www.airplanecraft.com/zh/posts/alicloud-terraform-create-ecs-ansible-provision/</link>
      <pubDate>Fri, 29 May 2020 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/alicloud-terraform-create-ecs-ansible-provision/</guid>
      <description>
        
          
            &lt;h2 id=&#34;使用terraform创建ecs用ansible完成ecs的provision&#34;&gt;使用terraform创建ecs用ansible完成ecs的provision&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;本文目标就是是用terraform创建ecs包括security group,disk,vpc,vswtich,然后用ansible来初始化和配置创建好的ecs&lt;/li&gt;
&lt;li&gt;本文只是创建了一个单机ecs，后续的文章会有load balance出现&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;terrorm-创建ecs&#34;&gt;terrorm 创建ecs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;什么是terraform&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;terraform是云工具，也就是针对云平台的&lt;/li&gt;
&lt;li&gt;terraform是在云平台上管理资源的，就是一个云资源编排工具&lt;/li&gt;
&lt;li&gt;terraform目标是&amp;quot;Write, Plan, and create Infrastructure as Code&amp;quot;, 基础架构即代码。具体的说就是可以用代码来管理维护 IT 资源，把之前需要手动操作的一部分任务通过程序来自动化的完成，这样的做的结果非常明显：高效、不易出错。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Terraform 核心功能&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;基础架构即代码(Infrastructure as Code)&lt;/li&gt;
&lt;li&gt;执行计划(Execution Plans)&lt;/li&gt;
&lt;li&gt;资源图(Resource Graph)&lt;/li&gt;
&lt;li&gt;自动化变更(Change Automation)&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;terraform安装&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;下载https://www.terraform.io/downloads.html&lt;/li&gt;
&lt;li&gt;设置环境变量（省略）&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建terraform 配置文件&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;main.tf&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;     provider &amp;#34;alicloud&amp;#34; {
     access_key = &amp;#34;xxx&amp;#34;
     secret_key = &amp;#34;xxx&amp;#34;
     region     = &amp;#34;ap-southeast-1&amp;#34;
     #version    = &amp;#34;~&amp;gt; 1.5.0&amp;#34;
     }
     data &amp;#34;alicloud_instance_types&amp;#34; &amp;#34;instance_type&amp;#34; {
     instance_type_family = &amp;#34;ecs.n1&amp;#34;
     cpu_core_count       = &amp;#34;1&amp;#34;
     memory_size          = &amp;#34;2&amp;#34;
     }

     resource &amp;#34;alicloud_security_group&amp;#34; &amp;#34;group&amp;#34; {
     name        = var.short_name
     description = &amp;#34;New security group&amp;#34;
     vpc_id      = alicloud_vpc.vpc.id
     }

     resource &amp;#34;alicloud_key_pair&amp;#34; &amp;#34;alicloud_key_pair&amp;#34; {
     key_name   = &amp;#34;terraform_test&amp;#34;
     public_key = &amp;#34;${file(var.ssh_key_public)}&amp;#34;
     }
     resource &amp;#34;alicloud_security_group_rule&amp;#34; &amp;#34;allow_http_80&amp;#34; {
     type              = &amp;#34;ingress&amp;#34;
     ip_protocol       = &amp;#34;tcp&amp;#34;
     nic_type          = var.nic_type
     policy            = &amp;#34;accept&amp;#34;
     port_range        = &amp;#34;80/80&amp;#34;
     priority          = 1
     security_group_id = alicloud_security_group.group.id
     cidr_ip           = &amp;#34;0.0.0.0/0&amp;#34;
     }

     resource &amp;#34;alicloud_security_group_rule&amp;#34; &amp;#34;allow_https_443&amp;#34; {
     type              = &amp;#34;ingress&amp;#34;
     ip_protocol       = &amp;#34;tcp&amp;#34;
     nic_type          = var.nic_type
     policy            = &amp;#34;accept&amp;#34;
     port_range        = &amp;#34;443/443&amp;#34;
     priority          = 1
     security_group_id = alicloud_security_group.group.id
     cidr_ip           = &amp;#34;0.0.0.0/0&amp;#34;
     }
     resource &amp;#34;alicloud_security_group_rule&amp;#34; &amp;#34;allow_ssh_22&amp;#34; {
     type              = &amp;#34;ingress&amp;#34;
     ip_protocol       = &amp;#34;tcp&amp;#34;
     nic_type          = var.nic_type
     policy            = &amp;#34;accept&amp;#34;
     port_range        = &amp;#34;22/22&amp;#34;
     priority          = 1
     security_group_id = alicloud_security_group.group.id
     cidr_ip           = &amp;#34;0.0.0.0/0&amp;#34;
     }


     resource &amp;#34;alicloud_disk&amp;#34; &amp;#34;disk&amp;#34; {
     availability_zone = alicloud_instance.instance[0].availability_zone
     category          = var.disk_category
     size              = var.disk_size
     count             = var.number
     }

     resource &amp;#34;alicloud_vpc&amp;#34; &amp;#34;vpc&amp;#34; {
     cidr_block = &amp;#34;172.16.0.0/12&amp;#34;
     }

     data &amp;#34;alicloud_zones&amp;#34; &amp;#34;zones_ds&amp;#34; {
     available_instance_type = data.alicloud_instance_types.instance_type.instance_types[0].id
     }

     resource &amp;#34;alicloud_vswitch&amp;#34; &amp;#34;vswitch&amp;#34; {
     vpc_id            = alicloud_vpc.vpc.id
     cidr_block        = &amp;#34;172.16.0.0/24&amp;#34;
     availability_zone = data.alicloud_zones.zones_ds.zones[0].id
     }
     resource &amp;#34;alicloud_instance&amp;#34; &amp;#34;instance&amp;#34; {
     instance_name   = &amp;#34;${var.short_name}-${var.role}-${format(var.count_format, count.index + 1)}&amp;#34;
     host_name       = &amp;#34;${var.short_name}-${var.role}-${format(var.count_format, count.index + 1)}&amp;#34;
     image_id        = var.image_id
     instance_type   = data.alicloud_instance_types.instance_type.instance_types[0].id
     count           = var.number
     security_groups = alicloud_security_group.group.*.id
     vswitch_id      = alicloud_vswitch.vswitch.id

     internet_charge_type       = var.internet_charge_type
     internet_max_bandwidth_out = var.internet_max_bandwidth_out

     password = var.ecs_password

     instance_charge_type          = &amp;#34;PostPaid&amp;#34;
     system_disk_category          = &amp;#34;cloud_efficiency&amp;#34;
     security_enhancement_strategy = &amp;#34;Deactive&amp;#34;
     key_name = alicloud_key_pair.alicloud_key_pair.key_name
     data_disks {
         name        = &amp;#34;disk1&amp;#34;
         size        = &amp;#34;20&amp;#34;
         category    = &amp;#34;cloud_efficiency&amp;#34;
         description = &amp;#34;disk1&amp;#34;
     }
     tags = {
         role = var.role
         dc   = var.datacenter
     }

     resource &amp;#34;alicloud_disk_attachment&amp;#34; &amp;#34;instance-attachment&amp;#34; {
     count       = var.number
     disk_id     = alicloud_disk.disk.*.id[count.index]
     instance_id = alicloud_instance.instance.*.id[count.index]
     }
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;outputs.tf&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; output &amp;#34;hostname_list&amp;#34; {
 value = join(&amp;#34;,&amp;#34;, alicloud_instance.instance.*.instance_name)
 }

 output &amp;#34;ecs_ids&amp;#34; {
 value = join(&amp;#34;,&amp;#34;, alicloud_instance.instance.*.id)
 }

 output &amp;#34;ecs_public_ip&amp;#34; {
 value = join(&amp;#34;,&amp;#34;, alicloud_instance.instance.*.public_ip)
 }

 output &amp;#34;tags&amp;#34; {
 value = jsonencode(alicloud_instance.instance.*.tags)
 }
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;variables.tf&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; variable &amp;#34;number&amp;#34; {
 default = &amp;#34;1&amp;#34;
 }

 variable &amp;#34;count_format&amp;#34; {
 default = &amp;#34;%02d&amp;#34;
 }

 variable &amp;#34;image_id&amp;#34; {
 default = &amp;#34;ubuntu_18_04_64_20G_alibase_20190624.vhd&amp;#34;
 }

 variable &amp;#34;role&amp;#34; {
 default = &amp;#34;work&amp;#34;
 }

 variable &amp;#34;datacenter&amp;#34; {
 default = &amp;#34;beijing&amp;#34;
 }

 variable &amp;#34;short_name&amp;#34; {
 default = &amp;#34;hi&amp;#34;
 }

 variable &amp;#34;ecs_type&amp;#34; {
 default = &amp;#34;ecs.n4.small&amp;#34;
 }

 variable &amp;#34;ecs_password&amp;#34; {
 default = &amp;#34;Test12345&amp;#34;
 }

 variable &amp;#34;internet_charge_type&amp;#34; {
 default = &amp;#34;PayByTraffic&amp;#34;
 }

 variable &amp;#34;internet_max_bandwidth_out&amp;#34; {
 default = 5
 }

 variable &amp;#34;disk_category&amp;#34; {
 default = &amp;#34;cloud_efficiency&amp;#34;
 }

 variable &amp;#34;disk_size&amp;#34; {
 default = &amp;#34;40&amp;#34;
 }

 variable &amp;#34;nic_type&amp;#34; {
 default = &amp;#34;intranet&amp;#34;
 }
 variable &amp;#34;ssh_key_public&amp;#34; {
 default     = &amp;#34;~/.ssh/id_rsa.pub&amp;#34;
 description = &amp;#34;Path to the SSH public key for accessing cloud instances. Used for creating AWS keypair.&amp;#34;
 }

 variable &amp;#34;ssh_key_private&amp;#34; {
 default     = &amp;#34;~/.ssh/id_rsa&amp;#34;
 description = &amp;#34;Path to the SSH public key for accessing cloud instances. Used for creating AWS keypair.&amp;#34;
 }
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;versions.tf&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; terraform {
 required_version = &amp;#34;&amp;gt;= 0.12&amp;#34;
 }
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;用ansible部署docker容器&#34;&gt;用ansible部署docker容器&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ansible介绍&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>使用ansible在多台客户机安装docker</title>
      <link>https://www.airplanecraft.com/zh/posts/ansible-deploy-docker-container/</link>
      <pubDate>Fri, 22 May 2020 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/ansible-deploy-docker-container/</guid>
      <description>
        
          
            &lt;h2 id=&#34;install-ansible-on-server&#34;&gt;Install ansible on server&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ansible是一个开源配置管理工具，可以使用它来自动化任务，部署应用程序实现IT基础架构。Ansible可以用来自动化日常任务，比如，服务器的初始化配置、安全基线配置、更新和打补丁系统，安装软件包等&lt;/li&gt;
&lt;li&gt;Ansible包括控制节点（Control node）也叫主机，受控节点（Managed nodes）也叫客户机,只在控制节点安装就好了&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ansible-优点&#34;&gt;ansible 优点&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;只需要在主机上安装ansible软件，客户机不需要安装&lt;/li&gt;
&lt;li&gt;通讯协议SSH协议和SFTP&lt;/li&gt;
&lt;li&gt;可并行执行程序，默认情况下，forks值为5，可以按需，在配置文件中增大该值&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ansiblecentos安装和配置&#34;&gt;ansible(centos)安装和配置&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;yum install ansible&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;为了使Ansible与客户端通信，需要使用用户帐户配置管理机和客户机。为了方便快捷安全，一般会配置证书方式连接客户机&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ssh-keygen
ssh-copy-id ansible@node ip
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;使用ad-hoc-在客户执行命令相当于命令行&#34;&gt;使用ad-hoc 在客户执行命令，相当于命令行&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;/etc/ansible/hosts,最好谨慎使用hosts配置，安全问题需要解决&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[docker]

 192.168.25.173 ansible_ssh_port=22 ansible_ssh_user=root ansible_ssh_pass=&amp;#34;xxx&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;执行以下ping,命令里面的docker对应的上面文件的docker&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ansible docker -m ping
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用ad-hoc命令管理软件包,安装&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ansible docker -m yum -a &amp;#34;name=docker state=present&amp;#34; -b
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用ad-hoc命令管理软件包,设置默认启动&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ansible docker -b -m service -a &amp;#34;name=docker  enabled=yes&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用ad-hoc命令管理软件包,启动&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ansible docker -b -m service -a &amp;#34;name=httpd state=started&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;使用ansible-playbook-部署docker&#34;&gt;使用ansible-playbook 部署docker&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;test-ansile.yml 文件内容&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  ---
  - hosts: docker
  remote_user: docker
  become: yes
  become_method: sudo
  vars:
      container_name: &amp;#34;robotic&amp;#34;
      container_image: &amp;#34;test-prod:{{container_version}}&amp;#34;
      registry_url: &amp;#34;ecr.test.amazonaws.com&amp;#34;
      working_dir: &amp;#34;/data/docker_test&amp;#34;

  tasks:
      - name: remove container
      docker_container:
          name: &amp;#34;{{ container_name }}&amp;#34;
          state: absent

      - name: install aws cli
      shell: |
          yum install awscli -y
      - name: rm config
      shell: |
          rm -rf /root/.aws;mkdir /root/.aws
      - name: create config for aws user
      shell: |
          echo &amp;#34;[profile ecr]&amp;#34; &amp;gt;&amp;gt;/root/.aws/config
          echo &amp;#34;region = ap-southeast-1&amp;#34; &amp;gt;&amp;gt;/root/.aws/config
      - name: create credential
      shell: |
          echo &amp;#34;[ecr]&amp;#34; &amp;gt;&amp;gt;/root/.aws/credentials
          echo &amp;#34;aws_access_key_id = xxx&amp;#34;  &amp;gt;&amp;gt;/root/.aws/credentials
          echo &amp;#34;aws_secret_access_key = xxx&amp;#34;  &amp;gt;&amp;gt;/root/.aws/credentials
      - name: docker login
      shell: |
          loginstr=`aws ecr get-login --no-include-email --profile ecr`
          bash $loginstr
      - name: create working_dir directory
      file:
          path: &amp;#34;{{ item }}&amp;#34;
          state: directory
      with_items:
          - &amp;#34;{{ working_dir }}&amp;#34;

      - name: create container
      docker_container:
          name: &amp;#34;{{ container_name }}&amp;#34;
          image: &amp;#34;{{registry_url}}/{{ container_image }}&amp;#34;
          privileged: yes
          restart_policy: always
          ports:
          - &amp;#34;80:80&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;执行ansible文件&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>给nginx安装免费的证书</title>
      <link>https://www.airplanecraft.com/zh/posts/linux-cerbot/</link>
      <pubDate>Fri, 08 May 2020 14:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/linux-cerbot/</guid>
      <description>
        
          
            &lt;h2 id=&#34;https-vs-http&#34;&gt;https vs http&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;https比http安全原因是传输的过程中使用了加密，因为https在服务器端使用证书&lt;/li&gt;
&lt;li&gt;证书的认证需要认证机构，随便一个https的证书阿里巴巴云最便宜的一年要2000多，aws更是贵到天上，所以对于个人程序员来来说最好有免费的证书&lt;/li&gt;
&lt;li&gt;cerbot就是你的选择&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;cerbot简介&#34;&gt;cerbot简介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;cerbot就是Electronic Frontier Foundation (EFF)这个机构给大家发的福利，简单的一句话来说就是给你提供3个月的免费证书，证书到期后继续免费续约，个人网站是用最方便，每三个月更新一次就可以了&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;cerbot-使用&#34;&gt;cerbot 使用&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;cerbot 安装脚本&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;yum -y install yum-utils

yum-config-manager --enable rhui-REGION-rhel-server-extras rhui-REGION-rhel-server-optional

sudo yum install certbot python2-certbot-nginx

sudo certbot --nginx(sudo certbot certonly --nginx)


echo &amp;#34;0 0,12 * * * root python -c &amp;#39;import random; import time; time.sleep(random.random() * 3600)&amp;#39; &amp;amp;&amp;amp; certbot renew -q&amp;#34; | sudo tee -a /etc/crontab &amp;gt; /dev/null (auto renewal)
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;cerbot-证书验证&#34;&gt;cerbot 证书验证&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;To confirm that your site is set up properly, visit &lt;a href=&#34;https://yourwebsite.com/&#34;&gt;https://yourwebsite.com/&lt;/a&gt; in your browser and look for the lock icon in the URL bar. If you want to check that you have the top-of-the-line installation, you can head to &lt;a href=&#34;https://www.ssllabs.com/ssltest/&#34;&gt;https://www.ssllabs.com/ssltest/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>vagrant使用介绍</title>
      <link>https://www.airplanecraft.com/zh/posts/vagrant-windows-template/</link>
      <pubDate>Wed, 22 Apr 2020 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/vagrant-windows-template/</guid>
      <description>
        
          
            &lt;h2 id=&#34;vagrant-简介&#34;&gt;vagrant 简介&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;VirtualBox 是一款开源虚拟机软件,vagrant是一个基于Ruby的工具，用于创建和部署虚拟化开发环境。它使用Oracle的开源VirtualBox虚拟化系统，使用Chef创建自动化虚拟环境。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;BBC Vagrant 是基于VirtualBox创建的虚拟机，并通过Vagrant进行打包而得到的VM环境。在虚拟机中部署好开发环境并建立虚拟机和实体机的文件共享，在开发时，可以通过实体机进行文件修改，并经过虚拟机中的环境执行，从而实现不同操作系统的工作环境的轻松部署。&lt;/p&gt;
&lt;h2 id=&#34;安装-vagrant和virtualbox&#34;&gt;安装 vagrant和virtualbox&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;下载并安装VirtualBox（ &lt;a href=&#34;https://www.virtualbox.org/wiki/Downloads&#34;&gt;https://www.virtualbox.org/wiki/Downloads&lt;/a&gt; ）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;VirtualBox 4.3.12下载地址(windows请用此链接)：http://dlc-cdn.sun.com/virtualbox/4.3.12/index.html&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下载并安装Vagrant（ &lt;a href=&#34;http://www.vagrantup.com/downloads.html&#34;&gt;http://www.vagrantup.com/downloads.html&lt;/a&gt; ）。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;安装和定制box&#34;&gt;安装和定制box&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;下载windows 10 box文件。
&lt;a href=&#34;https://app.vagrantup.com/mrlesmithjr/boxes/windows10/versions/1574780096/providers/virtualbox.box&#34;&gt;https://app.vagrantup.com/mrlesmithjr/boxes/windows10/versions/1574780096/providers/virtualbox.box&lt;/a&gt; 到c:\vagrant\download&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;执行命令&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
vagrant box add win10 c:\vagrant\download\virtualbox.box

cd c:\vagrant

vagrant init win10

vagrant up  2&amp;gt; vagrant.log
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;查看模板文件c:\vagrant\Vagrantfile&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
    $script = &amp;lt;&amp;lt;-&amp;#39;SCRIPT&amp;#39;
        echo &amp;#34;starting wechat&amp;#34;
        ipconfig &amp;gt; c:\ip.log
        C:\Users\wechat\WeChat.exe &amp;gt; c:\wechat.log
        netstat &amp;gt; c:\netstat.log
        echo &amp;#34;started wechat&amp;#34;
    SCRIPT
    Vagrant.configure(&amp;#34;2&amp;#34;) do |config|

    config.vm.provider :virtualbox do |vb|
        vb.gui = true
        vb.memory = 8*1024
    end
    config.vm.hostname = &amp;#39;wechat&amp;#39;
    config.vm.boot_timeout = 99999999
    config.vm.box = &amp;#34;mrl/windows10&amp;#34;
    config.vm.communicator = &amp;#34;winrm&amp;#34;
    #config.vm.provision :shell, path: &amp;#34;install-wechat.cmd&amp;#34;, privileged: true
    config.vm.provision &amp;#34;file&amp;#34;, source: &amp;#34;./wechat&amp;#34;, destination: &amp;#34;C:\\Users\\wechat&amp;#34;
    config.vm.provision &amp;#34;shell&amp;#34;, path: &amp;#34;wechat.cmd&amp;#34;
    
    end
   
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;上面的wechat不可能启动起来，只可以启动后台程序，因为winrm无法启动xwindow，所以客户端没有可能启动起来，如果需要启动起来，就需要使用rdp来连接启动&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>手把手使用Hugo搭建网站-高级篇</title>
      <link>https://www.airplanecraft.com/zh/posts/hugo-advanced-level-lesson/</link>
      <pubDate>Tue, 26 Nov 2019 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/hugo-advanced-level-lesson/</guid>
      <description>
        
          
            &lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h2 id=&#34;13-手把手使用hugo搭建网站高级篇&#34;&gt;1.3. 手把手使用hugo搭建网站高级篇&lt;/h2&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;131-創建页面的目錄&#34;&gt;1.3.1. 創建页面的目錄&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;hugo提供了目錄的支持table of content&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;創建目錄首先你的文章必須有標題&lt;/li&gt;
&lt;li&gt;在layouts/_default/single.html 添加代碼 {{.TableOfContents}}&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;          {{ define &amp;#34;main&amp;#34; -}}
          &amp;lt;div class=&amp;#34;post&amp;#34;&amp;gt;
          &amp;lt;h1&amp;gt;{{ .Title }}&amp;lt;/h1&amp;gt;
          &amp;lt;time datetime={{ .Date.Format &amp;#34;2006-01-02T15:04:05Z0700&amp;#34; }} class=&amp;#34;post-date&amp;#34;&amp;gt;{{ .Date.Format &amp;#34;Mon, Jan 2, 2006&amp;#34; }}&amp;lt;/time&amp;gt;
          {{.TableOfContents}}

          {{ .Content }}
          &amp;lt;/div&amp;gt;

          {{ if .Site.DisqusShortname -}}
          &amp;lt;h2&amp;gt;Comments&amp;lt;/h2&amp;gt;
          {{ template &amp;#34;_internal/disqus.html&amp;#34; . }}
          {{- end }}
          {{ partial &amp;#34;related.html&amp;#34; . }}
          {{- end }}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>手把手使用Hugo搭建网站-中级篇</title>
      <link>https://www.airplanecraft.com/zh/posts/hugo-medium-level-lesson/</link>
      <pubDate>Tue, 26 Nov 2019 11:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/hugo-medium-level-lesson/</guid>
      <description>
        
          
            &lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h2 id=&#34;12-手把手使用hugo搭建网站进阶篇&#34;&gt;1.2. 手把手使用hugo搭建网站进阶篇&lt;/h2&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;121-自定义菜单&#34;&gt;1.2.1. 自定义菜单&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;配置定义菜单栏
&lt;ol&gt;
&lt;li&gt;layouts/partials/sidebar.html&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; &amp;lt;aside class=&amp;#34;sidebar&amp;#34;&amp;gt;
  &amp;lt;div class=&amp;#34;container sidebar-sticky&amp;#34;&amp;gt;
     &amp;lt;div class=&amp;#34;sidebar-about&amp;#34;&amp;gt;
        &amp;lt;a href=&amp;#34;{{ .Site.BaseURL }}&amp;#34;&amp;gt;&amp;lt;h1&amp;gt;{{ .Site.Title }}&amp;lt;/h1&amp;gt;&amp;lt;/a&amp;gt;
        &amp;lt;p class=&amp;#34;lead&amp;#34;&amp;gt;
        {{ with .Site.Params.description }} {{.}} {{ else }}{{end}}
        &amp;lt;/p&amp;gt;
     &amp;lt;/div&amp;gt;

     &amp;lt;nav&amp;gt;

        &amp;lt;ul class=&amp;#34;sidebar-nav&amp;#34;&amp;gt;
        {{ $currentPage := . }}
           {{ range .Site.Menus.main -}}
           &amp;lt;li&amp;gt;   &amp;lt;a class=&amp;#34;sidebar-nav-item{{if or ($currentPage.IsMenuCurrent &amp;#34;main&amp;#34; .) ($currentPage.HasMenuCurrent &amp;#34;main&amp;#34; .) }} active{{end}}&amp;#34; href=&amp;#34;{{ .URL }}&amp;#34; title=&amp;#34;{{ .Title }}&amp;#34;&amp;gt;{{ .Name }}&amp;lt;/a&amp;gt;
  &amp;lt;/li&amp;gt;
        {{- end }}

        &amp;lt;/ul&amp;gt;
     &amp;lt;ul class=&amp;#34;sidebar-nav&amp;#34;&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;/ul&amp;gt;
     &amp;lt;/nav&amp;gt;

     &amp;lt;p&amp;gt;{{ with .Site.Params.copyright }}{{.}}{{ else }}&amp;amp;copy;  xxx 公司 {{ now.Format &amp;#34;2006&amp;#34;}}.  All rights reserved. {{end}} &amp;lt;/p&amp;gt;
  &amp;lt;/div&amp;gt;
  &amp;lt;/aside&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;site/config.toml&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;   baseURL = &amp;#34;http://clouda3.github.io/&amp;#34;
   languageCode = &amp;#34;en-us&amp;#34;
   title = &amp;#34;Clouda3&amp;#34;
   theme = &amp;#34;hyde&amp;#34;
   enableRobotsTXT=&amp;#34;true&amp;#34;
   [permalinks]
   post = &amp;#34;/:filename/&amp;#34;

   [imaging]
   quality = 99

   [params]
   description = &amp;#34;&amp;#34;
   homeMetaContent = &amp;#34;clouda3 personal blog&amp;#34;
   footer = &amp;#34;clouda3的个人网站&amp;#34;
   date = &amp;#34;2019-04-10 14:05:50&amp;#34;
   codePenUser = &amp;#34;someUser&amp;#34;
   katex = true


   [menu]
   [[menu.main]]
      identifier = &amp;#34;home&amp;#34;
      name = &amp;#34;home&amp;#34;
      url = &amp;#34;/&amp;#34;
      weight = 1
   [[menu.main]]
      identifier = &amp;#34;blog&amp;#34;
      name = &amp;#34;Blog&amp;#34;
      url = &amp;#34;/posts/&amp;#34;
      weight = 2
   [[menu.main]]
      identifier = &amp;#34;tags&amp;#34;
      name = &amp;#34;Tags&amp;#34;
      url = &amp;#34;/tags/&amp;#34;
      weight = 3
   [[menu.main]]
      identifier = &amp;#34;about&amp;#34;
      name = &amp;#34;About&amp;#34;
      url = &amp;#34;/about&amp;#34;
      weight = 4
   [[menu.main]]
      identifier = &amp;#34;rss&amp;#34;
      name = &amp;#34;RSS&amp;#34;
      url = &amp;#34;/index.xml&amp;#34;
      weight = 5	
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;内容页面关联菜单
&lt;ol&gt;
&lt;li&gt;content/posts 目录下面添加文章&lt;/li&gt;
&lt;li&gt;hugo new post post/abc.md
&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;122-自定义tagcategorykeyword&#34;&gt;1.2.2. 自定义tag/category/keyword&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;无论是tag,category 还是keyword 都是用来分类的，在hugo里面没有太多的区别，都可以自定义,先演示页面keywords&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>手把手使用Hugo搭建网站-初级篇</title>
      <link>https://www.airplanecraft.com/zh/posts/hugo-entry-level-lesson/</link>
      <pubDate>Tue, 26 Nov 2019 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/hugo-entry-level-lesson/</guid>
      <description>
        
          
            &lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h2 id=&#34;11-手把手使用hugo搭建网站初级篇&#34;&gt;1.1. 手把手使用hugo搭建网站初级篇&lt;/h2&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;111-demo使用hugo的网站&#34;&gt;1.1.1. Demo使用hugo的网站&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://www.flysnow.org/&#34;&gt;https://www.flysnow.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.gohugo.io&#34;&gt;https://www.gohugo.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.netlify.com/&#34;&gt;https://www.netlify.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gohugo.io/showcase/&#34;&gt;https://gohugo.io/showcase/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.smashingmagazine.com/&#34;&gt;https://www.smashingmagazine.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;112-部分主题&#34;&gt;1.1.2. 部分主题&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/Vimux/Mainroad&#34;&gt;https://github.com/Vimux/Mainroad&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/kingfsen/Mainroad&#34;&gt;https://github.com/kingfsen/Mainroad&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://themes.gohugo.io/academic/&#34;&gt;https://themes.gohugo.io/academic/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://themes.gohugo.io/beautifulhugo/&#34;&gt;https://themes.gohugo.io/beautifulhugo/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://themes.gohugo.io/hyde/&#34;&gt;https://themes.gohugo.io/hyde/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://themes.gohugo.io/hugo-theme-even/&#34;&gt;https://themes.gohugo.io/hugo-theme-even/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/rujews/maupassant-hugo&#34;&gt;https://github.com/rujews/maupassant-hugo&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;113-hugo跟wordpress其他建站工具的对比&#34;&gt;1.1.3. hugo跟wordpress其他建站工具的对比&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;wordpress 全球31%的网站使用wordpress，尽管他有各种主题和插件，但是也有非常多的缺点，安全性，seo不够友好，定制麻烦&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;hugo 最快的静态生成工具,seo友好，静态更安全，方便定制模板，缺点没有插件，如果要定制模板只能懂一点go的语法&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wordpress是动态的并且还需要托管数据库，所以托管费用比较昂贵&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;hugo是生成静态的页面，在本地生成后上传到服务器就可以了，托管费用非常便宜，可以直接用免费的github托管&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;hugo不可以在线编辑&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wordpress vs hugo&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;Tables&lt;/th&gt;
          &lt;th style=&#34;text-align: center&#34;&gt;静态/动态&lt;/th&gt;
          &lt;th style=&#34;text-align: right&#34;&gt;托管&lt;/th&gt;
          &lt;th style=&#34;text-align: right&#34;&gt;安全性&lt;/th&gt;
          &lt;th style=&#34;text-align: right&#34;&gt;访问速度&lt;/th&gt;
          &lt;th style=&#34;text-align: right&#34;&gt;在线编辑&lt;/th&gt;
          &lt;th style=&#34;text-align: right&#34;&gt;markdown&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;wordpress&lt;/td&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;动态&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;复杂&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;需要经常升级&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;快&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;可以&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;不支持&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;hugo&lt;/td&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;静态&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;简单&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;不需要打补丁&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;非常快&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;不可以&lt;/td&gt;
          &lt;td style=&#34;text-align: right&#34;&gt;支持&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>SAA-CO1考试之路</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-saa-pass/</link>
      <pubDate>Thu, 03 Oct 2019 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-saa-pass/</guid>
      <description>
        
          
            &lt;h2 id=&#34;考试心得&#34;&gt;考试心得&lt;/h2&gt;
&lt;h3 id=&#34;考试成绩&#34;&gt;考试成绩&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;852&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;背景&#34;&gt;背景&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;工作用到aws不到1年&lt;/li&gt;
&lt;li&gt;有多年java开发经验&lt;/li&gt;
&lt;li&gt;linux管理员,持有RHCE&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;准备周期&#34;&gt;准备周期&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;3周從準備到考試&lt;/li&gt;
&lt;li&gt;每天8-12小时&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;做过实验的知识点列表&#34;&gt;做过实验的知识点列表&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;VPN endpoint/nat gateway/internet gateway/vpn/subnet/ACL&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RDS/Aurora/Reshift/Aurora/DynamoDB (snaphost copy az or cross region,ebs type change ,autoscaling ,entryption ,backup/replica ,Multi A-z,read/write unit)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cloudfront (OAI,SSL certificat ,validation TTL ,pre-signed URL)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;S3 (static websit ,ACL ,bucket policy,lifecyle)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ec2 (Cloudwath agent install,ebs mount/unmount,snapshot,elasticip binding)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cloud53 (A/alias .routing policy)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Athena on S3 SQL QUERY&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Kenisis stream /firehouse/analytic&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cloudwatch custom metric(ec2 momory/disk usage),alarm config -&amp;gt;sns/log export to s3&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>aws sap passed</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-sap-passed/</link>
      <pubDate>Wed, 02 Oct 2019 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-sap-passed/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;9.27 号考试通过了SAP（913分），心里终于落下一块石头.从开始准备到最后通过我用了数个星期的时间，平均每天超过10小时的准备.sap的难度比saa高不是一个级别的，涉及了大量的新的知识点.不仅仅需要知道每个知识点，还需要动手去实践，为此我写了20个几个blog都是尝试这里面的知识点，实际我做过的实验大概有40多个，几乎每天要做一个实验，因为时间的问题，没有把其他的整理到blog上来，也是一个遗憾，后面我会慢慢补充上来。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;考前准备&#34;&gt;考前准备 &lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;aws 账号 ：做实验用&lt;/li&gt;
&lt;li&gt;最好有一些linux/network/dev experience&lt;/li&gt;
&lt;li&gt;最好熟悉一门编程语言,java/.net/python/ruby/go/nodejs&lt;/li&gt;
&lt;li&gt;最好熟悉json/yaml&lt;/li&gt;
&lt;li&gt;如果考过saa最好了，saa是非常基础的aws认证&lt;/li&gt;
&lt;li&gt;如果考过saa，最好保证300小时以上的学习时间&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;考试内容准备&#34;&gt;考试内容准备&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;印度小哥的一个考试心得基本上面面俱到了 &lt;a href=&#34;https://www.linkedin.com/pulse/preparing-aws-certified-solutions-architect-2019-sap-c01-agarwal/&#34;&gt;https://www.linkedin.com/pulse/preparing-aws-certified-solutions-architect-2019-sap-c01-agarwal/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;bilibili 上印度小哥sap视频 &lt;a href=&#34;https://www.bilibili.com/video/av66737718?from=search&amp;seid=1011549087963751322&#34;&gt;https://www.bilibili.com/video/av66737718?from=search&amp;amp;seid=1011549087963751322&lt;/a&gt; 如果听的懂建议听听&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;bilibili 上cloud guru的sap视频 &lt;a href=&#34;https://www.bilibili.com/video/av39285864?from=search&amp;seid=1657200592137432769&#34;&gt;https://www.bilibili.com/video/av39285864?from=search&amp;amp;seid=1657200592137432769&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;aws 本上的get-started &lt;a href=&#34;https://aws.amazon.com/getting-started/&#34;&gt;https://aws.amazon.com/getting-started/&lt;/a&gt; 建议尝试里面大部分的实验内容，只有实验的多了才能够理解每个服务以及服务于服务之间的关联&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>aws x-ray</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-x-ray/</link>
      <pubDate>Thu, 12 Sep 2019 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-x-ray/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;
&lt;p&gt;AWS X-Ray 可以帮助开发人员分析与调试分布式生产应用程序，例如使用微服务架构构建的应用程序。借助 X-Ray，您可以了解应用程序及其底层服务的执行方式，从而识别和排查导致性能问题和错误的根本原因。X-Ray 可在请求通过应用程序时提供请求的端到端视图，并展示应用程序底层组件的映射。您可以使用 X-Ray 分析开发和生产中的应用程序，从简单的三层应用程序到包含上千种服务的复杂微服务应用程序。&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;pic&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;1462&#34;
        height=&#34;488&#34;
        src=&#34;https://www.airplanecraft.com/product-page-diagram_AWS-X-Ray_how-it-works.2922edd4bfe011e997dbf32fdf8bd520bcbc85fb_9836458994471346904.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;簡單來說，xray是用來追踪服務與服務之間鏈條，每個服務之間的請求內容，時間，參數等信息&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;用api-gateway-和-lambda-實驗&#34;&gt;用api-gateway 和 lambda 實驗&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;本文用到的例子是前面的博文: &lt;a href=&#34;http://www.clouda3.com/post/aws-cloudformation-lambda-apigateway/&#34;&gt;Aws cloudformation deploy lambda and apigateway&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;只需要額外做以下兩步&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;開啟api-gateway的x-ray,api gateway console-&amp;gt; apis-&amp;gt;spring-boot-lambda-&amp;gt;stages-&amp;gt;Prod-&amp;gt;logs/tracing-&amp;gt;enable x-ray tracing&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;開啟lambda的x-ray,functions-&amp;gt;spring-boot-lambda-LambdaSpringBootFunction-7CK2QHXPRA6F-&amp;gt;aws x-ray:active tracing&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;test x-ray:fire a request to api gateway&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;open x-ray console:service map:you will see a picture like below:&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;x-ray map&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;925&#34;
        height=&#34;418&#34;
        src=&#34;https://www.airplanecraft.com/0%2AJm9tsR7HNq1Ew2-C_14389612573526594243.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>accelerating aws migration</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-migration/</link>
      <pubDate>Tue, 10 Sep 2019 14:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-migration/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;
&lt;p&gt;aws migration from OP to cloud這是aws最注重的部分，關於遷移技術，aws提供了各種各樣的工具，比如遷移數據庫(sts,dms),遷移workload（aws server migration service）,協助你計劃遷移收集信息的工具(aws application discovery service),track遷移進程的工具(migration hub),遷移海量數據的aws snowball or snowmobile,s3 acceleration, 加速數據傳輸的 dierct connect等等，從網絡到數據庫到文件，給你武裝到牙齒&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://miro.medium.com/max/926/0*SLKhR418WaZctIPI.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;926&#34;
        height=&#34;373&#34;
        src=&#34;https://www.airplanecraft.com/0%2ASLKhR418WaZctIPI_12814727873364100845.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;以下是兩篇關於數據遷移的好文&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://medium.com/@awsontop/aws-cloud-migration-strategy-and-process-6ed38479735a&#34;&gt;https://medium.com/@awsontop/aws-cloud-migration-strategy-and-process-6ed38479735a&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.slideshare.net/AmazonWebServices/accelerating-your-portfolio-migration-to-aws-using-aws-migration-hub-ent321-reinvent-2017&#34;&gt;https://www.slideshare.net/AmazonWebServices/accelerating-your-portfolio-migration-to-aws-using-aws-migration-hub-ent321-reinvent-2017&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>aws online analytical processing (or OLAP)</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-glue-athena-quicksight/</link>
      <pubDate>Tue, 10 Sep 2019 14:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-glue-athena-quicksight/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;
&lt;p&gt;OLAP在線分析工具越來越來成熟，從開始的數據倉庫，到強大的elk，再到雲，比如aws的 gaq(glue-athena-quicksight)，當然aws也有elk在線服務&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gaq vs elk,實際上是一類的產品，glue提供了crawler去爬去數據，類似 logstash，athena提供查詢工具類似elasticsearch ,quicksight 跟 kibana一樣ui.gaq是aws雲端的服務，沒有辦法部署在線下，elk既可以部署在op也可以部署在cloud上&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;這篇文章來自 &lt;a href=&#34;https://medium.com/localz-engineering/serverless-big-data-start-here-aws-glue-athena-quicksite-4c70ecac9fe3&#34;&gt;https://medium.com/localz-engineering/serverless-big-data-start-here-aws-glue-athena-quicksite-4c70ecac9fe3&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;有一個圖片 &lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://miro.medium.com/max/1171/1*MiZKdlJBIC8nTTeEsPomLQ.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;1171&#34;
        height=&#34;750&#34;
        src=&#34;https://www.airplanecraft.com/1%2AMiZKdlJBIC8nTTeEsPomLQ_1549877427038419921.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;實驗&#34;&gt;實驗 &lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;cloudwatch agent 或者 application discovery agent 到ec2&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;cloud watch agent 或者 discovery agent  sync log 到 s3&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;glue裡面創建crawler ，指定s3&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;glue裡面創建database 和table&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;athena 寫sql語句查詢想要的數據&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果想要類似kinana那樣可視化的工具，那麼需要付費quicksight&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;完&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Difference between user pool and identity pool(Federated Identities)</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-difference-between-userpool-and-identitypool/</link>
      <pubDate>Fri, 06 Sep 2019 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-difference-between-userpool-and-identitypool/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;剛開始使用cognito服務的時候特別讓人困惑，有user pool 和 identity pool(Federated Identities)，user pool裡面還有federation，federation裡面有identity provider.&lt;/li&gt;
&lt;li&gt;identity pool 裡面有autenticated provider裡面也有user pool ID!&lt;/li&gt;
&lt;li&gt;納尼?這是什麼鬼?&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;lets-forget-the-connection-between-them&#34;&gt;let&amp;rsquo;s forget the connection between them&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;user pool 簡單來說就是提供一個用戶驗證的服務，比如用戶自定義用戶，用fb,GOOGLE，twitter等賬戶登錄，登錄後獲取一個token，用戶的每次請求帶著這個token就可以了，用戶登錄後獲取的是你個人應用的resource! ,比如你自己做了一個網站，登錄後可以管理自己用戶，權限，圖片等等，你有權限去訪問這些資源&lt;/li&gt;
&lt;li&gt;identity pool 也是提供一個用戶認證的服務，用戶可以在裡面設置aws 的role，也就說用戶登錄後得到的aws的resource 的訪問權限，比如你可以訪問s3.只是這個登錄可以跟 user pool提供的服務去綁定，也可以不用user pool的服務直接用 identity pool裡面的provider去對接，也就說，如果你有google的id也可以登錄後獲取aws resource 資源的訪問權限，這個是登錄後aws通過sts生成臨時credential 來做到的&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;summary&#34;&gt;summary &lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;user pool 只是負責authentication，沒有authorization，即便有也是用戶本身應用的服務&lt;/li&gt;
&lt;li&gt;identity pool，既可以authentication，又可以authoriztion，授權的是aws的resource&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;上幾張圖&#34;&gt;上幾張圖 &lt;/h4&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://docs.aws.amazon.com/cognito/latest/developerguide/images/amazon-cognito-ext-auth-basic-flow.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;720&#34;
        height=&#34;461&#34;
        src=&#34;https://www.airplanecraft.com/amazon-cognito-ext-auth-basic-flow_7254584813439612501.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://gorillalogic.com/wp-content/uploads/2018/09/Sign-Up-Implementation-7&amp;amp;amp;ndash;768x312.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;768&#34;
        height=&#34;312&#34;
        src=&#34;https://www.airplanecraft.com/Sign-Up-Implementation-7--768x312_15683792732263294091.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://d33wubrfki0l68.cloudfront.net/4602d3b127c9b3f1dbe49f9fc77e8d8a4aff20a6/9c3a1/assets/cognito-user-pool-vs-identity-pool.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;1368&#34;
        height=&#34;1344&#34;
        src=&#34;https://www.airplanecraft.com/cognito-user-pool-vs-identity-pool_7921973143523750630.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h4 id=&#34;幾個非常有價值的link&#34;&gt;幾個非常有價值的link&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://serverless-stack.com/chapters/cognito-user-pool-vs-identity-pool.html&#34;&gt;https://serverless-stack.com/chapters/cognito-user-pool-vs-identity-pool.html&lt;/a&gt;
&lt;a href=&#34;https://gorillalogic.com/blog/java-integration-with-amazon-cognito/&#34;&gt;https://gorillalogic.com/blog/java-integration-with-amazon-cognito/&lt;/a&gt;&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Aws cognito sample</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-cognito-sample/</link>
      <pubDate>Fri, 06 Sep 2019 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-cognito-sample/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;这是一个aws官方的文档，我认为最好的cognito的例子，如果理解这个sample，那么cognito就没有任何问题&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://aws.amazon.com/getting-started/projects/build-serverless-web-app-lambda-apigateway-s3-dynamodb-cognito/&#34;&gt;https://aws.amazon.com/getting-started/projects/build-serverless-web-app-lambda-apigateway-s3-dynamodb-cognito/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;详解&#34;&gt;详解&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;廢話少說直接上圖&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://d1.awsstatic.com/Test%20Images/Kate%20Test%20Images/Serverless_Web_App_LP_assets-16.7cbed9781201a79b9efa761807c4312e68b23485.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;901&#34;
        height=&#34;501&#34;
        src=&#34;https://www.airplanecraft.com/Serverless_Web_App_LP_assets-16.7cbed9781201a79b9efa761807c4312e68b23485_10296272764832932471.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;程序組成部分&#34;&gt;程序組成部分&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;- 靜態的代碼存放s3
- 動態的代碼存放lambda
- 代碼的訪問入口通過api-gateway
- 數據的存放時dynamoDB(程序登錄後有個點擊頁面位置生成的數據,與用戶驗證沒有太多關係)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;cognito-user-pool-在user-login-流程&#34;&gt;Cognito user pool 在user login 流程&lt;/h4&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;https://docs.aws.amazon.com/cognito/latest/developerguide/images/scenario-authentication-cup.png&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;782&#34;
        height=&#34;201&#34;
        src=&#34;https://www.airplanecraft.com/scenario-authentication-cup_7617407613548709477.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- 用戶用用戶名+密碼(或mfa，這取決於cognito user pool的配置)請求登錄
- aws cognito user pool去驗證用戶
- 如果用戶通過驗證返回一個token
- 下一次用戶用這個token來請求訪問
- aws cognito user pool 可以基本满足用户登录，如果涉及到权限可以跟自己数据进行绑定

- 这个例子里面特别要注意的是，api gateway 直接设置了 Authorizers ：里面可以指定cognito 来对用戶進行驗證，不用額外寫程序來驗證，也就說每次訪問一個服務/ride.html,api-getway通過Authorizers直接去用cognito去驗證用戶的token

- 這個例子分了兩個步驟，第一個步驟是直接登錄，登錄後獲得一個toke
- 第二步驟是用api-gateway 自動驗證用戶的登錄，也就是authentication
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Aws cloudformation deploy lambda and apigateway</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-cloudformation-lambda-apigateway/</link>
      <pubDate>Thu, 05 Sep 2019 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-cloudformation-lambda-apigateway/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;用Cloudformation 来部署 java 的lambda 和api gateway,这里要用到spring-boot写java 代码，需要用到s3，存放lambda代码，需要创建lambda function和api agetway，还需要用到sam&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aws-lambda-with-spring-boot&#34;&gt;Aws lambda with Spring Boot&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;本文用到的git代码来自 &lt;a href=&#34;https://github.com/gemerick/spring-boot-lambda&#34;&gt;https://github.com/gemerick/spring-boot-lambda&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;本文的内容来自 &lt;a href=&#34;https://keyholesoftware.com/2018/04/26/aws-lambda-with-spring-boot/&#34;&gt;https://keyholesoftware.com/2018/04/26/aws-lambda-with-spring-boot/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;本文的步骤&#34;&gt;本文的步骤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;安装sam&lt;/li&gt;
&lt;li&gt;git 克隆现有代码&lt;/li&gt;
&lt;li&gt;创建s3 bucket&lt;/li&gt;
&lt;li&gt;用cloudformation 上传 代码&lt;/li&gt;
&lt;li&gt;用cloudformation 部署&lt;/li&gt;
&lt;li&gt;测试代码&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;安装sam&#34;&gt;安装sam&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pip3 install --user aws-sam-cli
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;git-克隆代码&#34;&gt;git 克隆代码&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git clone https://github.com/gemerick/spring-boot-lambda -b lambda

mvn clean package
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;创建s3-bucket&#34;&gt;创建s3 bucket&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;aws s3 mb s3://spring-boot-lambda-20100905
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;拷贝jar-到s3-更新sam的template&#34;&gt;拷贝jar 到S3 ，更新sam的template&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;aws cloudformation package --template-file sam.yaml --output-template-file target/output-sam.yaml --s3-bucket spring-boot-lambda-20100905
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;deploy-a-cloudformation-stack-from-the-sam-template&#34;&gt;Deploy a Cloudformation stack from the SAM template&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;aws cloudformation deploy --template-file target/output-sam.yaml --stack-name spring-boot-lambda --capabilities CAPABILITY_IAM

aws cloudformation describe-stacks --stack-name spring-boot-lambda
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;测试部署结果&#34;&gt;测试部署结果&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl   https://xxx.execute-api.ap-southeast-1.amazonaws.com/Prod/languages

[{&amp;#34;name&amp;#34;:&amp;#34;node&amp;#34;},{&amp;#34;name&amp;#34;:&amp;#34;java&amp;#34;},{&amp;#34;name&amp;#34;:&amp;#34;python&amp;#34;}]
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Aws ecs tutorial</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-ecs-tutorial/</link>
      <pubDate>Wed, 04 Sep 2019 09:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-ecs-tutorial/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;Aws ecs 简单来说就是host docker container，跟K8S类似，如果用过k8s，那么ecs非常的好理解&lt;/li&gt;
&lt;li&gt;本文主要按照 &lt;a href=&#34;https://medium.com/boltops/gentle-introduction-to-how-aws-ecs-works-with-example-tutorial-cea3d27ce63d&#34;&gt;Gentle Introduction to How AWS ECS Works with Example Tutorial&lt;/a&gt; 搭建&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;关于ecs的专业的词汇&#34;&gt;关于ECS的专业的词汇&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Task Definition ：实际就是要给launch configration,比如暴露端口号，用什么docker image，cpu 内存需要多少，运行docker 的command，环境变量&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Task  ：简单来说就是一个running instance&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Service ：一组task&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cluster ：一组task 跑在一个或者多个 constainer 里面&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Container Instance  ：容器实例里面跑的是多个 task&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;看图&#34;
      
        class=&#34;image_figure image_external image_processed&#34;
        width=&#34;668&#34;
        height=&#34;254&#34;
        src=&#34;https://www.airplanecraft.com/1%2Ak29gxIwwhDaP-Ge-G-yXCQ_6496974866164419964.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h3 id=&#34;按照此图搭建一组ecs的服务&#34;&gt;按照此图搭建一组ecs的服务&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;创建一个ecs cluster&lt;/li&gt;
&lt;li&gt;创建一个ecsServiceRole&lt;/li&gt;
&lt;li&gt;创建Task Definition&lt;/li&gt;
&lt;li&gt;创建elb和 target group&lt;/li&gt;
&lt;li&gt;创建 service，里面只有一个task&lt;/li&gt;
&lt;li&gt;检查运行情况&lt;/li&gt;
&lt;li&gt;把service里面的task 改为4&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;创建一个ecs-cluster&#34;&gt;创建一个ecs cluster&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;创建secrutiry group my-ecs-sg
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;aws ec2 create-security-group --group-name my-ecs-sg --description my-ecs-sg
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;创建ecs cluster：选择vpc subnet多个&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;创建-ecsservicerole&#34;&gt;创建 ecsServiceRole&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;attach policy ：AmazonEC2ContainerServiceRole&lt;/li&gt;
&lt;li&gt;trusted relationship：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  {
  &amp;#34;Version&amp;#34;: &amp;#34;2012-10-17&amp;#34;,
  &amp;#34;Statement&amp;#34;: [
    {
      &amp;#34;Effect&amp;#34;: &amp;#34;Allow&amp;#34;,
      &amp;#34;Principal&amp;#34;: {
        &amp;#34;Service&amp;#34;: &amp;#34;ecs.amazonaws.com&amp;#34;
      },
      &amp;#34;Action&amp;#34;: &amp;#34;sts:AssumeRole&amp;#34;
    }
  ]
}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;创建-task-defination&#34;&gt;创建 task defination&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;task-definition.json
{
  &amp;#34;family&amp;#34;: &amp;#34;sinatra-hi&amp;#34;,
  &amp;#34;containerDefinitions&amp;#34;: [
    {
      &amp;#34;name&amp;#34;: &amp;#34;web&amp;#34;,
      &amp;#34;image&amp;#34;: &amp;#34;tongueroo/sinatra:latest&amp;#34;,
      &amp;#34;cpu&amp;#34;: 128,
      &amp;#34;memoryReservation&amp;#34;: 128,
      &amp;#34;portMappings&amp;#34;: [
        {
          &amp;#34;containerPort&amp;#34;: 4567,
          &amp;#34;protocol&amp;#34;: &amp;#34;tcp&amp;#34;
        }
      ],
      &amp;#34;command&amp;#34;: [
        &amp;#34;ruby&amp;#34;, &amp;#34;hi.rb&amp;#34;
      ],
      &amp;#34;essential&amp;#34;: true
    }
  ]
}
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;    aws ec2 authorize-security-group-ingress --group-name my-ecs-sg --protocol tcp --port 1-65535 --source-group my-elb-sg  --vpc-id vpc-xxxmyid
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;创建elb-和-target-group&#34;&gt;创建elb 和 target group&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;create： my-elb  with a HTTP protocol and Port 80&lt;/li&gt;
&lt;li&gt;为elb 配置 security group： my-elb-sg ，inbound allowed port 80 and source 0.0.0.0/0&lt;/li&gt;
&lt;li&gt;为my-ecs-sg 配置 inbound security group,允许来自elb的请求  aws ec2 authorize-security-group-ingress &amp;ndash;group-id sg-xxxyyy &amp;ndash;protocol tcp &amp;ndash;port 1-65535 &amp;ndash;source-group sg-xxxxx&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;创建-service&#34;&gt;创建 service&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ecs-service.json
{
  &amp;#34;cluster&amp;#34;: &amp;#34;my-cluster&amp;#34;,
  &amp;#34;serviceName&amp;#34;: &amp;#34;my-service&amp;#34;,
  &amp;#34;taskDefinition&amp;#34;: &amp;#34;sinatra-hi&amp;#34;,
  &amp;#34;loadBalancers&amp;#34;: [
      {
          &amp;#34;targetGroupArn&amp;#34;: &amp;#34;FILL-IN-YOUR-TARGET-GROUP&amp;#34;,
          &amp;#34;containerName&amp;#34;: &amp;#34;web&amp;#34;,
          &amp;#34;containerPort&amp;#34;: 4567
      }
  ],
  &amp;#34;desiredCount&amp;#34;: 1,
  &amp;#34;role&amp;#34;: &amp;#34;ecsServiceRole&amp;#34;
}

 aws ecs create-service --cli-input-json file://ecs-service.json
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;检查运行情况&#34;&gt;检查运行情况&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;找到elb的dns&lt;/li&gt;
&lt;li&gt;执行curl ：dns address&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;把service的节点扩展为4个&#34;&gt;把service的节点扩展为4个&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;找到cluster 的pulibc dns
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ssh -i xxx.perm cluster-public-dns-address
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;进入ecs 的container&lt;/li&gt;
&lt;li&gt;执行docker ps -a 发现有4个容器在running&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>aws数据库迁移工具简介</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-sct-dms-tutorial/</link>
      <pubDate>Tue, 03 Sep 2019 14:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-sct-dms-tutorial/</guid>
      <description>
        
          
            &lt;h3 id=&#34;aws数据库迁移工具简介&#34;&gt;Aws数据库迁移工具简介&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;越来越多的公司选择把服务迁移到云上,那么数据库的迁移尤其重要，亚马逊提供了数据迁移的工具 sct（schema converstion tool） 和 dms （data migration service）两个工具协作帮助客户从线下数据库导入到线上数据库,source 和 target 的database可以不是一种数据库类型，比如从mysql到oracle，或者mysql 到postgresql&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;简单介绍一下sct，简单点来说就是数据库schema转换工具，把本地的数据库的schema转换为aws线上目标数据库的schema，然后在线上导入这个schema生成数据库,然后用DMS帮你把数据导出到aws上&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;把aws-mysql-rds-数据库-导出到-aws-postgresql-rds&#34;&gt;把aws mysql RDS 数据库 导出到 aws postgresql RDS&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;实验的目标就是把mysql数据库迁移到postgresql，由于在aws cloud上做比较方面，所以选择了都在云上来迁移做实验&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Down load Aws schema convertion tool&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;create mysql database on aws&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;create database：test and table myclass with 2 column:id name&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;test 
id  name
1   hello
2   kitty
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;create postgresql database on aws&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open aws sct&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;File -&amp;gt;new project:source :RDS for mysql ,target:RDS postsgresql&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在菜单上，connection to mysql，依次数据:server name/port/username/password,链接成功后左边位置就显示了mysql&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>eni or eip can not be deleted</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-eni-can-not-be-deleted/</link>
      <pubDate>Mon, 02 Sep 2019 14:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-eni-can-not-be-deleted/</guid>
      <description>
        
          
            &lt;ul&gt;
&lt;li&gt;我几乎删除了所有的service，但是eni就是不让我删除&lt;/li&gt;
&lt;li&gt;关联的eip也不让删除&lt;/li&gt;
&lt;li&gt;我去aws社区看了很多帖子最后发现主要原因有两个地方&lt;/li&gt;
&lt;li&gt;efs 使用eni&lt;/li&gt;
&lt;li&gt;nat gatway 使用了eni&lt;/li&gt;
&lt;li&gt;根据这两点，我去查找，果然有个natgateway 使用eni，删除掉nat gateway后，eni可以删除，eip可以release了&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>一个ec2 instance上配置多个eni</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-multi-eni-on-one-ec2-instance/</link>
      <pubDate>Mon, 02 Sep 2019 08:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-multi-eni-on-one-ec2-instance/</guid>
      <description>
        
          
            &lt;h3 id=&#34;一个ec2-instance-配置多网卡&#34;&gt;一个ec2 instance 配置多网卡&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;首先要确定你需要几个公网IP，以2个为例&lt;/li&gt;
&lt;li&gt;首先要确定你需要几个网卡，以2个为例&lt;/li&gt;
&lt;li&gt;申请两个 elastic ip：IP1 ip2&lt;/li&gt;
&lt;li&gt;申请两个eni(network interface)：eni1，eni2&lt;/li&gt;
&lt;li&gt;创建一个ec2&lt;/li&gt;
&lt;li&gt;把ip1 绑定到eni1,elastic ip-&amp;gt;选中IP-&amp;gt;associate-&amp;gt;resource type:network interface -&amp;gt; private ip 自动选择&lt;/li&gt;
&lt;li&gt;把ip2 绑定到eni2,此处省略步骤&lt;/li&gt;
&lt;li&gt;把eni1绑定到ec2，network interface 页面-&amp;gt;选择eni1-&amp;gt;attach-&amp;gt; 选择 ec2 instance id&lt;/li&gt;
&lt;li&gt;把eni2绑定到ec2,此处省略步骤&lt;/li&gt;
&lt;li&gt;在ec2 instance 页面,看到iP里面公网IP只有一个，private ip 有2个&lt;/li&gt;
&lt;li&gt;为什么少了一个?用putty connnect 这个两个ip，都是没有问题，ec2 的console不显示而已&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[ec2-user@ip-172-31-1-176 ~]$ ifconfig
eth0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 9001
        inet 172.31.1.176  netmask 255.255.255.0  broadcast 172.31.1.255
        inet6 fe80::8a:93ff:fefd:ef5c  prefixlen 64  scopeid 0x20&amp;lt;link&amp;gt;
        ether 02:8a:93:fd:ef:5c  txqueuelen 1000  (Ethernet)
        RX packets 4115218  bytes 1170825027 (1.0 GiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 3592874  bytes 8202330562 (7.6 GiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

eth1: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 9001
        inet 172.31.1.87  netmask 255.255.255.0  broadcast 172.31.1.255
        inet6 fe80::f1:16ff:fefa:1bba  prefixlen 64  scopeid 0x20&amp;lt;link&amp;gt;
        ether 02:f1:16:fa:1b:ba  txqueuelen 1000  (Ethernet)
        RX packets 333  bytes 26643 (26.0 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 286  bytes 33695 (32.9 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&amp;lt;UP,LOOPBACK,RUNNING&amp;gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10&amp;lt;host&amp;gt;
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 10549  bytes 8263339 (7.8 MiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 10549  bytes 8263339 (7.8 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0 collisions 0
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>使用Aws sts创建临时credential</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-sap-sts-service/</link>
      <pubDate>Mon, 26 Aug 2019 08:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-sap-sts-service/</guid>
      <description>
        
          
            &lt;h3 id=&#34;aws-sts-简介&#34;&gt;Aws sts 简介&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;简单来说就是aws通过sts服务生成临时的credential给用户使用，他们可以设置有效期，自动失效,这也是amazon best practice 里面建议的方式&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;实验准备&#34;&gt;实验准备&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;创建 User&lt;/li&gt;
&lt;li&gt;创建 Role&lt;/li&gt;
&lt;li&gt;创建 s3 作为测试&lt;/li&gt;
&lt;li&gt;为User创建sts assumeRole 的访问策略&lt;/li&gt;
&lt;li&gt;在EC2上使用Aws cli 创建 历史的credential&lt;/li&gt;
&lt;li&gt;访问s3&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;create-an-iam-user&#34;&gt;Create an IAM user&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://console.aws.amazon.com/iam/home?region=ap-southeast-1#/users&#34;&gt;https://console.aws.amazon.com/iam/home?region=ap-southeast-1#/users&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;input name： mystsuser&lt;/li&gt;
&lt;li&gt;access type programmatic access&lt;/li&gt;
&lt;li&gt;其他保持默认&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;create-role-for-antoher-aws-account&#34;&gt;Create role for antoher aws account&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://console.aws.amazon.com/iam/home?region=ap-southeast-1#/roles&#34;&gt;https://console.aws.amazon.com/iam/home?region=ap-southeast-1#/roles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;选择：another aws account&lt;/li&gt;
&lt;li&gt;Account ID: 找到上面的user 的arn，XXX就是ID  (arn:aws:iam::XXXX:user/mystsuser)&lt;/li&gt;
&lt;li&gt;Attach plicy&lt;/li&gt;
&lt;li&gt;搜索s3，选择 AmanzonS3ReadOnlyAccess,next&lt;/li&gt;
&lt;li&gt;reviews and create Role，input role name：sts-s3-read-only&lt;/li&gt;
&lt;li&gt;创建完毕后，Update/Modify Trust Relationships&lt;/li&gt;
&lt;li&gt;replace (this is the arn of the user what you created) with
arn:aws:iam::XXXX:user/mystsuser&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{
  &amp;#34;Version&amp;#34;: &amp;#34;2012-10-17&amp;#34;,
  &amp;#34;Statement&amp;#34;: [
    {
      &amp;#34;Effect&amp;#34;: &amp;#34;Allow&amp;#34;,
      &amp;#34;Principal&amp;#34;: {
        &amp;#34;AWS&amp;#34;: &amp;#34;this is the arn of the user what you created&amp;#34;
      },
      &amp;#34;Action&amp;#34;: &amp;#34;sts:AssumeRole&amp;#34;,
      &amp;#34;Condition&amp;#34;: {}
    }
  ]
}
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;创建完毕&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;为user创建sts-assumerole-的访问策略&#34;&gt;为User创建sts assumeRole 的访问策略&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;user页面， 选择刚才创建的用户&lt;/li&gt;
&lt;li&gt;add inline policy&lt;/li&gt;
&lt;li&gt;service :sts&lt;/li&gt;
&lt;li&gt;Action:write-AssumeRole&lt;/li&gt;
&lt;li&gt;Resource:arn xxxx(input the arn of the role you created in earlier step)&lt;/li&gt;
&lt;li&gt;done&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ec2-配置刚才创建的用户的profile&#34;&gt;Ec2 配置刚才创建的用户的profile&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; aws configure --profile stsgeneratedprofile
AWS Access Key ID [****************QL74]:
AWS Secret Access Key [****************/soA]:
Default region name [ap-southeast-1]:
Default output format [json]:

aws sts assume-role --role-arn  arn:aws:iam::xxxx:role/sts-s3-read-only --role-session-name &amp;#34;mytestsession&amp;#34;  --profile ststestprofile --DurationSeconds 3600
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;生成用户的有效时间为3600秒，生成以下文件&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{
    &amp;#34;AssumedRoleUser&amp;#34;: {
        &amp;#34;AssumedRoleId&amp;#34;: &amp;#34;AROAWNQJOZK2KCBLXLQZW:mytestsession&amp;#34;,
        &amp;#34;Arn&amp;#34;: &amp;#34;arn:aws:sts::xxx:assumed-role/sts-s3-read-only/mytestsession&amp;#34;
    },
    &amp;#34;Credentials&amp;#34;: {
        &amp;#34;SecretAccessKey&amp;#34;: &amp;#34;sss&amp;#34;,
        &amp;#34;SessionToken&amp;#34;: &amp;#34;sss&amp;#34;,
        &amp;#34;Expiration&amp;#34;: &amp;#34;2019-08-26T04:26:04Z&amp;#34;,
        &amp;#34;AccessKeyId&amp;#34;: &amp;#34;sss&amp;#34;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;根据上面的文件创建新的profile&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;aws configure --profile stsgeneratedprofile 
--测出略去
--最终.aws/credential 里面

[stsgeneratedprofile]
aws_access_key_id = sss
aws_secret_access_key = sss
aws_session_token = ssss
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;最后测试&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
 aws s3 ls --profile stsgeneratedprofile

--output
2019-08-11 22:02:41 www.xxx.com


 aws s3 cp abc.txt s3://xxxxx --profile stsgeneratedprofile
upload failed: ./abc.txt to s3://xxxxx/abc.txt An error occurred (AccessDenied) when calling the PutObject operation: Access Denied
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title> 使用Aws System Manager 统一管理 aws resource </title>
      <link>https://www.airplanecraft.com/zh/posts/aws-sap-system-manager/</link>
      <pubDate>Sun, 25 Aug 2019 16:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-sap-system-manager/</guid>
      <description>
        
          
            &lt;h2 id=&#34;使用aws-system-manager-统一管理-aws-resource&#34;&gt;使用Aws System Manager 统一管理 aws resource&lt;/h2&gt;
&lt;h3 id=&#34;aws-system-manager-简介&#34;&gt;Aws system Manager 简介&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;AWS Systems Manager gives you visibility and control of your infrastructure on AWS. Systems Manager provides a unified use:qr interface so you can view operational data from multiple AWS services and allows you to automate operational tasks across your AWS resources&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Aws system manager AWS  让您能够查看和控制 AWS 上的基础设施。Systems Manager 可以提供一个统一的用户界面，供您查看多种 AWS 服务的运行数据，并在 AWS 资源上自动执行操作任务。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;使用场景&#34;&gt;使用场景&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;比如我有个20台 linux ec2，不管什么类型的，只要安装centyos，那么都要给他安装 ，cloudwatch agent 来对系统的disk和memory进行监控&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;实验的前置条件&#34;&gt;实验的前置条件&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;你的系统上必须安装SSM Agent&lt;/li&gt;
&lt;li&gt;你的EC2的role 必须具有 AmazonEC2RoleforSSM 的policy attach上去&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;安装ssm-agent&#34;&gt;安装SSM agent&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Intel (x86_64) 64 位实例：

sudo yum install -y https://s3.amazonaws.com/ec2-downloads-windows/SSMAgent/latest/linux_amd64/amazon-ssm-agent.rpm

ARM (arm64) 64 位实例：

sudo yum install -y https://s3.amazonaws.com/ec2-downloads-windows/SSMAgent/latest/linux_arm64/amazon-ssm-agent.rpm
Intel (x86) 32 位实例：

sudo yum install -y https://s3.amazonaws.com/ec2-downloads-windows/SSMAgent/latest/linux_386/amazon-ssm-agent.rpm


sudo systemctl start amazon-ssm-agent
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;给ec2-创建一个role具有-amazonec2roleforssm-的policy&#34;&gt;给EC2 创建一个role具有 AmazonEC2RoleforSSM 的policy&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;创建role  ssmrole，选择policy AmazonEC2RoleforSSM&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>NAT instance setup 简介</title>
      <link>https://www.airplanecraft.com/zh/posts/aws-nat-instance-setup/</link>
      <pubDate>Tue, 20 Aug 2019 14:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/aws-nat-instance-setup/</guid>
      <description>
        
          
            &lt;h3 id=&#34;aws-nat-instance-setup-简介&#34;&gt;AWS NAT instance setup 简介&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;NAT（Network Address Translation，网络地址转换）是1994年提出的。当在专用网内部的一些主机本来已经分配到了本地IP地址（即仅在本专用网内使用的专用地址），但现在又想和因特网上的主机通信（并不需要加密）时，可使用NAT方法。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aws-nat-gateway&#34;&gt;AWS NAT gateway&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Aws 有專門的nat gateway,並且是HA的，只要創建gateway然後更改一下，subnet的路由就可以了，所以自己搭建一個nat gateway實際並不是aws的範疇，實際是一個linux系統的問題&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;手動搭建一個nat-instance&#34;&gt;手動搭建一個nat instance&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;private subnet1/ instance1 / sg1(secrutiry group) / internal IP1  -&amp;gt;local node1&lt;/li&gt;
&lt;li&gt;public  subnet2/ instance2 / sg2(sercirity group) / internal IP2 /public ip2 -&amp;gt; proxy node2&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;配置proxy-node&#34;&gt;配置proxy node&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;vi /etc/sysctl.conf
net.ipv4.ip_forward=1

iptables -t nat -A POSTROUTING -o eth0 -s 192.168.1.0/24 -j MASQUERADE
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;192.168.1.0/24 為本地網絡CIDR&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;EC2 頁面，選中proxy node2 -&amp;gt;Action -&amp;gt;Networking -&amp;gt;Disable source/Desk Check&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;配置-local-node-1&#34;&gt;配置 local node 1&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;選擇 subnet1  -&amp;gt;Route Table&lt;/li&gt;
&lt;li&gt;點擊route table id  -&amp;gt;Routes&lt;/li&gt;
&lt;li&gt;Edit routes ：add 0.0.0.0/0  -&amp;gt;target 選中instance -&amp;gt;選中 proxy node2&lt;/li&gt;
&lt;li&gt;ssh 進入node1 :ping 8.8.8.8 -&amp;gt; 沒有為子網配置igw，有沒有配置 nat gateway, 但是可以訪問 internet&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>我们为什么需要K8S</title>
      <link>https://www.airplanecraft.com/zh/posts/why-do-we-need-k8s/</link>
      <pubDate>Fri, 03 May 2019 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/why-do-we-need-k8s/</guid>
      <description>
        
          
            &lt;h2 id=&#34;我们为什么需要k8s&#34;&gt;我们为什么需要K8S&lt;/h2&gt;
&lt;p&gt;我们用最常用的一个例子LAMP（Linux/Apache/Mysql/PHP or Python or perl）搭建一個負載均均衡的多節點的網站，假如不考慮mysql環節，我們只考慮負載均衡和多節點的問題。&lt;/p&gt;
&lt;h3 id=&#34;1如果我们在本地数据中心进行产品部署的话我们需要那些服务&#34;&gt;1：如果我们在本地数据中心进行产品部署的话,我们需要那些服务&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;负载均衡 LB&lt;/li&gt;
&lt;li&gt;扩容和缩放 auto scaling&lt;/li&gt;
&lt;li&gt;高可用  HA，一個節點挂掉，如果有新的節點自動產生take over他的服務&lt;/li&gt;
&lt;li&gt;日志如何同步到一個中心?&lt;/li&gt;
&lt;li&gt;Docker部署或者裸程序&lt;/li&gt;
&lt;li&gt;反向代理服務&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;那么问题来了，几乎所有的服务都需要我们自己部署和搭建，我们的基础设施，完全依赖裸的操作系统，我们要全部搭建，举几个最简单的例子：如何决定部署多少个Docker容器？如何让这些容器的服务负载均衡？每个容器里面的日志如何同步？任何一个docker容器服务挂掉该如何处理？ 我们操作系统的优化，硬件和网络高可用性，等等目前这些问题都需要我们在本地数据中心来实现，无论是复杂度还是需要硬件成本和技术都是非常高的。&lt;/p&gt;
&lt;h3 id=&#34;2如果在aws云上我们使用服务&#34;&gt;2：如果在aws云上我们使用服务&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;LB(health check等配置)&lt;/li&gt;
&lt;li&gt;autoscaling&lt;/li&gt;
&lt;li&gt;cloudwatch logs&lt;/li&gt;
&lt;li&gt;创建Lauch configuration&lt;/li&gt;
&lt;li&gt;创建image 里面包含我们应用程序或者包含docker&lt;/li&gt;
&lt;li&gt;日志的同步可以同步到elasticsearch服務&lt;/li&gt;
&lt;li&gt;反向代理(使用lb的或者image裏面自己搭建nginx根據需要)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;我们发现如果我们使用aws来构建我们的服务的话，这里面有很多成熟的服务我们可以拿来使用，这里面我们需要完成各个服务的配置，如果我们使用alicloud或者azure等各个服务平台的配置都是不一样的，即便我们有devops，我们使用terraform和assible来做devops也需要很多不同的代码，跨平台的移植非常麻煩&lt;/p&gt;
&lt;h3 id=&#34;3-使用k8s&#34;&gt;3. 使用K8s&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;是否需要負載均衡？是，k8s service本身就是負載均衡&lt;/li&gt;
&lt;li&gt;是否需要考慮需要節點的擴容和縮放？是，K8s pod本身就支持autoscaling擴容和縮放&lt;/li&gt;
&lt;li&gt;日志如何同步？可以直接使用K8s的存儲管理，可以不用第三方的服務&lt;/li&gt;
&lt;li&gt;是否支持容器？一直都是以容器為基本單位就行部署的&lt;/li&gt;
&lt;li&gt;系統的可移植性如何?你的程序無論在本地數據中心的K8S還是在各個云服務平臺的k8s上，devops的代碼的改動幾乎沒有多少，完全是跨平臺的。無論是開發者還是devops都可以聚焦於你的業務實現
6.反向代理，直接使用service ingress 就可以很容易解決&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;總之，k8S提供了你需要的完美的一體化的解決方案，所有的這些服務都集成在K8S内部，如果使用一些定制化的k8S平臺，比如openshit還集成了更多的開發和devops的工具在裏面，可以更快的開發和測試和部署，讓我們的用戶效率大大提高。&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>如何配置jenkins新节点</title>
      <link>https://www.airplanecraft.com/zh/posts/jenkins_create_new_node/</link>
      <pubDate>Sat, 13 Oct 2018 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/jenkins_create_new_node/</guid>
      <description>
        
          
            &lt;h3 id=&#34;jenkins-节点-简介&#34;&gt;jenkins 节点 简介&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;在企业里面使用Jenkins自动部署时，大部分企业更新发布几个软件版本,但是对于一些公司有非常多的业务线或者产品来说，Jenkins就需要同时处理很多的任务，这时候就需要借助Jenkins多个node或者我们所说的Jenkins分布式SLAVE节点，来分开处理多个产品或者业务线的部署，目的就是master节点用来分配任务，slave节点来具体执行部署任务&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;配置-slave节点&#34;&gt;配置 slave节点&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;jenkins -&amp;gt;manage jenins -&amp;gt; manage node and cloud -&amp;gt;new node&lt;/li&gt;
&lt;li&gt;node name:test ,选择permanent node&lt;/li&gt;
&lt;li&gt;填好number of executors:1 ,remote root,launch method:launch agent via ssh,Host,Credentials,	Host Key Verification Strategy,known hosts file verification strategy ,availability:keep agent online as much as possible&lt;/li&gt;
&lt;li&gt;在slave上安装各种需要软件&lt;/li&gt;
&lt;li&gt;一定要安装相关的plugin和global tool configuration里面配置相关的工具软件
e&lt;/li&gt;
&lt;li&gt;创建一个pipeline测试一下&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pipeline {
    agent any
    stages {
        stage(&amp;#39;Example&amp;#39;) {
            steps {
                echo &amp;#39;Hello World&amp;#39;
            }
        }
    }
    post {
        always {
            echo &amp;#39;I will ........!&amp;#39;
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>面试问题集合</title>
      <link>https://www.airplanecraft.com/zh/posts/interview_questions/</link>
      <pubDate>Sat, 28 Jul 2018 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/interview_questions/</guid>
      <description>
        
          
            &lt;h2 id=&#34;面试问题结合&#34;&gt;面试问题结合&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;为什么要使用Kafka在你们项目&lt;/li&gt;
&lt;li&gt;使用什么方式来解决微服务的事务问题Seata 支持多种事物框架&lt;/li&gt;
&lt;li&gt;如有大量的并发 HTTP 请求到同一个API如何设计 连接池，keep-alive,socket-timeout,connect-time等设置&lt;/li&gt;
&lt;li&gt;如何保证一个高并发的程序能够很好的服务用户，该怎么设计&lt;/li&gt;
&lt;li&gt;如何劝说客户迁移到云&lt;/li&gt;
&lt;li&gt;K8s能给企业带来什么&lt;/li&gt;
&lt;li&gt;如何设计一个websocket客户端的高可用&lt;/li&gt;
&lt;li&gt;你为什么觉得你适合这个职位&lt;/li&gt;
&lt;li&gt;你对你的职业生涯有什么规划&lt;/li&gt;
&lt;li&gt;英文中文的自我介绍&lt;/li&gt;
&lt;li&gt;为什么要使用elasticsearch&lt;/li&gt;
&lt;li&gt;为什么要使用云服务&lt;/li&gt;
&lt;li&gt;mysql索引为什么可以提高速度，elasticsearch倒排索引原理&lt;/li&gt;
&lt;li&gt;java 查看jvm一些命令jstack jstat jmap&lt;/li&gt;
&lt;li&gt;mariadb和mysqldb区别&lt;/li&gt;
&lt;li&gt;Solution architect Enterprise architect technical architect 区别&lt;/li&gt;
&lt;li&gt;作为一个云架构师你要考哪些stakeholder的诉求&lt;/li&gt;
&lt;li&gt;作为一个架构师需要哪些能力&lt;/li&gt;
&lt;li&gt;什么是蓝绿发布/灰度发布/滚动发布&lt;/li&gt;
&lt;li&gt;RTO RPO&lt;/li&gt;
&lt;li&gt;aws 混合云网络构建，AWS VPC网络如何通信&lt;/li&gt;
&lt;li&gt;aws 私有云在公有云上备份&lt;/li&gt;
&lt;li&gt;aws 异地多活.https://aws.amazon.com/cn/blogs/china/corporate-cloud-travel-hybrid-cloud-construction-and-common-cloud-application-scenarios/&lt;/li&gt;
&lt;li&gt;如何设计一个高并发的大数据处理系统，模块解耦，分布式处理，数据的分片和副本，流数据，网络设计和搭建，日志的处理&lt;/li&gt;
&lt;li&gt;如果在咨詢行業我們我們處理不同行業客戶的產品的架構，我們怎麽才可以做好這樣的工作&lt;/li&gt;
&lt;/ol&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>k8s使用ingress总结</title>
      <link>https://www.airplanecraft.com/zh/posts/k8s-install-ingress/</link>
      <pubDate>Thu, 03 May 2018 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/k8s-install-ingress/</guid>
      <description>
        
          
            &lt;h3 id=&#34;安装准备&#34;&gt;安装准备&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Centos7.7 vm 或者真实的物理机三台(master一台,node两台)&lt;/li&gt;
&lt;li&gt;硬件要求2GB ram,最低2CPU，最少32GB 硬盘&lt;/li&gt;
&lt;li&gt;节点之间最好网络互通，如果不考虑安全可以关闭firewalld&lt;/li&gt;
&lt;li&gt;可以访问到外部网络,因为需要网络资源，比如yum源和其他k8s需要的yaml文件&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;需要安装和配置&#34;&gt;需要安装和配置&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;yum源配置&lt;/li&gt;
&lt;li&gt;防火墙selinux的关闭与配置&lt;/li&gt;
&lt;li&gt;swap分区配置&lt;/li&gt;
&lt;li&gt;桥接ipv4流量交给iptables&lt;/li&gt;
&lt;li&gt;文件句柄数的限制&lt;/li&gt;
&lt;li&gt;Docker的安装&lt;/li&gt;
&lt;li&gt;Kubeadmin,flannel&lt;/li&gt;
&lt;li&gt;创建deployment,service,pod,ingress,ingress controller,kubernets-dashboard&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;具体安装步骤&#34;&gt;具体安装步骤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;VM 网络选择bridge模式 master:192.168.25.200 node:192.168.25.187/192.168.25.188&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;防火墙&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  $ systemctl stop firewalld
  $ systemctl disable firewalld
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Selinux&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  $ sed -i &amp;#34;s/^SELINUX=enforcing/SELINUX=disabled/g&amp;#34; /etc/selinux/config
  $ sed -i &amp;#34;s/^SELINUX=permissive/SELINUX=disabled/g&amp;#34; /etc/selinux/config
  $ setenforce 0
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;关闭swap&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  swapoff -a 
  sed -i &amp;#39;s/.*swap.*/#&amp;amp;/&amp;#39; /etc/fstab
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;网络转发&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  cat &amp;gt; /etc/sysctl.d/k8s.conf &amp;lt;&amp;lt; EOF
  net.bridge.bridge-nf-call-ip6tables = 1
  net.bridge.bridge-nf-call-iptables = 1
EOF
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;文件句柄&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>裸金属服务器使用</title>
      <link>https://www.airplanecraft.com/zh/posts/bare-metal-server/</link>
      <pubDate>Wed, 06 Sep 2017 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/bare-metal-server/</guid>
      <description>
        
          
            &lt;h2 id=&#34;什么裸金属服务器&#34;&gt;什么裸金属服务器&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;裸金属服务器（Bare Metal Server，BMS）是一款兼具弹性云服务器和物理机性能的计算类服务，为您和您的企业提供专属的云上物理服务器，为核心数据库、关键应用系统、高性能计算、大数据等业务提供卓越的计算性能以及数据安全。租户可灵活申请，按需使用。

裸金属服务器的开通是自助完成的，您只需要指定具体的服务器类型、镜像、所需要的网络配置等，即可在短时间内获得所需的裸金属服务器。服务器供应、运维工作交由华为云，您可以专注于业务创新。
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;产品架构&#34;&gt;产品架构&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;裸金属服务器在不同可用区中部署（可用区之间通过内网连接），部分可用区发生故障后不会影响同一区域内的其他可用区。&lt;/li&gt;
&lt;li&gt;可以通过虚拟私有云建立专属的网络环境，设置子网、安全组，并通过弹性公网IP实现外网链接（需带宽支持）。&lt;/li&gt;
&lt;li&gt;通过镜像服务，可以对裸金属服务器安装镜像，也可以通过私有镜像批量创建裸金属服务器，实现快速的业务部署。&lt;/li&gt;
&lt;li&gt;通过云硬盘服务实现数据存储，并通过云硬盘备份服务实现数据的备份和恢复。&lt;/li&gt;
&lt;li&gt;云监控是保持裸金属服务器可靠性、可用性和性能的重要部分，通过云监控，用户可以观察裸金属服务器资源。&lt;/li&gt;
&lt;li&gt;云备份提供对云硬盘和裸金属服务器的备份保护服务，支持基于快照技术的备份服务，并支持利用备份数据恢复服务器和磁盘的数据。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;华为裸金属的服务器的架构&#34;&gt;华为裸金属的服务器的架构&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;pic&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/huaweibaremetal.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;与物理机和虚拟机的对比&#34;&gt;与物理机和虚拟机的对比&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;pic&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/huaweicompare.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;什么场景下使用裸金属服务器&#34;&gt;什么场景下使用裸金属服务器&lt;/h2&gt;
&lt;p&gt;裸金属服务与一般云服务器最大的区别是是虚拟化与非虚拟化，虚拟化的缺点就是性能损失，操作系统和应用程序在调用硬件资源的时候，没有直接掌控，而是通过虚拟化软件间接管理的。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;高安全性和法规要求&lt;/li&gt;
&lt;li&gt;高性能计算场景&lt;/li&gt;
&lt;li&gt;资源独占的场景&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;不同厂家的裸金属服务器的服务差别&#34;&gt;不同厂家的裸金属服务器的服务差别&lt;/h2&gt;
&lt;p&gt;有很多小厂的裸金属服务器，说实话就是一台独立主机，独立的独享宽带的网络（可以定制宽带），但是网络无法定制，比如没有VPC的选项，没有安全组，要自己通过防火墙软件管安全，也没有网络硬盘，说白了就是一台独立的远程主机。阿里云华为云这些已经非常成熟了，跟网络主机的区别不是太大，区别就是一个非虚拟化的主机而已，其他的地方基本上区别不大。&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>裸金属服务器遇到的docker容器访问问题</title>
      <link>https://www.airplanecraft.com/zh/posts/firewalld-block-docker/</link>
      <pubDate>Wed, 06 Sep 2017 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/firewalld-block-docker/</guid>
      <description>
        
          
            &lt;h2 id=&#34;问题描述&#34;&gt;问题描述&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;我们本地数据中心服务器处理与客户的接口的时候发现网络有严重的延迟，然后我们又有数据合规方面的问题，我们就采用云端的裸金属服务器，安装了docker后发现docker无法访问到主机。
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;问题发现&#34;&gt;问题发现&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;docker exec -ti docker-id bash 进入主机&lt;/li&gt;
&lt;li&gt;在docker主机内部telnet 主机IP 端口&lt;/li&gt;
&lt;li&gt;发现无法访问&lt;/li&gt;
&lt;li&gt;退出虚拟主机在主机执行telnet 主机IP 端口 ，是可以访问的&lt;/li&gt;
&lt;li&gt;检查网络 &lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;pic&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/firewall-docker.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;原来是docker0 与主机eth0 之间通信问题被firewall屏蔽了&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; firewall-cmd --permanent --add-rich-rule=&amp;#34;rule family=&amp;#34;ipv4&amp;#34; source address=&amp;#34;172.17.0.1/16&amp;#34; accept&amp;#34;
 firewall-cmd --reload 
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>JDk版本問題造成的cglib運行時候出錯</title>
      <link>https://www.airplanecraft.com/zh/posts/jdk-version-caused-dynamic-proxy-issue/</link>
      <pubDate>Tue, 29 Aug 2017 10:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/jdk-version-caused-dynamic-proxy-issue/</guid>
      <description>
        
          
            &lt;h2 id=&#34;異常信息&#34;&gt;異常信息&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Caused by: java.lang.ExceptionInInitializerError: null
       at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122) ~[spring-context-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110) ~[spring-context-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:405) ~[spring-context-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       ... 20 common frames omitted
Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&amp;gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &amp;#34;opens java.lang&amp;#34; to unnamed module @1134affc
       at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
       at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.proxy.Enhancer.&amp;lt;clinit&amp;gt;(Enhancer.java:73) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       ... 23 common frames omitted
Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &amp;#34;opens java.lang&amp;#34; to unnamed module @1134affc
       at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357) ~[na:na]
       at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]
       at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199) ~[na:na]
       at java.base/java.lang.reflect.Method.setAccessible(Method.java:193) ~[na:na]
       at org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at java.base/java.security.AccessController.doPrivileged(AccessController.java:554) ~[na:na]
       at org.springframework.cglib.core.ReflectUtils.&amp;lt;clinit&amp;gt;(ReflectUtils.java:52) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329) ~[spring-core-5.0.4.RELEASE.jar!/:5.0.4.RELEASE]
       ... 35 common frames omitted
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;挖掘問題&#34;&gt;挖掘問題&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;eclipse compiler和jdk版本都是1.8 但是外面是java16,在eclipse裏面用JAVA8都是沒有任何問題,但是在JAVA16就出錯,這是因爲在java9中引入了module，現實大部分的企業級開發還是在使用java8所以一般不會遇到這個問題，只需要運行的時候如下&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>如何测试linux的tcp和udp端口</title>
      <link>https://www.airplanecraft.com/zh/posts/linux-tcp-udp-port-test/</link>
      <pubDate>Fri, 02 Jun 2017 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/linux-tcp-udp-port-test/</guid>
      <description>
        
          
            &lt;h2 id=&#34;如何测试linux的tcp和udp端口&#34;&gt;如何测试linux的tcp和udp端口&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;测试tcp 一般用使用 telnet
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;telnet 192.168.12.10 22
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;telnet 不支持udp协议，所以我们可以使用nc,nc可以支持tcp也可以支持udp
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; yum install -y nc
 nc -z -v 192.168.10.12 22 #tcp
 nc -z -v -u 192.168.10.12 123 # udp
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>为什么要使用epel</title>
      <link>https://www.airplanecraft.com/zh/posts/why-epel/</link>
      <pubDate>Mon, 22 May 2017 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/why-epel/</guid>
      <description>
        
          
            &lt;h2 id=&#34;linux-安装包的痛苦经历&#34;&gt;Linux 安装包的痛苦经历&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;libcurl.so: libssh2.so.1: cannot open shared object file: No such file or directory
libssl.so.10: cannot open shared object file: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;如果遇到以上以上情况，libcurl需要libssh2依赖，那我们最希望的最法无非是yum install libssh2 libssl希望能安装好，那就解决了依赖的问题了，但是问题是没有&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Last metadata expiration check: 2:33:40 ago on  18 Mar 2019 02:09:36 PM CST.
No match for argument: libssh2
Error: Unable to find a match: libssh2
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;遇到这样的问题我们一般会去找一个rpm包去安装，通过rpm -ivh libssh2.rpm 发现缺少依赖&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Requires
libc.so.6()(64bit)
libc.so.6(GLIBC_2.14)(64bit)
libc.so.6(GLIBC_2.2.5)(64bit)
libc.so.6(GLIBC_2.3)(64bit)
libc.so.6(GLIBC_2.3.4)(64bit)
libc.so.6(GLIBC_2.4)(64bit)
libcrypto.so.3()(64bit)
libcrypto.so.3(OPENSSL_3.0.0)(64bit)
libssl.so.3()(64bit)
libz.so.1()(64bit)
rpmlib(CompressedFileNames) &amp;lt;= 3.0.4-1
rpmlib(FileDigests) &amp;lt;= 4.6.0-1
rpmlib(PayloadFilesHavePrefix) &amp;lt;= 4.0-1
rpmlib(PayloadIsZstd) &amp;lt;= 5.4.18-1
rtld(GNU_HASH)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;有的依赖可以找到的，但是因为版本问题可能不行，有的找不到需要通过gcc编译，然后一个个解决实在太麻烦了！但是任何一个有经验的centos/redhat的系统工程师都会提前求助于EPEL!&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Openvpn最简单的安装方式</title>
      <link>https://www.airplanecraft.com/zh/posts/linux-openvpn-install/</link>
      <pubDate>Mon, 08 May 2017 12:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/linux-openvpn-install/</guid>
      <description>
        
          
            &lt;h2 id=&#34;为什么会用到vpn&#34;&gt;为什么会用到vpn&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;vpn是我们经常会用到的工具，比如有些程序不允许我们在某些地区下载，有些网站我们没有办法看之类的，我们就vpn不管是pptp还是vpn无非改变都是路由问题，也就是你上网的出口的问题&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;openvpn&#34;&gt;openvpn&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;openvpn是一款开源vpn软件，功能非常强大，用户非常多，遵循的是openvpn协议&lt;/li&gt;
&lt;li&gt;缺点搭建有些复杂，但是有第三方的脚本协助搭建会非常简单&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;openvpn搭建借助于第三方脚本&#34;&gt;openvpn搭建借助于第三方脚本&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;作者git：https://github.com/Nyr/openvpn-install&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;wget https://git.io/vpn -O openvpn-install.sh &amp;amp;&amp;amp; bash openvpn-install.sh
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;最后生成一个*.ovpn文件&lt;/li&gt;
&lt;li&gt;下载并安装openvpn gui：https://openvpn.net/community-downloads/&lt;/li&gt;
&lt;li&gt;用安装好的客户端打开*.ovpn就可以登录远程的vpn服务器了&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>python一些集合</title>
      <link>https://www.airplanecraft.com/zh/posts/pythyon_collection/</link>
      <pubDate>Thu, 04 May 2017 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/pythyon_collection/</guid>
      <description>
        
          
            &lt;h3 id=&#34;python-面試題目&#34;&gt;Python 面試題目&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;列表（list）和元组（tuple）有什么区别？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;列表是可变的。创建后可以对其进行修改&lt;/li&gt;
&lt;li&gt;元组是不可变的。元组一旦创建，就不能对其进行更改&lt;/li&gt;
&lt;li&gt;列表表示的是顺序。它们是有序序列，通常是同一类型的对象 [&amp;ldquo;APPLE&amp;rdquo;,&amp;ldquo;PEAR&amp;rdquo;,&amp;ldquo;ORANGE&amp;rdquo;]&lt;/li&gt;
&lt;li&gt;元组表示的是结构。可以用来存储不同数据类型的元素 [1,&amp;ldquo;eric&amp;rdquo;,1999-08-10,24]&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;什么是装饰器（decorator）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;解释Range函数&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;解释map函数的工作原理&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;解释reduce函数的工作原理。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;解释filter函数的工作原理&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python是按引用调用还是按值调用？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;列表乘法是如何工作的?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;类中的“self”指的是什么？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如何在Python中连接列表？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;列表和数组有什么区别？ list vs array&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pandas&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;举出几个可变和不可变对象的例子&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;模块（module）和包（package）有什么区别？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在迭代序列时，为什么要使用enumerate？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;pass、continue和break之间有什么区别?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如何将for循环转换为使用递推式构造列表（list comprehension）？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python中的异常处理是如何进行的？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;什么是__init__?__init__是Python中的方法或者结构。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;什么是lambda函数？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python中的self是什么？self是类的实例或对象。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python中的函数方法是什么？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;python中是否需要缩进？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;python是否区分大小写？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python中的局部变量和全局变量是什么？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;什么是python模块？Python中有哪些常用的内置模块？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python中的命名空间是什么？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如何在Python中管理内存？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;什么是pep？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;这两个参数是什么意思：*args，**kwargs？我们为什么要使用它们？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;简要描述Python的垃圾回收机制（garbage collection）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python多线程（multi-threading） 多进程(multi-process)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;说明os,sys模块不同，并列举常用的模块方法？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python里面如何拷贝一个对象？ 浅拷贝深拷贝&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;__new__和__init__的区别。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python中单下划线和双下划线分别是什么？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;说一说Python自省 反射&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;“猴子补丁”（monkey patching）指的是什么？这种做法好吗？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下面这些是什么意思：@classmethod, @staticmethod, @property？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python 中类方法、类实例方法、静态方法有何区别？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python 中如何动态获取和设置对象的属性？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python 的内存管理机制及调优手段？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;内存泄露是什么？如何避免？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;为什么函数名字可以当做参数用?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;回调函数，如何通信的?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python 主要的内置数据类型都有哪些？print dir( ‘a ’) 的输出？&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>Ansible简介</title>
      <link>https://www.airplanecraft.com/zh/posts/ansible-devops-tools/</link>
      <pubDate>Mon, 06 Mar 2017 11:40:00 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/ansible-devops-tools/</guid>
      <description>
        
          
            &lt;h2 id=&#34;ansible-简介&#34;&gt;Ansible 简介&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt; ansible是基于Python开发，集合了众多运维工具（puppet、chef）的优点，实现了批量系统配置、批量程序部署、批量运行命令等功能。最大的特点就是ansible不需要在远程主机上安装client/agents，因为它们是基于ssh来和远程主机通讯的。ansible目前已经已经被红帽官方收购，是自动化运维工具中大家认可度最高的，并且上手容易，学习简单。是每位运维工程师必须掌握的技能之一。
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;特点&#34;&gt;特点&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;部署简单，只需在主控端部署Ansible环境，被控端无需做任何操作；&lt;/li&gt;
&lt;li&gt;默认使用SSH协议对设备进行管理；&lt;/li&gt;
&lt;li&gt;有大量常规运维操作模块，可实现日常绝大部分操作；&lt;/li&gt;
&lt;li&gt;配置简单、功能强大、扩展性强；&lt;/li&gt;
&lt;li&gt;支持API及自定义模块，可通过Python轻松扩展；&lt;/li&gt;
&lt;li&gt;通过Playbooks来定制强大的配置、状态管理；&lt;/li&gt;
&lt;li&gt;轻量级，无需在客户端安装agent，更新时，只需在操作机上进行一次更新即可；&lt;/li&gt;
&lt;li&gt;提供一个功能强大、操作性强的Web管理界面和REST API接口——AWX平台。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;任务执行方式&#34;&gt;任务执行方式&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ad-hoc模式(点对点模式)&lt;/p&gt;
&lt;p&gt;使用单个模块，支持批量执行单条命令。ad-hoc 命令是一种可以快速输入的命令，而且不需要保存起来的命令。就相当于bash中的一句话shell。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;playbook模式&lt;/p&gt;
&lt;p&gt;是Ansible主要管理方式，也是Ansible功能强大的关键所在。playbook通过多个task集合完成一类功能.比如我们拷贝一个文件到主机，然后授予权限，然后启动程序这几个步骤结合在一起&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;aansbile-文件和命令&#34;&gt;Aansbile 文件和命令&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ansible.cfg&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  inventory = /etc/ansible/hosts		#这个参数表示资源清单inventory文件的位置
	library = /usr/share/ansible		#指向存放Ansible模块的目录，支持多个目录方式，只要用冒号（：）隔开就可以
	forks = 5		#并发连接数，默认为5
	sudo_user = root		#设置默认执行命令的用户
	remote_port = 22		#指定连接被管节点的管理端口，默认为22端口，建议修改，能够更加安全
	host_key_checking = False		#设置是否检查SSH主机的密钥，值为True/False。关闭后第一次连接不会提示配置实例
	timeout = 60		#设置SSH连接的超时时间，单位为秒
	log_path = /var/log/ansible.log		#指定一个存储ansible日志的文件（默认不记录日志）
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;inventory 文件&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;不分组&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;IP1
IP2
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;OR 主机组&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[HOSTGRUPXX]
IP1
IP2
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;命令&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;/usr/bin/ansible　　Ansibe AD-Hoc 临时命令执行工具，常用于临时命令的执行
/usr/bin/ansible-doc 　　Ansible 模块功能查看工具
/usr/bin/ansible-galaxy　　下载/上传优秀代码或Roles模块 的官网平台，基于网络的
/usr/bin/ansible-playbook　　Ansible 定制自动化的任务集编排工具
/usr/bin/ansible-pull　　Ansible远程执行命令的工具，拉取配置而非推送配置（使用较少，海量机器时使用，对运维的架构能力要求较高）
/usr/bin/ansible-vault　　Ansible 文件加密工具
/usr/bin/ansible-console　　Ansible基于Linux Consoble界面可与用户交互的命令执行工具

其中，我们比较常用的是/usr/bin/ansible和/usr/bin/ansible-playbook。
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;例子&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这个例子非常的简单，就拷贝ssl证书和nginx配置文件到nginx目录下面，然后启动nginx&lt;/p&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>linux最大文件打开数</title>
      <link>https://www.airplanecraft.com/zh/posts/linux-file-max-open/</link>
      <pubDate>Sat, 07 May 2016 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/linux-file-max-open/</guid>
      <description>
        
          
            &lt;h2 id=&#34;文件最大打开数&#34;&gt;文件最大打开数&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;如果服务器提供TCP服务（TCP层或者HTTP层），在并发访问量持续很高时，容易产生too many open files错误。这时查看netstat可以发现很多TIME_WAIT状态的链接，这说明大量链接处于半开状态，已经完成了请求响应，然后进行下一步操作，如果句柄数(文件打开数)超过了阈值，那就只能等待或者出错&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;解决方案&#34;&gt;解决方案&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;系统内核的修改&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cat /proc/sys/fs/file-max

sysctl -a

sysctl -p
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;每个用户级别的修改&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ulimit -n 1024000 (临时修改)
vim /etc/security/limits.conf

*  soft nofile 2048

*  hard nofile 2048
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果阿里云或者aws云里面的centos都是被优化过的，默认的1024都被修改成了65536了，所以对于大部分人来说足够用了&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>linux的tree命令</title>
      <link>https://www.airplanecraft.com/zh/posts/linux-tree/</link>
      <pubDate>Fri, 06 May 2016 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/linux-tree/</guid>
      <description>
        
          
            &lt;h2 id=&#34;linux-tree-command&#34;&gt;linux tree command&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Centos 是默认不带tree 命令的，如果要使用首先要install tree command&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;yum install -y tree
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;使用tree 显示目录的深度为2级&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; tree -L 2
.
├── easy-rsa-old-2.3.3
│   ├── configure.ac
│   ├── COPYING
│   ├── COPYRIGHT.GPL
│   ├── distro
│   ├── doc
│   ├── easy-rsa
│   └── Makefile.am
├── frgs.log
├── frp_0.32.1_linux_amd64
│   ├── frgs.log
│   ├── frpc
│   ├── frpc_full.ini
│   ├── frpc.ini
│   ├── frps
│   ├── frps_full.ini
│   ├── frps.ini
│   ├── frps.log
│   ├── LICENSE
│   ├── nohup.out
│   └── systemd
├── frp_0.32.1_linux_amd64.tar.gz
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>vpn客户端工具pptp介绍</title>
      <link>https://www.airplanecraft.com/zh/posts/pptp-client/</link>
      <pubDate>Wed, 04 May 2016 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/pptp-client/</guid>
      <description>
        
          
            &lt;h2 id=&#34;pptp-安装&#34;&gt;pptp 安装&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;yum install ppp pptp pptp-setup -y&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;创建-链接文件&#34;&gt;创建 链接文件&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;/etc/ppp/peers/pptp&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  pty &amp;#34;pptp 039.9966.org  --nolaunchpppd --debug&amp;#34;
  name hk789
  password ff800800
  remotename PPTP
  require-mppe-128
  require-mschap-v2
  refuse-eap
  refuse-pap
  refuse-chap
  refuse-mschap
  noauth
  debug
  persist
  maxfail 0
  defaultroute
  #replacedefaultroute
  #usepeerdns
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;执行命令&#34;&gt;执行命令&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; modprobe nf_conntrack_pptp
 pppd call pptp
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>lvm空间扩容</title>
      <link>https://www.airplanecraft.com/zh/posts/linux-lvm-resize/</link>
      <pubDate>Wed, 20 Apr 2016 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/linux-lvm-resize/</guid>
      <description>
        
          
            &lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[root@localhost ~]# df -H
Filesystem               Size  Used Avail Use% Mounted on
devtmpfs                  17G     0   17G   0% /dev
tmpfs                     17G     0   17G   0% /dev/shm
tmpfs                     17G  9.1M   17G   1% /run
tmpfs                     17G     0   17G   0% /sys/fs/cgroup
/dev/mapper/centos-root   54G  1.4G   53G   3% /
/dev/sda2                1.1G  148M  916M  14% /boot
/dev/sda1                210M   12M  198M   6% /boot/efi
/dev/mapper/centos-home   12T   35M   12T   1% /home
tmpfs                    3.4G     0  3.4G   0% /run/user/0
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;分区不够合理 root 下面空间不够用&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;umount /home

lvreduce -L 5T /dev/mapper/centos-home

lvextend -L +5T /dev/mapper/centos-root

xfs_growfs /dev/mapper/centos-root

mkfs.xfs -f /dev/mapper/centos-home

mount /home
&lt;/code&gt;&lt;/pre&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>centos使用ssh-key免密登录</title>
      <link>https://www.airplanecraft.com/zh/posts/linux-key-gen/</link>
      <pubDate>Sun, 03 Apr 2016 10:30:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/linux-key-gen/</guid>
      <description>
        
          
            &lt;h2 id=&#34;centos-ssh-login-免密码登录&#34;&gt;centos ssh login 免密码登录&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;修改linux主机sshd配置&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;vi /etc/ssh/sshd_config 
  RSAAuthentication yes 
  PubkeyAuthentication yes 
  AuthorizedKeysFile .ssh/authorized_keys 
/sbin/service sshd restart 
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;生成密钥,包括 id_rsa私钥，id_rsa.pub公钥&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; ssh-keygen -t rsa 
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;更改文件名&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; mv ~/.ssh/id_rsa.pub ~/.ssh/authorized_keys
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;拷贝id_rsa文件内容到任何一个linux客户端,remote.pem,使用ssh登录&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ssh -i remote.pem user@host
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>jvm参数优化</title>
      <link>https://www.airplanecraft.com/zh/posts/jvm-optimize-related/</link>
      <pubDate>Fri, 26 Jun 2015 12:40:37 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/jvm-optimize-related/</guid>
      <description>
        
          
            &lt;h3 id=&#34;相关链接&#34;&gt;相关链接&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.csdn.net/lingbo229/article/details/82586822&#34;&gt;https://blog.csdn.net/lingbo229/article/details/82586822&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.iteye.com/blog/kakaluyi-774227&#34;&gt;https://www.iteye.com/blog/kakaluyi-774227&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.csdn.net/qq_44831907/article/details/113342146&#34;&gt;https://blog.csdn.net/qq_44831907/article/details/113342146&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cnblogs.com/jpfss/p/11050411.html&#34;&gt;https://www.cnblogs.com/jpfss/p/11050411.html&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
          
          
        
      </description>
    </item>
    
    <item>
      <title>jenkins简介</title>
      <link>https://www.airplanecraft.com/zh/posts/jenkins-devops-tools/</link>
      <pubDate>Wed, 06 May 2015 11:40:00 +0800</pubDate>
      
      <guid>https://www.airplanecraft.com/zh/posts/jenkins-devops-tools/</guid>
      <description>
        
          
            &lt;h2 id=&#34;什么是ci和cd&#34;&gt;什么是CI和CD&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;CI(Continuous integration，中文意思是持续集成)/  CD(Continuous Delivery， 中文意思持续交付)
CI/CD 是一种通过在应用开发阶段引入自动化来频繁向客户交付应用的方法。
CI/CD 的核心概念是持续集成、持续交付和持续部署。它是作为一个面向开发和运营团队的解决方案，主要针对在集成新代码时所引发的问题（也称为：“集成地狱”）。
CI/CD 可让持续自动化和持续监控贯穿于应用的整个生命周期（从集成和测试阶段，到交付和部署）。
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;jenkins简介&#34;&gt;jenkins简介&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;    Jenkins是一个开源的、提供友好操作界面的持续集成(CI)工具，起源于Hudson（Hudson是商用的），主要用于持续、自动的构建/测试软件项目、监控外部任务的运行（这个比较抽象，暂且写上，不做解释）。Jenkins用Java语言编写，可在Tomcat等流行的servlet容器中运行，也可独立运行。通常与版本管理工具(SCM)、构建工具结合使用。可集成使用版本控制工具有SVN、GIT，以及构建工具有Maven、Ant、Gradle。
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;特点&#34;&gt;特点&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;易于安装-只要把jenkins.war部署到servlet容器，不需要数据库支持&lt;/li&gt;
&lt;li&gt;易于配置-所有配置都是通过其提供的web界面实现；&lt;/li&gt;
&lt;li&gt;有大量的插件可以配置使用,比如email通知结果,git,maven&lt;/li&gt;
&lt;li&gt;附带了很多其他的功能比如用户密码的加密&lt;/li&gt;
&lt;li&gt;可以支持备份,迁移,升级&lt;/li&gt;
&lt;li&gt;还可以通过完全编程的方式Jenkinsfile,devops来实现纯代码的方式完全CI/CD&lt;/li&gt;
&lt;li&gt;可以支持分布式的多个slave agent&lt;/li&gt;
&lt;li&gt;可以保存每次build日志方便查阅&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;cicd-优势&#34;&gt;CI/CD 优势&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;1. 持续集成中的任何一个环节都是自动完成的，无需太多的人工干预，有利于减少重复过程以节省时间、费用和工作量
2. 持续集成保障了每个时间点上团队成员提交的代码是能成功集成的。换言之，任何时间点都能第一时间发现软件的集成问题，使任意时间发布可部署的软件成为了可能
3. CI/CD 具有高度的自动化 就是减少人工操作的事务，可以通过预先准备的脚本一次性运行，是我们内部或者外部用户，得到用户对于新版本的快速反馈，并且可以迅速处理任何明显的缺陷.
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;放几张图&#34;&gt;放几张图&lt;/h2&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;cicd&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/cicd.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;
  &lt;picture&gt;

    
      
        
        
        
        
        
        
    &lt;img
      loading=&#34;lazy&#34;
      decoding=&#34;async&#34;
      alt=&#34;jenkins&#34;
      
        class=&#34;image_figure image_internal image_unprocessed&#34;
        src=&#34;https://www.airplanecraft.com/images/jenkins.png&#34;
      
      
    /&gt;

    &lt;/picture&gt;
&lt;/figure&gt;
&lt;/p&gt;
          
          
        
      </description>
    </item>
    
  </channel>
</rss>
